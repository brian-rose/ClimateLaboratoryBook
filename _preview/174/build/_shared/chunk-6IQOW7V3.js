import{a as hr}from"/ClimateLaboratoryBook/_preview/174/build/_shared/chunk-3CVK3PYF.js";import{A as ui,B as M,E as ai,a as li,b as q,c as X,e as be,j as si,s as V,z as Ue}from"/ClimateLaboratoryBook/_preview/174/build/_shared/chunk-ND43KHSX.js";import{e as dr}from"/ClimateLaboratoryBook/_preview/174/build/_shared/chunk-2NH4LW52.js";function mr(e="node"){return{class:{type:String,doc:`Annotate the ${e} with a set of space-delimited class names.`}}}function gr(e="node"){return{label:{type:String,alias:["name"],doc:`Label the ${e} to be cross-referenced or explicitly linked to.`}}}function _r(e="node"){return{enumerated:{type:Boolean,alias:["numbered"],doc:`Turn on/off the numbering for the specific ${e}`},enumerator:{type:String,alias:["number"],doc:`Explicitly set the ${e} number`}}}function b(e="node"){return{...mr(e),...gr(e),..._r(e)}}function yr(e,i){var n;return typeof((n=e.options)===null||n===void 0?void 0:n.class)=="string"&&(i.class=e.options.class),i}function vr(e,i){var n;let{label:r,identifier:t}=be((n=e.options)===null||n===void 0?void 0:n.label)||{};return r&&(i.label=r),t&&(i.identifier=t),i}function xr(e,i){var n,r;return typeof((n=e.options)===null||n===void 0?void 0:n.enumerated)=="boolean"&&(i.enumerated=e.options.enumerated),!((r=e.options)===null||r===void 0)&&r.enumerator&&(i.enumerator=e.options.enumerator),i}function v(e,i){return yr(e,i),vr(e,i),xr(e,i),i}var ci={name:"admonition",doc:'Callouts, or "admonitions", highlight a particular block of text that exists slightly apart from the narrative of your page, such as a note or a warning. \n\n The admonition kind can be determined by the directive name used (e.g. `:::{tip}` or `:::{note}`).',alias:["attention","caution","danger","error","important","hint","note","seealso","tip","warning"],arg:{type:"myst",doc:`The optional title of the admonition, if not supplied the admonition kind will be used.

Note that the argument parsing is different from Sphinx, which does not allow named admonitions to have custom titles.`},options:{...b("admonition"),class:{type:String,doc:'CSS classes to add to your admonition. Special classes include:\n\n- `dropdown`: turns the admonition into a `<details>` html element\n- `simple`: an admonition with "simple" styles\n- the name of an admonition, the first valid admonition name encountered will be used (e.g. `tip`). Note that if you provide conflicting class names, the first valid admonition name will be used.'},icon:{type:Boolean,doc:"Setting icon to false will hide the icon."},open:{type:Boolean,doc:"Turn the admonition into a dropdown, if it isn't already, and set the open state."}},body:{type:"myst",doc:"The body of the admonition. If there is no title and the body starts with bold text or a heading, that content will be used as the admonition title."},run(e){var i,n,r,t,l;let o=[];e.arg&&o.push({type:e.body?"admonitionTitle":"paragraph",children:e.arg}),e.body&&o.push(...e.body);let s={type:"admonition",kind:e.name!=="admonition"?e.name:void 0,children:o};return((i=e.options)===null||i===void 0?void 0:i.icon)===!1&&(s.icon=!1),v(e,s),typeof((n=e.options)===null||n===void 0?void 0:n.open)=="boolean"&&(!((r=s.class)===null||r===void 0)&&r.split(" ").includes("dropdown")||(s.class=`${(t=s.class)!==null&&t!==void 0?t:""} dropdown`.trim()),!((l=e.options)===null||l===void 0)&&l.open&&(s.open=!0)),[s]}};var fi={name:"bibliography",options:{...b("bibliography"),filter:{type:String}},run(e){var i;let n={type:"bibliography",filter:(i=e.options)===null||i===void 0?void 0:i.filter};return v(e,n),[n]}};function Ii(e){return typeof e>"u"||e===null}function wr(e){return typeof e=="object"&&e!==null}function br(e){return Array.isArray(e)?e:Ii(e)?[]:[e]}function Ar(e,i){var n,r,t,l;if(i)for(l=Object.keys(i),n=0,r=l.length;n<r;n+=1)t=l[n],e[t]=i[t];return e}function Sr(e,i){var n="",r;for(r=0;r<i;r+=1)n+=e;return n}function Er(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Cr=Ii,Ir=wr,Or=br,Tr=Sr,Dr=Er,Fr=Ar,D={isNothing:Cr,isObject:Ir,toArray:Or,repeat:Tr,isNegativeZero:Dr,extend:Fr};function Oi(e,i){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!i&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function me(e,i){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=i,this.message=Oi(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}me.prototype=Object.create(Error.prototype);me.prototype.constructor=me;me.prototype.toString=function(i){return this.name+": "+Oi(this,i)};var B=me;function Pe(e,i,n,r,t){var l="",o="",s=Math.floor(t/2)-1;return r-i>s&&(l=" ... ",i=r-s+l.length),n-r>s&&(o=" ...",n=r+s-o.length),{str:l+e.slice(i,n).replace(/\t/g,"\u2192")+o,pos:r-i+l.length}}function qe(e,i){return D.repeat(" ",i-e.length)+e}function Nr(e,i){if(i=Object.create(i||null),!e.buffer)return null;i.maxLength||(i.maxLength=79),typeof i.indent!="number"&&(i.indent=1),typeof i.linesBefore!="number"&&(i.linesBefore=3),typeof i.linesAfter!="number"&&(i.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],t=[],l,o=-1;l=n.exec(e.buffer);)t.push(l.index),r.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var s="",u,a,f=Math.min(e.line+i.linesAfter,t.length).toString().length,c=i.maxLength-(i.indent+f+3);for(u=1;u<=i.linesBefore&&!(o-u<0);u++)a=Pe(e.buffer,r[o-u],t[o-u],e.position-(r[o]-r[o-u]),c),s=D.repeat(" ",i.indent)+qe((e.line-u+1).toString(),f)+" | "+a.str+`
`+s;for(a=Pe(e.buffer,r[o],t[o],e.position,c),s+=D.repeat(" ",i.indent)+qe((e.line+1).toString(),f)+" | "+a.str+`
`,s+=D.repeat("-",i.indent+f+3+a.pos)+`^
`,u=1;u<=i.linesAfter&&!(o+u>=t.length);u++)a=Pe(e.buffer,r[o+u],t[o+u],e.position-(r[o]-r[o+u]),c),s+=D.repeat(" ",i.indent)+qe((e.line+u+1).toString(),f)+" | "+a.str+`
`;return s.replace(/\n$/,"")}var Rr=Nr,kr=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Lr=["scalar","sequence","mapping"];function Br(e){var i={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){i[String(r)]=n})}),i}function Mr(e,i){if(i=i||{},Object.keys(i).forEach(function(n){if(kr.indexOf(n)===-1)throw new B('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=i,this.tag=e,this.kind=i.kind||null,this.resolve=i.resolve||function(){return!0},this.construct=i.construct||function(n){return n},this.instanceOf=i.instanceOf||null,this.predicate=i.predicate||null,this.represent=i.represent||null,this.representName=i.representName||null,this.defaultStyle=i.defaultStyle||null,this.multi=i.multi||!1,this.styleAliases=Br(i.styleAliases||null),Lr.indexOf(this.kind)===-1)throw new B('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var N=Mr;function pi(e,i){var n=[];return e[i].forEach(function(r){var t=n.length;n.forEach(function(l,o){l.tag===r.tag&&l.kind===r.kind&&l.multi===r.multi&&(t=o)}),n[t]=r}),n}function Ur(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},i,n;function r(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(i=0,n=arguments.length;i<n;i+=1)arguments[i].forEach(r);return e}function $e(e){return this.extend(e)}$e.prototype.extend=function(i){var n=[],r=[];if(i instanceof N)r.push(i);else if(Array.isArray(i))r=r.concat(i);else if(i&&(Array.isArray(i.implicit)||Array.isArray(i.explicit)))i.implicit&&(n=n.concat(i.implicit)),i.explicit&&(r=r.concat(i.explicit));else throw new B("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(l){if(!(l instanceof N))throw new B("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new B("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new B("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(l){if(!(l instanceof N))throw new B("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var t=Object.create($e.prototype);return t.implicit=(this.implicit||[]).concat(n),t.explicit=(this.explicit||[]).concat(r),t.compiledImplicit=pi(t,"implicit"),t.compiledExplicit=pi(t,"explicit"),t.compiledTypeMap=Ur(t.compiledImplicit,t.compiledExplicit),t};var Ti=$e,Di=new N("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Fi=new N("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Ni=new N("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ri=new Ti({explicit:[Di,Fi,Ni]});function Pr(e){if(e===null)return!0;var i=e.length;return i===1&&e==="~"||i===4&&(e==="null"||e==="Null"||e==="NULL")}function qr(){return null}function Yr(e){return e===null}var ki=new N("tag:yaml.org,2002:null",{kind:"scalar",resolve:Pr,construct:qr,predicate:Yr,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function $r(e){if(e===null)return!1;var i=e.length;return i===4&&(e==="true"||e==="True"||e==="TRUE")||i===5&&(e==="false"||e==="False"||e==="FALSE")}function jr(e){return e==="true"||e==="True"||e==="TRUE"}function Vr(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Li=new N("tag:yaml.org,2002:bool",{kind:"scalar",resolve:$r,construct:jr,predicate:Vr,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Hr(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Jr(e){return 48<=e&&e<=55}function zr(e){return 48<=e&&e<=57}function Qr(e){if(e===null)return!1;var i=e.length,n=0,r=!1,t;if(!i)return!1;if(t=e[n],(t==="-"||t==="+")&&(t=e[++n]),t==="0"){if(n+1===i)return!0;if(t=e[++n],t==="b"){for(n++;n<i;n++)if(t=e[n],t!=="_"){if(t!=="0"&&t!=="1")return!1;r=!0}return r&&t!=="_"}if(t==="x"){for(n++;n<i;n++)if(t=e[n],t!=="_"){if(!Hr(e.charCodeAt(n)))return!1;r=!0}return r&&t!=="_"}if(t==="o"){for(n++;n<i;n++)if(t=e[n],t!=="_"){if(!Jr(e.charCodeAt(n)))return!1;r=!0}return r&&t!=="_"}}if(t==="_")return!1;for(;n<i;n++)if(t=e[n],t!=="_"){if(!zr(e.charCodeAt(n)))return!1;r=!0}return!(!r||t==="_")}function Gr(e){var i=e,n=1,r;if(i.indexOf("_")!==-1&&(i=i.replace(/_/g,"")),r=i[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),i=i.slice(1),r=i[0]),i==="0")return 0;if(r==="0"){if(i[1]==="b")return n*parseInt(i.slice(2),2);if(i[1]==="x")return n*parseInt(i.slice(2),16);if(i[1]==="o")return n*parseInt(i.slice(2),8)}return n*parseInt(i,10)}function Wr(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!D.isNegativeZero(e)}var Bi=new N("tag:yaml.org,2002:int",{kind:"scalar",resolve:Qr,construct:Gr,predicate:Wr,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Kr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Xr(e){return!(e===null||!Kr.test(e)||e[e.length-1]==="_")}function Zr(e){var i,n;return i=e.replace(/_/g,"").toLowerCase(),n=i[0]==="-"?-1:1,"+-".indexOf(i[0])>=0&&(i=i.slice(1)),i===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:i===".nan"?NaN:n*parseFloat(i,10)}var et=/^[-+]?[0-9]+e/;function it(e,i){var n;if(isNaN(e))switch(i){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(i){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(i){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(D.isNegativeZero(e))return"-0.0";return n=e.toString(10),et.test(n)?n.replace("e",".e"):n}function nt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||D.isNegativeZero(e))}var Mi=new N("tag:yaml.org,2002:float",{kind:"scalar",resolve:Xr,construct:Zr,predicate:nt,represent:it,defaultStyle:"lowercase"}),Ui=Ri.extend({implicit:[ki,Li,Bi,Mi]}),Pi=Ui,qi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Yi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function rt(e){return e===null?!1:qi.exec(e)!==null||Yi.exec(e)!==null}function tt(e){var i,n,r,t,l,o,s,u=0,a=null,f,c,d;if(i=qi.exec(e),i===null&&(i=Yi.exec(e)),i===null)throw new Error("Date resolve error");if(n=+i[1],r=+i[2]-1,t=+i[3],!i[4])return new Date(Date.UTC(n,r,t));if(l=+i[4],o=+i[5],s=+i[6],i[7]){for(u=i[7].slice(0,3);u.length<3;)u+="0";u=+u}return i[9]&&(f=+i[10],c=+(i[11]||0),a=(f*60+c)*6e4,i[9]==="-"&&(a=-a)),d=new Date(Date.UTC(n,r,t,l,o,s,u)),a&&d.setTime(d.getTime()-a),d}function ot(e){return e.toISOString()}var $i=new N("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:rt,construct:tt,instanceOf:Date,represent:ot});function lt(e){return e==="<<"||e===null}var ji=new N("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lt}),ze=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function st(e){if(e===null)return!1;var i,n,r=0,t=e.length,l=ze;for(n=0;n<t;n++)if(i=l.indexOf(e.charAt(n)),!(i>64)){if(i<0)return!1;r+=6}return r%8===0}function ut(e){var i,n,r=e.replace(/[\r\n=]/g,""),t=r.length,l=ze,o=0,s=[];for(i=0;i<t;i++)i%4===0&&i&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|l.indexOf(r.charAt(i));return n=t%4*6,n===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):n===18?(s.push(o>>10&255),s.push(o>>2&255)):n===12&&s.push(o>>4&255),new Uint8Array(s)}function at(e){var i="",n=0,r,t,l=e.length,o=ze;for(r=0;r<l;r++)r%3===0&&r&&(i+=o[n>>18&63],i+=o[n>>12&63],i+=o[n>>6&63],i+=o[n&63]),n=(n<<8)+e[r];return t=l%3,t===0?(i+=o[n>>18&63],i+=o[n>>12&63],i+=o[n>>6&63],i+=o[n&63]):t===2?(i+=o[n>>10&63],i+=o[n>>4&63],i+=o[n<<2&63],i+=o[64]):t===1&&(i+=o[n>>2&63],i+=o[n<<4&63],i+=o[64],i+=o[64]),i}function ct(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Vi=new N("tag:yaml.org,2002:binary",{kind:"scalar",resolve:st,construct:ut,predicate:ct,represent:at}),ft=Object.prototype.hasOwnProperty,pt=Object.prototype.toString;function dt(e){if(e===null)return!0;var i=[],n,r,t,l,o,s=e;for(n=0,r=s.length;n<r;n+=1){if(t=s[n],o=!1,pt.call(t)!=="[object Object]")return!1;for(l in t)if(ft.call(t,l))if(!o)o=!0;else return!1;if(!o)return!1;if(i.indexOf(l)===-1)i.push(l);else return!1}return!0}function ht(e){return e!==null?e:[]}var Hi=new N("tag:yaml.org,2002:omap",{kind:"sequence",resolve:dt,construct:ht}),mt=Object.prototype.toString;function gt(e){if(e===null)return!0;var i,n,r,t,l,o=e;for(l=new Array(o.length),i=0,n=o.length;i<n;i+=1){if(r=o[i],mt.call(r)!=="[object Object]"||(t=Object.keys(r),t.length!==1))return!1;l[i]=[t[0],r[t[0]]]}return!0}function _t(e){if(e===null)return[];var i,n,r,t,l,o=e;for(l=new Array(o.length),i=0,n=o.length;i<n;i+=1)r=o[i],t=Object.keys(r),l[i]=[t[0],r[t[0]]];return l}var Ji=new N("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:gt,construct:_t}),yt=Object.prototype.hasOwnProperty;function vt(e){if(e===null)return!0;var i,n=e;for(i in n)if(yt.call(n,i)&&n[i]!==null)return!1;return!0}function xt(e){return e!==null?e:{}}var zi=new N("tag:yaml.org,2002:set",{kind:"mapping",resolve:vt,construct:xt}),Qe=Pi.extend({implicit:[$i,ji],explicit:[Vi,Hi,Ji,zi]}),ee=Object.prototype.hasOwnProperty,Ae=1,Qi=2,Gi=3,Se=4,Ye=1,wt=2,di=3,bt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,At=/[\x85\u2028\u2029]/,St=/[,\[\]\{\}]/,Wi=/^(?:!|!!|![a-z\-]+!)$/i,Ki=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function hi(e){return Object.prototype.toString.call(e)}function H(e){return e===10||e===13}function oe(e){return e===9||e===32}function U(e){return e===9||e===32||e===10||e===13}function ue(e){return e===44||e===91||e===93||e===123||e===125}function Et(e){var i;return 48<=e&&e<=57?e-48:(i=e|32,97<=i&&i<=102?i-97+10:-1)}function Ct(e){return e===120?2:e===117?4:e===85?8:0}function It(e){return 48<=e&&e<=57?e-48:-1}function mi(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Ot(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Xi=new Array(256),Zi=new Array(256);for(te=0;te<256;te++)Xi[te]=mi(te)?1:0,Zi[te]=mi(te);var te;function Tt(e,i){this.input=e,this.filename=i.filename||null,this.schema=i.schema||Qe,this.onWarning=i.onWarning||null,this.legacy=i.legacy||!1,this.json=i.json||!1,this.listener=i.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function en(e,i){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Rr(n),new B(i,n)}function y(e,i){throw en(e,i)}function Ee(e,i){e.onWarning&&e.onWarning.call(null,en(e,i))}var gi={YAML:function(i,n,r){var t,l,o;i.version!==null&&y(i,"duplication of %YAML directive"),r.length!==1&&y(i,"YAML directive accepts exactly one argument"),t=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),t===null&&y(i,"ill-formed argument of the YAML directive"),l=parseInt(t[1],10),o=parseInt(t[2],10),l!==1&&y(i,"unacceptable YAML version of the document"),i.version=r[0],i.checkLineBreaks=o<2,o!==1&&o!==2&&Ee(i,"unsupported YAML version of the document")},TAG:function(i,n,r){var t,l;r.length!==2&&y(i,"TAG directive accepts exactly two arguments"),t=r[0],l=r[1],Wi.test(t)||y(i,"ill-formed tag handle (first argument) of the TAG directive"),ee.call(i.tagMap,t)&&y(i,'there is a previously declared suffix for "'+t+'" tag handle'),Ki.test(l)||y(i,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{y(i,"tag prefix is malformed: "+l)}i.tagMap[t]=l}};function Z(e,i,n,r){var t,l,o,s;if(i<n){if(s=e.input.slice(i,n),r)for(t=0,l=s.length;t<l;t+=1)o=s.charCodeAt(t),o===9||32<=o&&o<=1114111||y(e,"expected valid JSON character");else bt.test(s)&&y(e,"the stream contains non-printable characters");e.result+=s}}function _i(e,i,n,r){var t,l,o,s;for(D.isObject(n)||y(e,"cannot merge mappings; the provided source object is unacceptable"),t=Object.keys(n),o=0,s=t.length;o<s;o+=1)l=t[o],ee.call(i,l)||(i[l]=n[l],r[l]=!0)}function ae(e,i,n,r,t,l,o,s,u){var a,f;if(Array.isArray(t))for(t=Array.prototype.slice.call(t),a=0,f=t.length;a<f;a+=1)Array.isArray(t[a])&&y(e,"nested arrays are not supported inside keys"),typeof t=="object"&&hi(t[a])==="[object Object]"&&(t[a]="[object Object]");if(typeof t=="object"&&hi(t)==="[object Object]"&&(t="[object Object]"),t=String(t),i===null&&(i={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(a=0,f=l.length;a<f;a+=1)_i(e,i,l[a],n);else _i(e,i,l,n);else!e.json&&!ee.call(n,t)&&ee.call(i,t)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,y(e,"duplicated mapping key")),t==="__proto__"?Object.defineProperty(i,t,{configurable:!0,enumerable:!0,writable:!0,value:l}):i[t]=l,delete n[t];return i}function Ge(e){var i;i=e.input.charCodeAt(e.position),i===10?e.position++:i===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):y(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function T(e,i,n){for(var r=0,t=e.input.charCodeAt(e.position);t!==0;){for(;oe(t);)t===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),t=e.input.charCodeAt(++e.position);if(i&&t===35)do t=e.input.charCodeAt(++e.position);while(t!==10&&t!==13&&t!==0);if(H(t))for(Ge(e),t=e.input.charCodeAt(e.position),r++,e.lineIndent=0;t===32;)e.lineIndent++,t=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Ee(e,"deficient indentation"),r}function Oe(e){var i=e.position,n;return n=e.input.charCodeAt(i),!!((n===45||n===46)&&n===e.input.charCodeAt(i+1)&&n===e.input.charCodeAt(i+2)&&(i+=3,n=e.input.charCodeAt(i),n===0||U(n)))}function We(e,i){i===1?e.result+=" ":i>1&&(e.result+=D.repeat(`
`,i-1))}function Dt(e,i,n){var r,t,l,o,s,u,a,f,c=e.kind,d=e.result,h;if(h=e.input.charCodeAt(e.position),U(h)||ue(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(t=e.input.charCodeAt(e.position+1),U(t)||n&&ue(t)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,s=!1;h!==0;){if(h===58){if(t=e.input.charCodeAt(e.position+1),U(t)||n&&ue(t))break}else if(h===35){if(r=e.input.charCodeAt(e.position-1),U(r))break}else{if(e.position===e.lineStart&&Oe(e)||n&&ue(h))break;if(H(h))if(u=e.line,a=e.lineStart,f=e.lineIndent,T(e,!1,-1),e.lineIndent>=i){s=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=a,e.lineIndent=f;break}}s&&(Z(e,l,o,!1),We(e,e.line-u),l=o=e.position,s=!1),oe(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return Z(e,l,o,!1),e.result?!0:(e.kind=c,e.result=d,!1)}function Ft(e,i){var n,r,t;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=t=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Z(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,t=e.position;else return!0;else H(n)?(Z(e,r,t,!0),We(e,T(e,!1,i)),r=t=e.position):e.position===e.lineStart&&Oe(e)?y(e,"unexpected end of the document within a single quoted scalar"):(e.position++,t=e.position);y(e,"unexpected end of the stream within a single quoted scalar")}function Nt(e,i){var n,r,t,l,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Z(e,n,e.position,!0),e.position++,!0;if(s===92){if(Z(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),H(s))T(e,!1,i);else if(s<256&&Xi[s])e.result+=Zi[s],e.position++;else if((o=Ct(s))>0){for(t=o,l=0;t>0;t--)s=e.input.charCodeAt(++e.position),(o=Et(s))>=0?l=(l<<4)+o:y(e,"expected hexadecimal character");e.result+=Ot(l),e.position++}else y(e,"unknown escape sequence");n=r=e.position}else H(s)?(Z(e,n,r,!0),We(e,T(e,!1,i)),n=r=e.position):e.position===e.lineStart&&Oe(e)?y(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}y(e,"unexpected end of the stream within a double quoted scalar")}function Rt(e,i){var n=!0,r,t,l,o=e.tag,s,u=e.anchor,a,f,c,d,h,g=Object.create(null),m,x,A,_;if(_=e.input.charCodeAt(e.position),_===91)f=93,h=!1,s=[];else if(_===123)f=125,h=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),_=e.input.charCodeAt(++e.position);_!==0;){if(T(e,!0,i),_=e.input.charCodeAt(e.position),_===f)return e.position++,e.tag=o,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=s,!0;n?_===44&&y(e,"expected the node content, but found ','"):y(e,"missed comma between flow collection entries"),x=m=A=null,c=d=!1,_===63&&(a=e.input.charCodeAt(e.position+1),U(a)&&(c=d=!0,e.position++,T(e,!0,i))),r=e.line,t=e.lineStart,l=e.position,ce(e,i,Ae,!1,!0),x=e.tag,m=e.result,T(e,!0,i),_=e.input.charCodeAt(e.position),(d||e.line===r)&&_===58&&(c=!0,_=e.input.charCodeAt(++e.position),T(e,!0,i),ce(e,i,Ae,!1,!0),A=e.result),h?ae(e,s,g,x,m,A,r,t,l):c?s.push(ae(e,null,g,x,m,A,r,t,l)):s.push(m),T(e,!0,i),_=e.input.charCodeAt(e.position),_===44?(n=!0,_=e.input.charCodeAt(++e.position)):n=!1}y(e,"unexpected end of the stream within a flow collection")}function kt(e,i){var n,r,t=Ye,l=!1,o=!1,s=i,u=0,a=!1,f,c;if(c=e.input.charCodeAt(e.position),c===124)r=!1;else if(c===62)r=!0;else return!1;for(e.kind="scalar",e.result="";c!==0;)if(c=e.input.charCodeAt(++e.position),c===43||c===45)Ye===t?t=c===43?di:wt:y(e,"repeat of a chomping mode identifier");else if((f=It(c))>=0)f===0?y(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?y(e,"repeat of an indentation width identifier"):(s=i+f-1,o=!0);else break;if(oe(c)){do c=e.input.charCodeAt(++e.position);while(oe(c));if(c===35)do c=e.input.charCodeAt(++e.position);while(!H(c)&&c!==0)}for(;c!==0;){for(Ge(e),e.lineIndent=0,c=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),H(c)){u++;continue}if(e.lineIndent<s){t===di?e.result+=D.repeat(`
`,l?1+u:u):t===Ye&&l&&(e.result+=`
`);break}for(r?oe(c)?(a=!0,e.result+=D.repeat(`
`,l?1+u:u)):a?(a=!1,e.result+=D.repeat(`
`,u+1)):u===0?l&&(e.result+=" "):e.result+=D.repeat(`
`,u):e.result+=D.repeat(`
`,l?1+u:u),l=!0,o=!0,u=0,n=e.position;!H(c)&&c!==0;)c=e.input.charCodeAt(++e.position);Z(e,n,e.position,!1)}return!0}function yi(e,i){var n,r=e.tag,t=e.anchor,l=[],o,s=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,y(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!U(o))));){if(s=!0,e.position++,T(e,!0,-1)&&e.lineIndent<=i){l.push(null),u=e.input.charCodeAt(e.position);continue}if(n=e.line,ce(e,i,Gi,!1,!0),l.push(e.result),T(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>i)&&u!==0)y(e,"bad indentation of a sequence entry");else if(e.lineIndent<i)break}return s?(e.tag=r,e.anchor=t,e.kind="sequence",e.result=l,!0):!1}function Lt(e,i,n){var r,t,l,o,s,u,a=e.tag,f=e.anchor,c={},d=Object.create(null),h=null,g=null,m=null,x=!1,A=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),_=e.input.charCodeAt(e.position);_!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,y(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),l=e.line,(_===63||_===58)&&U(r))_===63?(x&&(ae(e,c,d,h,g,null,o,s,u),h=g=m=null),A=!0,x=!0,t=!0):x?(x=!1,t=!0):y(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=r;else{if(o=e.line,s=e.lineStart,u=e.position,!ce(e,n,Qi,!1,!0))break;if(e.line===l){for(_=e.input.charCodeAt(e.position);oe(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),U(_)||y(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(ae(e,c,d,h,g,null,o,s,u),h=g=m=null),A=!0,x=!1,t=!1,h=e.tag,g=e.result;else if(A)y(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=f,!0}else if(A)y(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=f,!0}if((e.line===l||e.lineIndent>i)&&(x&&(o=e.line,s=e.lineStart,u=e.position),ce(e,i,Se,!0,t)&&(x?g=e.result:m=e.result),x||(ae(e,c,d,h,g,m,o,s,u),h=g=m=null),T(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>i)&&_!==0)y(e,"bad indentation of a mapping entry");else if(e.lineIndent<i)break}return x&&ae(e,c,d,h,g,null,o,s,u),A&&(e.tag=a,e.anchor=f,e.kind="mapping",e.result=c),A}function Bt(e){var i,n=!1,r=!1,t,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&y(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(r=!0,t="!!",o=e.input.charCodeAt(++e.position)):t="!",i=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(i,e.position),o=e.input.charCodeAt(++e.position)):y(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!U(o);)o===33&&(r?y(e,"tag suffix cannot contain exclamation marks"):(t=e.input.slice(i-1,e.position+1),Wi.test(t)||y(e,"named tag handle cannot contain such characters"),r=!0,i=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(i,e.position),St.test(l)&&y(e,"tag suffix cannot contain flow indicator characters")}l&&!Ki.test(l)&&y(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{y(e,"tag name is malformed: "+l)}return n?e.tag=l:ee.call(e.tagMap,t)?e.tag=e.tagMap[t]+l:t==="!"?e.tag="!"+l:t==="!!"?e.tag="tag:yaml.org,2002:"+l:y(e,'undeclared tag handle "'+t+'"'),!0}function Mt(e){var i,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&y(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),i=e.position;n!==0&&!U(n)&&!ue(n);)n=e.input.charCodeAt(++e.position);return e.position===i&&y(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(i,e.position),!0}function Ut(e){var i,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),i=e.position;r!==0&&!U(r)&&!ue(r);)r=e.input.charCodeAt(++e.position);return e.position===i&&y(e,"name of an alias node must contain at least one character"),n=e.input.slice(i,e.position),ee.call(e.anchorMap,n)||y(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],T(e,!0,-1),!0}function ce(e,i,n,r,t){var l,o,s,u=1,a=!1,f=!1,c,d,h,g,m,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=s=Se===n||Gi===n,r&&T(e,!0,-1)&&(a=!0,e.lineIndent>i?u=1:e.lineIndent===i?u=0:e.lineIndent<i&&(u=-1)),u===1)for(;Bt(e)||Mt(e);)T(e,!0,-1)?(a=!0,s=l,e.lineIndent>i?u=1:e.lineIndent===i?u=0:e.lineIndent<i&&(u=-1)):s=!1;if(s&&(s=a||t),(u===1||Se===n)&&(Ae===n||Qi===n?m=i:m=i+1,x=e.position-e.lineStart,u===1?s&&(yi(e,x)||Lt(e,x,m))||Rt(e,m)?f=!0:(o&&kt(e,m)||Ft(e,m)||Nt(e,m)?f=!0:Ut(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&y(e,"alias node should not have any properties")):Dt(e,m,Ae===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=s&&yi(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&y(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,d=e.implicitTypes.length;c<d;c+=1)if(g=e.implicitTypes[c],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ee.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,h=e.typeMap.multi[e.kind||"fallback"],c=0,d=h.length;c<d;c+=1)if(e.tag.slice(0,h[c].tag.length)===h[c].tag){g=h[c];break}g||y(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&y(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):y(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Pt(e){var i=e.position,n,r,t,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(T(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!U(o);)o=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),t=[],r.length<1&&y(e,"directive name must not be less than one character in length");o!==0;){for(;oe(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!H(o));break}if(H(o))break;for(n=e.position;o!==0&&!U(o);)o=e.input.charCodeAt(++e.position);t.push(e.input.slice(n,e.position))}o!==0&&Ge(e),ee.call(gi,r)?gi[r](e,r,t):Ee(e,'unknown document directive "'+r+'"')}if(T(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,T(e,!0,-1)):l&&y(e,"directives end mark is expected"),ce(e,e.lineIndent-1,Se,!1,!0),T(e,!0,-1),e.checkLineBreaks&&At.test(e.input.slice(i,e.position))&&Ee(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Oe(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,T(e,!0,-1));return}if(e.position<e.length-1)y(e,"end of the stream or a document separator is expected");else return}function nn(e,i){e=String(e),i=i||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Tt(e,i),r=e.indexOf("\0");for(r!==-1&&(n.position=r,y(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Pt(n);return n.documents}function qt(e,i,n){i!==null&&typeof i=="object"&&typeof n>"u"&&(n=i,i=null);var r=nn(e,n);if(typeof i!="function")return r;for(var t=0,l=r.length;t<l;t+=1)i(r[t])}function Yt(e,i){var n=nn(e,i);if(n.length!==0){if(n.length===1)return n[0];throw new B("expected a single document in the stream, but found more")}}var $t=qt,jt=Yt,rn={loadAll:$t,load:jt},tn=Object.prototype.toString,on=Object.prototype.hasOwnProperty,Ke=65279,Vt=9,ge=10,Ht=13,Jt=32,zt=33,Qt=34,je=35,Gt=37,Wt=38,Kt=39,Xt=42,ln=44,Zt=45,Ce=58,eo=61,io=62,no=63,ro=64,sn=91,un=93,to=96,an=123,oo=124,cn=125,L={};L[0]="\\0";L[7]="\\a";L[8]="\\b";L[9]="\\t";L[10]="\\n";L[11]="\\v";L[12]="\\f";L[13]="\\r";L[27]="\\e";L[34]='\\"';L[92]="\\\\";L[133]="\\N";L[160]="\\_";L[8232]="\\L";L[8233]="\\P";var lo=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],so=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function uo(e,i){var n,r,t,l,o,s,u;if(i===null)return{};for(n={},r=Object.keys(i),t=0,l=r.length;t<l;t+=1)o=r[t],s=String(i[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&on.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[o]=s;return n}function ao(e){var i,n,r;if(i=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new B("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+D.repeat("0",r-i.length)+i}var co=1,_e=2;function fo(e){this.schema=e.schema||Qe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=D.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=uo(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?_e:co,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vi(e,i){for(var n=D.repeat(" ",i),r=0,t=-1,l="",o,s=e.length;r<s;)t=e.indexOf(`
`,r),t===-1?(o=e.slice(r),r=s):(o=e.slice(r,t+1),r=t+1),o.length&&o!==`
`&&(l+=n),l+=o;return l}function Ve(e,i){return`
`+D.repeat(" ",e.indent*i)}function po(e,i){var n,r,t;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(t=e.implicitTypes[n],t.resolve(i))return!0;return!1}function Ie(e){return e===Jt||e===Vt}function ye(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Ke||65536<=e&&e<=1114111}function xi(e){return ye(e)&&e!==Ke&&e!==Ht&&e!==ge}function wi(e,i,n){var r=xi(e),t=r&&!Ie(e);return(n?r:r&&e!==ln&&e!==sn&&e!==un&&e!==an&&e!==cn)&&e!==je&&!(i===Ce&&!t)||xi(i)&&!Ie(i)&&e===je||i===Ce&&t}function ho(e){return ye(e)&&e!==Ke&&!Ie(e)&&e!==Zt&&e!==no&&e!==Ce&&e!==ln&&e!==sn&&e!==un&&e!==an&&e!==cn&&e!==je&&e!==Wt&&e!==Xt&&e!==zt&&e!==oo&&e!==eo&&e!==io&&e!==Kt&&e!==Qt&&e!==Gt&&e!==ro&&e!==to}function mo(e){return!Ie(e)&&e!==Ce}function he(e,i){var n=e.charCodeAt(i),r;return n>=55296&&n<=56319&&i+1<e.length&&(r=e.charCodeAt(i+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function fn(e){var i=/^\n* /;return i.test(e)}var pn=1,He=2,dn=3,hn=4,se=5;function go(e,i,n,r,t,l,o,s){var u,a=0,f=null,c=!1,d=!1,h=r!==-1,g=-1,m=ho(he(e,0))&&mo(he(e,e.length-1));if(i||o)for(u=0;u<e.length;a>=65536?u+=2:u++){if(a=he(e,u),!ye(a))return se;m=m&&wi(a,f,s),f=a}else{for(u=0;u<e.length;a>=65536?u+=2:u++){if(a=he(e,u),a===ge)c=!0,h&&(d=d||u-g-1>r&&e[g+1]!==" ",g=u);else if(!ye(a))return se;m=m&&wi(a,f,s),f=a}d=d||h&&u-g-1>r&&e[g+1]!==" "}return!c&&!d?m&&!o&&!t(e)?pn:l===_e?se:He:n>9&&fn(e)?se:o?l===_e?se:He:d?hn:dn}function _o(e,i,n,r,t){e.dump=function(){if(i.length===0)return e.quotingType===_e?'""':"''";if(!e.noCompatMode&&(lo.indexOf(i)!==-1||so.test(i)))return e.quotingType===_e?'"'+i+'"':"'"+i+"'";var l=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),s=r||e.flowLevel>-1&&n>=e.flowLevel;function u(a){return po(e,a)}switch(go(i,s,e.indent,o,u,e.quotingType,e.forceQuotes&&!r,t)){case pn:return i;case He:return"'"+i.replace(/'/g,"''")+"'";case dn:return"|"+bi(i,e.indent)+Ai(vi(i,l));case hn:return">"+bi(i,e.indent)+Ai(vi(yo(i,o),l));case se:return'"'+vo(i)+'"';default:throw new B("impossible error: invalid scalar style")}}()}function bi(e,i){var n=fn(e)?String(i):"",r=e[e.length-1]===`
`,t=r&&(e[e.length-2]===`
`||e===`
`),l=t?"+":r?"":"-";return n+l+`
`}function Ai(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function yo(e,i){for(var n=/(\n+)([^\n]*)/g,r=function(){var a=e.indexOf(`
`);return a=a!==-1?a:e.length,n.lastIndex=a,Si(e.slice(0,a),i)}(),t=e[0]===`
`||e[0]===" ",l,o;o=n.exec(e);){var s=o[1],u=o[2];l=u[0]===" ",r+=s+(!t&&!l&&u!==""?`
`:"")+Si(u,i),t=l}return r}function Si(e,i){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,t=0,l,o=0,s=0,u="";r=n.exec(e);)s=r.index,s-t>i&&(l=o>t?o:s,u+=`
`+e.slice(t,l),t=l+1),o=s;return u+=`
`,e.length-t>i&&o>t?u+=e.slice(t,o)+`
`+e.slice(o+1):u+=e.slice(t),u.slice(1)}function vo(e){for(var i="",n=0,r,t=0;t<e.length;n>=65536?t+=2:t++)n=he(e,t),r=L[n],!r&&ye(n)?(i+=e[t],n>=65536&&(i+=e[t+1])):i+=r||ao(n);return i}function xo(e,i,n){var r="",t=e.tag,l,o,s;for(l=0,o=n.length;l<o;l+=1)s=n[l],e.replacer&&(s=e.replacer.call(n,String(l),s)),(G(e,i,s,!1,!1)||typeof s>"u"&&G(e,i,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=t,e.dump="["+r+"]"}function Ei(e,i,n,r){var t="",l=e.tag,o,s,u;for(o=0,s=n.length;o<s;o+=1)u=n[o],e.replacer&&(u=e.replacer.call(n,String(o),u)),(G(e,i+1,u,!0,!0,!1,!0)||typeof u>"u"&&G(e,i+1,null,!0,!0,!1,!0))&&((!r||t!=="")&&(t+=Ve(e,i)),e.dump&&ge===e.dump.charCodeAt(0)?t+="-":t+="- ",t+=e.dump);e.tag=l,e.dump=t||"[]"}function wo(e,i,n){var r="",t=e.tag,l=Object.keys(n),o,s,u,a,f;for(o=0,s=l.length;o<s;o+=1)f="",r!==""&&(f+=", "),e.condenseFlow&&(f+='"'),u=l[o],a=n[u],e.replacer&&(a=e.replacer.call(n,u,a)),G(e,i,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),G(e,i,a,!1,!1)&&(f+=e.dump,r+=f));e.tag=t,e.dump="{"+r+"}"}function bo(e,i,n,r){var t="",l=e.tag,o=Object.keys(n),s,u,a,f,c,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new B("sortKeys must be a boolean or a function");for(s=0,u=o.length;s<u;s+=1)d="",(!r||t!=="")&&(d+=Ve(e,i)),a=o[s],f=n[a],e.replacer&&(f=e.replacer.call(n,a,f)),G(e,i+1,a,!0,!0,!0)&&(c=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,c&&(e.dump&&ge===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,c&&(d+=Ve(e,i)),G(e,i+1,f,!0,c)&&(e.dump&&ge===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,t+=d));e.tag=l,e.dump=t||"{}"}function Ci(e,i,n){var r,t,l,o,s,u;for(t=n?e.explicitTypes:e.implicitTypes,l=0,o=t.length;l<o;l+=1)if(s=t[l],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof i=="object"&&i instanceof s.instanceOf)&&(!s.predicate||s.predicate(i))){if(n?s.multi&&s.representName?e.tag=s.representName(i):e.tag=s.tag:e.tag="?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,tn.call(s.represent)==="[object Function]")r=s.represent(i,u);else if(on.call(s.represent,u))r=s.represent[u](i,u);else throw new B("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');e.dump=r}return!0}return!1}function G(e,i,n,r,t,l,o){e.tag=null,e.dump=n,Ci(e,n,!1)||Ci(e,n,!0);var s=tn.call(e.dump),u=r,a;r&&(r=e.flowLevel<0||e.flowLevel>i);var f=s==="[object Object]"||s==="[object Array]",c,d;if(f&&(c=e.duplicates.indexOf(n),d=c!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&i>0)&&(t=!1),d&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(f&&d&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),s==="[object Object]")r&&Object.keys(e.dump).length!==0?(bo(e,i,e.dump,t),d&&(e.dump="&ref_"+c+e.dump)):(wo(e,i,e.dump),d&&(e.dump="&ref_"+c+" "+e.dump));else if(s==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!o&&i>0?Ei(e,i-1,e.dump,t):Ei(e,i,e.dump,t),d&&(e.dump="&ref_"+c+e.dump)):(xo(e,i,e.dump),d&&(e.dump="&ref_"+c+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&_o(e,e.dump,i,l,u);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new B("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(a=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?a="!"+a:a.slice(0,18)==="tag:yaml.org,2002:"?a="!!"+a.slice(18):a="!<"+a+">",e.dump=a+" "+e.dump)}return!0}function Ao(e,i){var n=[],r=[],t,l;for(Je(e,n,r),t=0,l=r.length;t<l;t+=1)i.duplicates.push(n[r[t]]);i.usedDuplicates=new Array(l)}function Je(e,i,n){var r,t,l;if(e!==null&&typeof e=="object")if(t=i.indexOf(e),t!==-1)n.indexOf(t)===-1&&n.push(t);else if(i.push(e),Array.isArray(e))for(t=0,l=e.length;t<l;t+=1)Je(e[t],i,n);else for(r=Object.keys(e),t=0,l=r.length;t<l;t+=1)Je(e[r[t]],i,n)}function So(e,i){i=i||{};var n=new fo(i);n.noRefs||Ao(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),G(n,0,r,!0,!0)?n.dump+`
`:""}var Eo=So,Co={dump:Eo};function Xe(e,i){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+i+" instead, which is now safe by default.")}}var Io=N,Oo=Ti,To=Ri,Do=Ui,Fo=Pi,No=Qe,Ro=rn.load,ko=rn.loadAll,Lo=Co.dump,Bo=B,Mo={binary:Vi,float:Mi,map:Ni,null:ki,pairs:Ji,set:zi,timestamp:$i,bool:Li,int:Bi,merge:ji,omap:Hi,seq:Fi,str:Di},Uo=Xe("safeLoad","load"),Po=Xe("safeLoadAll","loadAll"),qo=Xe("safeDump","dump"),Yo={Type:Io,Schema:Oo,FAILSAFE_SCHEMA:To,JSON_SCHEMA:Do,CORE_SCHEMA:Fo,DEFAULT_SCHEMA:No,load:Ro,loadAll:ko,dump:Lo,YAMLException:Bo,types:Mo,safeLoad:Uo,safeLoadAll:Po,safeDump:qo},Te=Yo;function $o(e,i,n){let{node:r}=e;if(!n)return;let t=new Set;for(let l of n.split(",")){let o=l.trim(),s=o.match(/^(\d+)\s*-\s*(\d+)$/);if(s){let u=Number(s[1]),a=Number(s[2]);if(u<=a){for(let f=u;f<=a;f++)t.add(f);continue}else{X(i,`Invalid emphasize-lines range "${o}" (start > end)`,{node:r,source:"code-block:options",ruleId:M.directiveOptionsCorrect});continue}}/^\d+$/.test(o)?t.add(Number(o)):o!==""&&X(i,`Invalid emphasize-lines value "${o}"`,{node:r,source:"code-block:options",ruleId:M.directiveOptionsCorrect})}if(t.size!==0)return Array.from(t).sort((l,o)=>l-o)}function Ze(e,i,n){var r;let{options:t,node:l}=e;t?.["lineno-start"]!=null&&t?.["number-lines"]!=null&&X(i,'Cannot use both "lineno-start" and "number-lines"',{node:(r=V('mystOption[name="number-lines"]',l))!==null&&r!==void 0?r:l,source:"code-block:options",ruleId:M.directiveOptionsCorrect});let o=$o(e,i,t?.["emphasize-lines"]),s=t?.["number-lines"],u=t?.linenos||t?.["lineno-start"]||t?.["lineno-match"]||s?!0:void 0,a=s!=null&&s>1?s:t?.["lineno-start"];t?.["lineno-match"]?a="match":(a==null||a<=1)&&(a=void 0);let f=t?.filename;return f?.toLowerCase()==="false"?f=void 0:!f&&n&&(f=n),{emphasizeLines:o,showLineNumbers:u,startingLineNumber:a,filename:f}}var ei={caption:{type:"myst",doc:"A parsed caption for the code block."},linenos:{type:Boolean,doc:"Show line numbers"},"lineno-start":{type:Number,doc:"Start line numbering from a particular value, default is 1. If present, line numbering is activated."},"number-lines":{type:Number,doc:'Alternative for "lineno-start", turns on line numbering and can be an integer that is the start of the line numbering.'},"emphasize-lines":{type:String,doc:'Emphasize particular lines (comma-separated numbers which can include ranges), e.g. "3,5,7-9"'},filename:{type:String,doc:"Show the filename in addition to the rendered code. The `include` directive will use the filename by default, to turn off this default set the filename to `false`."}};function mn(e,i,n){var r,t;if(!e)return;if(typeof e=="string"&&e.startsWith("[")&&e.endsWith("]"))try{return mn(Te.load(e),i,n)}catch{q(i,"Could not load tags for code-cell directive",{node:(r=V('mystOption[name="tags"]',n))!==null&&r!==void 0?r:n,source:"code-cell:tags",ruleId:M.directiveOptionsCorrect});return}if(typeof e=="string"){let o=e.split(/[,\s]/).map(s=>s.trim()).filter(s=>!!s);return o.length>0?o:void 0}if(!Array.isArray(e))return;let l=e;if(l&&Array.isArray(l)&&l.every(o=>typeof o=="string")){if(l.length>0)return l.map(o=>o.trim()).filter(o=>!!o)}else if(l){X(i,"tags in code-cell directive must be a list of strings",{node:(t=V('mystOption[name="tags"]',n))!==null&&t!==void 0?t:n,source:"code-cell:tags",ruleId:M.directiveOptionsCorrect});return}}var gn={name:"code",doc:"A code-block environment with a language as the argument, and options for highlighting, showing line numbers, and an optional filename.",alias:["code-block","sourcecode"],arg:{type:String,doc:"Code language, for example `python` or `typescript`"},options:{...b("code"),...ei},body:{type:String,doc:"The raw code to display for the code block."},run(e,i){var n;let r=Ze(e,i),t={type:"code",lang:e.arg,...r,value:e.body};if(!(!((n=e.options)===null||n===void 0)&&n.caption))return v(e,t),[t];let l={type:"caption",children:[{type:"paragraph",children:e.options.caption}]},o={type:"container",kind:"code",children:[t,l]};return v(e,o),[o]}},_n={name:"code-cell",doc:"An executable code cell",arg:{type:String,doc:"Language for execution and display, for example `python`. It will default to the language of the notebook or containing markdown file."},options:{...b("code-cell"),caption:{type:"myst",doc:"A parsed caption for the code output."},tags:{type:String,alias:["tag"],doc:"A comma-separated list of tags to add to the cell, for example, `remove-input` or `hide-cell`."}},body:{type:String,doc:"The code to be executed and displayed."},run(e,i){var n,r,t;let l={type:"code",lang:e.arg,executable:!0,value:(n=e.body)!==null&&n!==void 0?n:""},o={type:"output",id:li(),data:[]},s={type:"block",kind:ai.code,children:[l,o],data:{}};v(e,s),!((r=e.options)===null||r===void 0)&&r.caption&&(s.data.caption=[{type:"paragraph",children:e.options.caption}]);let u=mn((t=e.options)===null||t===void 0?void 0:t.tags,i,e.node);return u&&(s.data.tags=u),[s]}};var yn={name:"dropdown",arg:{type:"myst"},options:{...b("dropdown"),open:{type:Boolean,doc:"When true, the dropdown starts open."}},body:{type:"myst",required:!0},run(e){var i;let n=[];e.arg&&n.push({type:"summary",children:e.arg}),n.push(...e.body);let r={type:"details",open:(i=e.options)===null||i===void 0?void 0:i.open,children:n};return v(e,r),[r]}};var vn={name:"embed",doc:"The embed directive allows you to duplicate content from another part of your project. This can also be done through the figure directive.",arg:{type:String,doc:"The label of the node that you are embedding.",required:!0},options:{...b("embed"),"remove-input":{type:Boolean,doc:"If embedding a Jupyter Notebook cell, remove the input of the cell."},"remove-output":{type:Boolean,doc:"If embedding a Jupyter Notebook cell, remove the output of the cell."}},run(e){var i,n;if(!e.arg)return[];let r=e.arg,t=r.startsWith("#")?r.substring(1):r,{label:l}=be(t)||{};if(!l)return[];let o={type:"embed",source:{label:l},"remove-input":(i=e.options)===null||i===void 0?void 0:i["remove-input"],"remove-output":(n=e.options)===null||n===void 0?void 0:n["remove-output"]};return v(e,o),[o]}};var xn={name:"figure",arg:{type:String,doc:"The filename of an image (e.g. `my-fig.png`), or an ID of a Jupyter Notebook cell (e.g. `#my-cell`)."},options:{...b("figure"),class:{type:String,alias:["figclass"],doc:"CSS classes to add to your figure. Special classes include:\n\n- `full-width`: changes the figure environment to cover two columns in LaTeX"},height:{type:String,doc:"The figure height, in CSS units, for example `4em` or `300px`.",alias:["h"]},width:{type:String,alias:["w","figwidth"],doc:"The figure width, in CSS units, for example `50%` or `300px`."},alt:{type:String,doc:"Alternative text for the image"},align:{type:String,doc:"The alignment of the image in the figure. Choose one of `left`, `center` or `right`"},"remove-input":{type:Boolean,doc:"If the argument is a notebook cell, use this flag to remove the input code from the cell."},"remove-output":{type:Boolean,doc:"If the argument is a notebook cell, use this flag to remove the output from the cell."},placeholder:{type:String,doc:"A placeholder image when using a notebook cell as the figure contents. This will be shown in place of the Jupyter output until an execution environment is attached. It will also be used in static outputs, such as a PDF output."},"no-subfigures":{type:Boolean,doc:"Disallow implicit subfigure creation from child nodes",alias:["no-subfig","no-subfigure"]},kind:{type:String,doc:'Override the figures "kind", which changes the enumeration to start counting independently for that kind. For example, `kind: "example"`. The default enumeration and referencing will be the capitalized `kind` followed by a number (e.g. "Example 1").'}},body:{type:"myst",doc:"If an argument is provided to the figure directive, the body will be the figure caption. You may also omit the figure directive argument and provide images in the body of the figure, these will be parsed into sub figures."},run(e){var i,n,r,t,l,o,s,u,a,f,c,d,h;let g=[];e.arg&&g.push({type:"image",url:e.arg,alt:(i=e.options)===null||i===void 0?void 0:i.alt,width:(n=e.options)===null||n===void 0?void 0:n.width,height:(r=e.options)===null||r===void 0?void 0:r.height,align:(t=e.options)===null||t===void 0?void 0:t.align,"remove-input":(l=e.options)===null||l===void 0?void 0:l["remove-input"],"remove-output":(o=e.options)===null||o===void 0?void 0:o["remove-output"]}),!((s=e.options)===null||s===void 0)&&s.placeholder&&g.push({type:"image",placeholder:!0,url:e.options.placeholder,alt:(u=e.options)===null||u===void 0?void 0:u.alt,width:(a=e.options)===null||a===void 0?void 0:a.width,height:(f=e.options)===null||f===void 0?void 0:f.height,align:(c=e.options)===null||c===void 0?void 0:c.align}),e.body&&g.push(...e.body);let m={type:"container",kind:((d=e.options)===null||d===void 0?void 0:d.kind)||"figure",children:g};return v(e,m),!((h=e.options)===null||h===void 0)&&h["no-subfigures"]&&(m.noSubcontainers=!0),[m]}};var wn={name:"iframe",arg:{type:String,doc:"The URL source (`src`) of the HTML iframe element.",required:!0},options:{...b("iframe"),width:{type:String,doc:"The iframe width, in CSS units, for example `50%` or `300px`."},align:{type:String,doc:"The alignment of the iframe in the page. Choose one of `left`, `center` or `right`"},placeholder:{type:String,doc:"A placeholder image for the iframe in static exports."}},body:{type:"myst",doc:"If provided, this will be the iframe caption."},run(e){var i,n,r,t,l,o,s;let u={type:"iframe",src:e.arg,width:(i=e.options)===null||i===void 0?void 0:i.width,align:(n=e.options)===null||n===void 0?void 0:n.align};if(!((r=e.options)===null||r===void 0)&&r.placeholder&&(u.children=[{type:"image",placeholder:!0,url:e.options.placeholder,alt:(t=e.options)===null||t===void 0?void 0:t.alt,width:(l=e.options)===null||l===void 0?void 0:l.width,height:(o=e.options)===null||o===void 0?void 0:o.height,align:(s=e.options)===null||s===void 0?void 0:s.align}]),!e.body)return v(e,u),[u];let a={type:"container",kind:"figure",children:[u,{type:"caption",children:e.body}]};return v(e,a),[a]}};var bn={name:"image",arg:{type:String,doc:"The filename of an image (e.g. `my-fig.png`).",required:!0},options:{...b("image"),height:{type:String,doc:"The image height, in CSS units, for example `4em` or `300px`.",alias:["h"]},width:{type:String,alias:["w"],doc:"The image width, in CSS units, for example `50%` or `300px`."},alt:{type:String,doc:"Alternative text for the image"},align:{type:String,doc:"The alignment of the image. Choose one of `left`, `center` or `right`"},title:{type:String,doc:"Title text for the image"}},run(e){let{alt:i,height:n,width:r,align:t,title:l}=e.options||{},o={type:"image",url:e.arg,alt:i??(e.body?si(e.body):void 0),title:l,height:n,width:r,align:t??"center"};return v(e,o),[o]}};var Sn={name:"include",alias:["literalinclude"],doc:"Allows you to include the source or parsed version of a separate file into your document tree.",arg:{type:String,doc:"The file path, which is relative to the file from which it was referenced.",required:!0},options:{...b("include"),literal:{type:Boolean,doc:"Flag the include block as literal, and show the contents as a code block. This can also be set automatically by setting the `language` or using the `literalinclude` directive."},lang:{type:String,doc:"The language of the code to be highlighted as. If set, this automatically changes an `include` into a `literalinclude`.",alias:["language","code"]},...ei,"start-line":{type:Number,doc:"Only the content starting from this line will be included. The first line has index 0 and negative values count from the end."},"start-at":{type:String,doc:"Only the content after and including the first occurrence of the specified text in the external data file will be included."},"start-after":{type:String,doc:"Only the content after the first occurrence of the specified text in the external data file will be included."},"end-line":{type:Number,doc:"Only the content up to (but excluding) this line will be included."},"end-at":{type:String,doc:"Only the content up to and including the first occurrence of the specified text in the external data file (but after any start-after text) will be included."},"end-before":{type:String,doc:"Only the content before the first occurrence of the specified text in the external data file (but after any start-after text) will be included."},lines:{type:String,doc:"Specify exactly which lines to include from the original file, starting at 1. For example, `1,3,5-10,20-` includes the lines 1, 3, 5 to 10 and lines 20 to the last line of the original file."},"lineno-match":{type:Boolean,doc:"Display the original line numbers, correct only when the selection consists of contiguous lines."}},run(e,i){var n,r,t,l,o,s,u,a,f,c,d,h,g,m;let x=e.name==="literalinclude"||!!(!((n=e.options)===null||n===void 0)&&n.literal)||!!(!((r=e.options)===null||r===void 0)&&r.lang),A=e.arg,_=(l=(t=e.options)===null||t===void 0?void 0:t.lang)!==null&&l!==void 0?l:Vo(A.split(".").pop()),C=x?Ze(e,i,A.split(/\/|\\/).pop()):{},R=x?(o=e.options)===null||o===void 0?void 0:o.caption:void 0,I={};if(An(e,i,["start-at","start-line","start-after","lines"]),An(e,i,["end-at","end-line","end-before","lines"]),I.startAt=(s=e.options)===null||s===void 0?void 0:s["start-at"],I.startAfter=(u=e.options)===null||u===void 0?void 0:u["start-after"],I.endAt=(a=e.options)===null||a===void 0?void 0:a["end-at"],I.endBefore=(f=e.options)===null||f===void 0?void 0:f["end-before"],!((c=e.options)===null||c===void 0)&&c.lines)I.lines=jo(i,(d=V('mystOption[name="lines"]',e.node))!==null&&d!==void 0?d:void 0,(h=e.options)===null||h===void 0?void 0:h.lines);else{let j=(g=e.options)===null||g===void 0?void 0:g["start-line"],de=(m=e.options)===null||m===void 0?void 0:m["end-line"],ie=[];j!=null&&ie.push(j),j==null&&de!=null&&ie.push(0),de!=null&&ie.push(de),ie.length>0&&(I.lines=[ie.map(S=>S>=0?S+1:S)])}let pe=Object.values(I).some(j=>j!==void 0),xe={type:"include",file:A,literal:x,lang:_,caption:R,filter:pe?I:void 0,...C};return v(e,xe),[xe]}};function jo(e,i,n){if(n)return n.split(",").map(r=>{let t=r.trim(),l=t.match(/^([0-9]+)(?:\s*(-)\s*([0-9]+)?)?$/);if(!l){X(e,`Unknown lines match "${t}"`,{node:i,ruleId:M.directiveOptionsCorrect});return}let[,o,s,u]=l;return!s&&!u?Number.parseInt(o):s&&!u?[Number.parseInt(o)]:[Number.parseInt(o),Number.parseInt(u)]}).filter(r=>!!r)}function An(e,i,n){let{options:r,node:t}=e;if(!r)return;let l=new Set(n),o=new Set(Object.keys(r)),s=new Set([...l].filter(u=>o.has(u)));s.size>1&&X(i,`Conflicting options for directive: ["${[...s].join('", "')}"]`,{node:t,note:`Choose a single option out of ["${[...n].join('", "')}"]`,ruleId:M.directiveOptionsCorrect})}function Vo(e){var i;return(i={ts:"typescript",js:"javascript",mjs:"javascript",tex:"latex",py:"python",md:"markdown",yml:"yaml"}[e??""])!==null&&i!==void 0?i:e}function ve(e,i,n,r){q(n,"Index entry definitions should not use :option: syntax",{node:r,note:`Replace ":${e}: ${i}" with "${e}: ${i}"`})}var En={name:"index",arg:{type:String},options:{single:{type:String},pair:{type:String},triple:{type:String},see:{type:String},seealso:{type:String,alias:["seeAlso","see-also"]},label:{type:String,alias:["name"]}},body:{type:String},run(e,i){var n,r,t,l,o,s;let u={single:[],pair:[],triple:[],see:[],seealso:[]};e.arg&&Ue(e.arg,u,i,e.node),!((n=e.options)===null||n===void 0)&&n.single&&(ve("single",e.options.single,i,e.node),u.single.push(e.options.single)),!((r=e.options)===null||r===void 0)&&r.pair&&(ve("pair",e.options.pair,i,e.node),u.pair.push(e.options.pair)),!((t=e.options)===null||t===void 0)&&t.triple&&(ve("triple",e.options.triple,i,e.node),u.triple.push(e.options.triple)),!((l=e.options)===null||l===void 0)&&l.see&&(ve("see",e.options.see,i,e.node),u.see.push(e.options.see)),!((o=e.options)===null||o===void 0)&&o.seealso&&(ve("seealso",e.options.seealso,i,e.node),u.seealso.push(e.options.seealso)),e.body&&e.body.split(`
`).forEach(c=>{Ue(c,u,i,e.node)});let a=ui(u,i,e.node);return[{type:"mystTarget",label:(s=e.options)===null||s===void 0?void 0:s.label,indexEntries:a}]}},Cn={name:"show-index",alias:["genindex"],arg:{type:"myst",doc:"Heading to be included in index block"},run(e){var i;let n=[];if(e.arg){let r=e.arg;((i=r[0])===null||i===void 0?void 0:i.type)==="heading"?n.push(...r):n.push({type:"heading",depth:2,enumerated:!1,children:r})}return[{type:"genindex",children:n}]}};var In=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},J=[],Y=[],Ho=typeof Uint8Array<"u"?Uint8Array:Array,ni=!1;function Rn(){ni=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,n=e.length;i<n;++i)J[i]=e[i],Y[e.charCodeAt(i)]=i;Y["-".charCodeAt(0)]=62,Y["_".charCodeAt(0)]=63}function Jo(e){ni||Rn();var i,n,r,t,l,o,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");l=e[s-2]==="="?2:e[s-1]==="="?1:0,o=new Ho(s*3/4-l),r=l>0?s-4:s;var u=0;for(i=0,n=0;i<r;i+=4,n+=3)t=Y[e.charCodeAt(i)]<<18|Y[e.charCodeAt(i+1)]<<12|Y[e.charCodeAt(i+2)]<<6|Y[e.charCodeAt(i+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=t&255;return l===2?(t=Y[e.charCodeAt(i)]<<2|Y[e.charCodeAt(i+1)]>>4,o[u++]=t&255):l===1&&(t=Y[e.charCodeAt(i)]<<10|Y[e.charCodeAt(i+1)]<<4|Y[e.charCodeAt(i+2)]>>2,o[u++]=t>>8&255,o[u++]=t&255),o}function zo(e){return J[e>>18&63]+J[e>>12&63]+J[e>>6&63]+J[e&63]}function Qo(e,i,n){for(var r,t=[],l=i;l<n;l+=3)r=(e[l]<<16)+(e[l+1]<<8)+e[l+2],t.push(zo(r));return t.join("")}function On(e){ni||Rn();for(var i,n=e.length,r=n%3,t="",l=[],o=16383,s=0,u=n-r;s<u;s+=o)l.push(Qo(e,s,s+o>u?u:s+o));return r===1?(i=e[n-1],t+=J[i>>2],t+=J[i<<4&63],t+="=="):r===2&&(i=(e[n-2]<<8)+e[n-1],t+=J[i>>10],t+=J[i>>4&63],t+=J[i<<2&63],t+="="),l.push(t),l.join("")}function Re(e,i,n,r,t){var l,o,s=t*8-r-1,u=(1<<s)-1,a=u>>1,f=-7,c=n?t-1:0,d=n?-1:1,h=e[i+c];for(c+=d,l=h&(1<<-f)-1,h>>=-f,f+=s;f>0;l=l*256+e[i+c],c+=d,f-=8);for(o=l&(1<<-f)-1,l>>=-f,f+=r;f>0;o=o*256+e[i+c],c+=d,f-=8);if(l===0)l=1-a;else{if(l===u)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),l=l-a}return(h?-1:1)*o*Math.pow(2,l-r)}function kn(e,i,n,r,t,l){var o,s,u,a=l*8-t-1,f=(1<<a)-1,c=f>>1,d=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:l-1,g=r?1:-1,m=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(s=isNaN(i)?1:0,o=f):(o=Math.floor(Math.log(i)/Math.LN2),i*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+c>=1?i+=d/u:i+=d*Math.pow(2,1-c),i*u>=2&&(o++,u/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(i*u-1)*Math.pow(2,t),o=o+c):(s=i*Math.pow(2,c-1)*Math.pow(2,t),o=0));t>=8;e[n+h]=s&255,h+=g,s/=256,t-=8);for(o=o<<t|s,a+=t;a>0;e[n+h]=o&255,h+=g,o/=256,a-=8);e[n+h-g]|=m*128}var Go={}.toString,Ln=Array.isArray||function(e){return Go.call(e)=="[object Array]"},Wo=50;p.TYPED_ARRAY_SUPPORT=In.TYPED_ARRAY_SUPPORT!==void 0?In.TYPED_ARRAY_SUPPORT:!0;De();function De(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function W(e,i){if(De()<i)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(i),e.__proto__=p.prototype):(e===null&&(e=new p(i)),e.length=i),e}function p(e,i,n){if(!p.TYPED_ARRAY_SUPPORT&&!(this instanceof p))return new p(e,i,n);if(typeof e=="number"){if(typeof i=="string")throw new Error("If encoding is specified then the first argument must be a string");return ri(this,e)}return Bn(this,e,i,n)}p.poolSize=8192;p._augment=function(e){return e.__proto__=p.prototype,e};function Bn(e,i,n,r){if(typeof i=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer?Zo(e,i,n,r):typeof i=="string"?Xo(e,i,n):el(e,i)}p.from=function(e,i,n){return Bn(null,e,i,n)};p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]);function Mn(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Ko(e,i,n,r){return Mn(i),i<=0?W(e,i):n!==void 0?typeof r=="string"?W(e,i).fill(n,r):W(e,i).fill(n):W(e,i)}p.alloc=function(e,i,n){return Ko(null,e,i,n)};function ri(e,i){if(Mn(i),e=W(e,i<0?0:ti(i)|0),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<i;++n)e[n]=0;return e}p.allocUnsafe=function(e){return ri(null,e)};p.allocUnsafeSlow=function(e){return ri(null,e)};function Xo(e,i,n){if((typeof n!="string"||n==="")&&(n="utf8"),!p.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=Un(i,n)|0;e=W(e,r);var t=e.write(i,n);return t!==r&&(e=e.slice(0,t)),e}function ii(e,i){var n=i.length<0?0:ti(i.length)|0;e=W(e,n);for(var r=0;r<n;r+=1)e[r]=i[r]&255;return e}function Zo(e,i,n,r){if(i.byteLength,n<0||i.byteLength<n)throw new RangeError("'offset' is out of bounds");if(i.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return n===void 0&&r===void 0?i=new Uint8Array(i):r===void 0?i=new Uint8Array(i,n):i=new Uint8Array(i,n,r),p.TYPED_ARRAY_SUPPORT?(e=i,e.__proto__=p.prototype):e=ii(e,i),e}function el(e,i){if(z(i)){var n=ti(i.length)|0;return e=W(e,n),e.length===0||i.copy(e,0,0,n),e}if(i){if(typeof ArrayBuffer<"u"&&i.buffer instanceof ArrayBuffer||"length"in i)return typeof i.length!="number"||vl(i.length)?W(e,0):ii(e,i);if(i.type==="Buffer"&&Ln(i.data))return ii(e,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ti(e){if(e>=De())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+De().toString(16)+" bytes");return e|0}p.isBuffer=$;function z(e){return!!(e!=null&&e._isBuffer)}p.compare=function(i,n){if(!z(i)||!z(n))throw new TypeError("Arguments must be Buffers");if(i===n)return 0;for(var r=i.length,t=n.length,l=0,o=Math.min(r,t);l<o;++l)if(i[l]!==n[l]){r=i[l],t=n[l];break}return r<t?-1:t<r?1:0};p.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};p.concat=function(i,n){if(!Ln(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return p.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<i.length;++r)n+=i[r].length;var t=p.allocUnsafe(n),l=0;for(r=0;r<i.length;++r){var o=i[r];if(!z(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(t,l),l+=o.length}return t};function Un(e,i){if(z(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var n=e.length;if(n===0)return 0;for(var r=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Fe(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Hn(e).length;default:if(r)return Fe(e).length;i=(""+i).toLowerCase(),r=!0}}p.byteLength=Un;function il(e,i,n){var r=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,i>>>=0,n<=i))return"";for(e||(e="utf8");;)switch(e){case"hex":return fl(this,i,n);case"utf8":case"utf-8":return Yn(this,i,n);case"ascii":return al(this,i,n);case"latin1":case"binary":return cl(this,i,n);case"base64":return sl(this,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pl(this,i,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}p.prototype._isBuffer=!0;function le(e,i,n){var r=e[i];e[i]=e[n],e[n]=r}p.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<i;n+=2)le(this,n,n+1);return this};p.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<i;n+=4)le(this,n,n+3),le(this,n+1,n+2);return this};p.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<i;n+=8)le(this,n,n+7),le(this,n+1,n+6),le(this,n+2,n+5),le(this,n+3,n+4);return this};p.prototype.toString=function(){var i=this.length|0;return i===0?"":arguments.length===0?Yn(this,0,i):il.apply(this,arguments)};p.prototype.equals=function(i){if(!z(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:p.compare(this,i)===0};p.prototype.inspect=function(){var i="",n=Wo;return this.length>0&&(i=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(i+=" ... ")),"<Buffer "+i+">"};p.prototype.compare=function(i,n,r,t,l){if(!z(i))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=i?i.length:0),t===void 0&&(t=0),l===void 0&&(l=this.length),n<0||r>i.length||t<0||l>this.length)throw new RangeError("out of range index");if(t>=l&&n>=r)return 0;if(t>=l)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,t>>>=0,l>>>=0,this===i)return 0;for(var o=l-t,s=r-n,u=Math.min(o,s),a=this.slice(t,l),f=i.slice(n,r),c=0;c<u;++c)if(a[c]!==f[c]){o=a[c],s=f[c];break}return o<s?-1:s<o?1:0};function Pn(e,i,n,r,t){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=t?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(t)return-1;n=e.length-1}else if(n<0)if(t)n=0;else return-1;if(typeof i=="string"&&(i=p.from(i,r)),z(i))return i.length===0?-1:Tn(e,i,n,r,t);if(typeof i=="number")return i=i&255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?t?Uint8Array.prototype.indexOf.call(e,i,n):Uint8Array.prototype.lastIndexOf.call(e,i,n):Tn(e,[i],n,r,t);throw new TypeError("val must be string, number or Buffer")}function Tn(e,i,n,r,t){var l=1,o=e.length,s=i.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||i.length<2)return-1;l=2,o/=2,s/=2,n/=2}function u(h,g){return l===1?h[g]:h.readUInt16BE(g*l)}var a;if(t){var f=-1;for(a=n;a<o;a++)if(u(e,a)===u(i,f===-1?0:a-f)){if(f===-1&&(f=a),a-f+1===s)return f*l}else f!==-1&&(a-=a-f),f=-1}else for(n+s>o&&(n=o-s),a=n;a>=0;a--){for(var c=!0,d=0;d<s;d++)if(u(e,a+d)!==u(i,d)){c=!1;break}if(c)return a}return-1}p.prototype.includes=function(i,n,r){return this.indexOf(i,n,r)!==-1};p.prototype.indexOf=function(i,n,r){return Pn(this,i,n,r,!0)};p.prototype.lastIndexOf=function(i,n,r){return Pn(this,i,n,r,!1)};function nl(e,i,n,r){n=Number(n)||0;var t=e.length-n;r?(r=Number(r),r>t&&(r=t)):r=t;var l=i.length;if(l%2!==0)throw new TypeError("Invalid hex string");r>l/2&&(r=l/2);for(var o=0;o<r;++o){var s=parseInt(i.substr(o*2,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function rl(e,i,n,r){return Be(Fe(i,e.length-n),e,n,r)}function qn(e,i,n,r){return Be(_l(i),e,n,r)}function tl(e,i,n,r){return qn(e,i,n,r)}function ol(e,i,n,r){return Be(Hn(i),e,n,r)}function ll(e,i,n,r){return Be(yl(i,e.length-n),e,n,r)}p.prototype.write=function(i,n,r,t){if(n===void 0)t="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")t=n,r=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(r)?(r=r|0,t===void 0&&(t="utf8")):(t=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var l=this.length-n;if((r===void 0||r>l)&&(r=l),i.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");t||(t="utf8");for(var o=!1;;)switch(t){case"hex":return nl(this,i,n,r);case"utf8":case"utf-8":return rl(this,i,n,r);case"ascii":return qn(this,i,n,r);case"latin1":case"binary":return tl(this,i,n,r);case"base64":return ol(this,i,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ll(this,i,n,r);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(""+t).toLowerCase(),o=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function sl(e,i,n){return i===0&&n===e.length?On(e):On(e.slice(i,n))}function Yn(e,i,n){n=Math.min(e.length,n);for(var r=[],t=i;t<n;){var l=e[t],o=null,s=l>239?4:l>223?3:l>191?2:1;if(t+s<=n){var u,a,f,c;switch(s){case 1:l<128&&(o=l);break;case 2:u=e[t+1],(u&192)===128&&(c=(l&31)<<6|u&63,c>127&&(o=c));break;case 3:u=e[t+1],a=e[t+2],(u&192)===128&&(a&192)===128&&(c=(l&15)<<12|(u&63)<<6|a&63,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:u=e[t+1],a=e[t+2],f=e[t+3],(u&192)===128&&(a&192)===128&&(f&192)===128&&(c=(l&15)<<18|(u&63)<<12|(a&63)<<6|f&63,c>65535&&c<1114112&&(o=c))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),t+=s}return ul(r)}var Dn=4096;function ul(e){var i=e.length;if(i<=Dn)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<i;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Dn));return n}function al(e,i,n){var r="";n=Math.min(e.length,n);for(var t=i;t<n;++t)r+=String.fromCharCode(e[t]&127);return r}function cl(e,i,n){var r="";n=Math.min(e.length,n);for(var t=i;t<n;++t)r+=String.fromCharCode(e[t]);return r}function fl(e,i,n){var r=e.length;(!i||i<0)&&(i=0),(!n||n<0||n>r)&&(n=r);for(var t="",l=i;l<n;++l)t+=gl(e[l]);return t}function pl(e,i,n){for(var r=e.slice(i,n),t="",l=0;l<r.length;l+=2)t+=String.fromCharCode(r[l]+r[l+1]*256);return t}p.prototype.slice=function(i,n){var r=this.length;i=~~i,n=n===void 0?r:~~n,i<0?(i+=r,i<0&&(i=0)):i>r&&(i=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<i&&(n=i);var t;if(p.TYPED_ARRAY_SUPPORT)t=this.subarray(i,n),t.__proto__=p.prototype;else{var l=n-i;t=new p(l,void 0);for(var o=0;o<l;++o)t[o]=this[o+i]}return t};function F(e,i,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+i>n)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(i,n,r){i=i|0,n=n|0,r||F(i,n,this.length);for(var t=this[i],l=1,o=0;++o<n&&(l*=256);)t+=this[i+o]*l;return t};p.prototype.readUIntBE=function(i,n,r){i=i|0,n=n|0,r||F(i,n,this.length);for(var t=this[i+--n],l=1;n>0&&(l*=256);)t+=this[i+--n]*l;return t};p.prototype.readUInt8=function(i,n){return n||F(i,1,this.length),this[i]};p.prototype.readUInt16LE=function(i,n){return n||F(i,2,this.length),this[i]|this[i+1]<<8};p.prototype.readUInt16BE=function(i,n){return n||F(i,2,this.length),this[i]<<8|this[i+1]};p.prototype.readUInt32LE=function(i,n){return n||F(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216};p.prototype.readUInt32BE=function(i,n){return n||F(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])};p.prototype.readIntLE=function(i,n,r){i=i|0,n=n|0,r||F(i,n,this.length);for(var t=this[i],l=1,o=0;++o<n&&(l*=256);)t+=this[i+o]*l;return l*=128,t>=l&&(t-=Math.pow(2,8*n)),t};p.prototype.readIntBE=function(i,n,r){i=i|0,n=n|0,r||F(i,n,this.length);for(var t=n,l=1,o=this[i+--t];t>0&&(l*=256);)o+=this[i+--t]*l;return l*=128,o>=l&&(o-=Math.pow(2,8*n)),o};p.prototype.readInt8=function(i,n){return n||F(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]};p.prototype.readInt16LE=function(i,n){n||F(i,2,this.length);var r=this[i]|this[i+1]<<8;return r&32768?r|4294901760:r};p.prototype.readInt16BE=function(i,n){n||F(i,2,this.length);var r=this[i+1]|this[i]<<8;return r&32768?r|4294901760:r};p.prototype.readInt32LE=function(i,n){return n||F(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24};p.prototype.readInt32BE=function(i,n){return n||F(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]};p.prototype.readFloatLE=function(i,n){return n||F(i,4,this.length),Re(this,i,!0,23,4)};p.prototype.readFloatBE=function(i,n){return n||F(i,4,this.length),Re(this,i,!1,23,4)};p.prototype.readDoubleLE=function(i,n){return n||F(i,8,this.length),Re(this,i,!0,52,8)};p.prototype.readDoubleBE=function(i,n){return n||F(i,8,this.length),Re(this,i,!1,52,8)};function P(e,i,n,r,t,l){if(!z(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>t||i<l)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(i,n,r,t){if(i=+i,n=n|0,r=r|0,!t){var l=Math.pow(2,8*r)-1;P(this,i,n,r,l,0)}var o=1,s=0;for(this[n]=i&255;++s<r&&(o*=256);)this[n+s]=i/o&255;return n+r};p.prototype.writeUIntBE=function(i,n,r,t){if(i=+i,n=n|0,r=r|0,!t){var l=Math.pow(2,8*r)-1;P(this,i,n,r,l,0)}var o=r-1,s=1;for(this[n+o]=i&255;--o>=0&&(s*=256);)this[n+o]=i/s&255;return n+r};p.prototype.writeUInt8=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,1,255,0),p.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),this[n]=i&255,n+1};function ke(e,i,n,r){i<0&&(i=65535+i+1);for(var t=0,l=Math.min(e.length-n,2);t<l;++t)e[n+t]=(i&255<<8*(r?t:1-t))>>>(r?t:1-t)*8}p.prototype.writeUInt16LE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[n]=i&255,this[n+1]=i>>>8):ke(this,i,n,!0),n+2};p.prototype.writeUInt16BE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[n]=i>>>8,this[n+1]=i&255):ke(this,i,n,!1),n+2};function Le(e,i,n,r){i<0&&(i=4294967295+i+1);for(var t=0,l=Math.min(e.length-n,4);t<l;++t)e[n+t]=i>>>(r?t:3-t)*8&255}p.prototype.writeUInt32LE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[n+3]=i>>>24,this[n+2]=i>>>16,this[n+1]=i>>>8,this[n]=i&255):Le(this,i,n,!0),n+4};p.prototype.writeUInt32BE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[n]=i>>>24,this[n+1]=i>>>16,this[n+2]=i>>>8,this[n+3]=i&255):Le(this,i,n,!1),n+4};p.prototype.writeIntLE=function(i,n,r,t){if(i=+i,n=n|0,!t){var l=Math.pow(2,8*r-1);P(this,i,n,r,l-1,-l)}var o=0,s=1,u=0;for(this[n]=i&255;++o<r&&(s*=256);)i<0&&u===0&&this[n+o-1]!==0&&(u=1),this[n+o]=(i/s>>0)-u&255;return n+r};p.prototype.writeIntBE=function(i,n,r,t){if(i=+i,n=n|0,!t){var l=Math.pow(2,8*r-1);P(this,i,n,r,l-1,-l)}var o=r-1,s=1,u=0;for(this[n+o]=i&255;--o>=0&&(s*=256);)i<0&&u===0&&this[n+o+1]!==0&&(u=1),this[n+o]=(i/s>>0)-u&255;return n+r};p.prototype.writeInt8=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,1,127,-128),p.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),i<0&&(i=255+i+1),this[n]=i&255,n+1};p.prototype.writeInt16LE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[n]=i&255,this[n+1]=i>>>8):ke(this,i,n,!0),n+2};p.prototype.writeInt16BE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[n]=i>>>8,this[n+1]=i&255):ke(this,i,n,!1),n+2};p.prototype.writeInt32LE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[n]=i&255,this[n+1]=i>>>8,this[n+2]=i>>>16,this[n+3]=i>>>24):Le(this,i,n,!0),n+4};p.prototype.writeInt32BE=function(i,n,r){return i=+i,n=n|0,r||P(this,i,n,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),p.TYPED_ARRAY_SUPPORT?(this[n]=i>>>24,this[n+1]=i>>>16,this[n+2]=i>>>8,this[n+3]=i&255):Le(this,i,n,!1),n+4};function $n(e,i,n,r,t,l){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function jn(e,i,n,r,t){return t||$n(e,i,n,4),kn(e,i,n,r,23,4),n+4}p.prototype.writeFloatLE=function(i,n,r){return jn(this,i,n,!0,r)};p.prototype.writeFloatBE=function(i,n,r){return jn(this,i,n,!1,r)};function Vn(e,i,n,r,t){return t||$n(e,i,n,8),kn(e,i,n,r,52,8),n+8}p.prototype.writeDoubleLE=function(i,n,r){return Vn(this,i,n,!0,r)};p.prototype.writeDoubleBE=function(i,n,r){return Vn(this,i,n,!1,r)};p.prototype.copy=function(i,n,r,t){if(r||(r=0),!t&&t!==0&&(t=this.length),n>=i.length&&(n=i.length),n||(n=0),t>0&&t<r&&(t=r),t===r||i.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(t<0)throw new RangeError("sourceEnd out of bounds");t>this.length&&(t=this.length),i.length-n<t-r&&(t=i.length-n+r);var l=t-r,o;if(this===i&&r<n&&n<t)for(o=l-1;o>=0;--o)i[o+n]=this[o+r];else if(l<1e3||!p.TYPED_ARRAY_SUPPORT)for(o=0;o<l;++o)i[o+n]=this[o+r];else Uint8Array.prototype.set.call(i,this.subarray(r,r+l),n);return l};p.prototype.fill=function(i,n,r,t){if(typeof i=="string"){if(typeof n=="string"?(t=n,n=0,r=this.length):typeof r=="string"&&(t=r,r=this.length),i.length===1){var l=i.charCodeAt(0);l<256&&(i=l)}if(t!==void 0&&typeof t!="string")throw new TypeError("encoding must be a string");if(typeof t=="string"&&!p.isEncoding(t))throw new TypeError("Unknown encoding: "+t)}else typeof i=="number"&&(i=i&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,i||(i=0);var o;if(typeof i=="number")for(o=n;o<r;++o)this[o]=i;else{var s=z(i)?i:Fe(new p(i,t).toString()),u=s.length;for(o=0;o<r-n;++o)this[o+n]=s[o%u]}return this};var dl=/[^+\/0-9A-Za-z-_]/g;function hl(e){if(e=ml(e).replace(dl,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function ml(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function gl(e){return e<16?"0"+e.toString(16):e.toString(16)}function Fe(e,i){i=i||1/0;for(var n,r=e.length,t=null,l=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!t){if(n>56319){(i-=3)>-1&&l.push(239,191,189);continue}else if(o+1===r){(i-=3)>-1&&l.push(239,191,189);continue}t=n;continue}if(n<56320){(i-=3)>-1&&l.push(239,191,189),t=n;continue}n=(t-55296<<10|n-56320)+65536}else t&&(i-=3)>-1&&l.push(239,191,189);if(t=null,n<128){if((i-=1)<0)break;l.push(n)}else if(n<2048){if((i-=2)<0)break;l.push(n>>6|192,n&63|128)}else if(n<65536){if((i-=3)<0)break;l.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((i-=4)<0)break;l.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return l}function _l(e){for(var i=[],n=0;n<e.length;++n)i.push(e.charCodeAt(n)&255);return i}function yl(e,i){for(var n,r,t,l=[],o=0;o<e.length&&!((i-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,t=n%256,l.push(t),l.push(r);return l}function Hn(e){return Jo(hl(e))}function Be(e,i,n,r){for(var t=0;t<r&&!(t+n>=i.length||t>=e.length);++t)i[t+n]=e[t];return t}function vl(e){return e!==e}function $(e){return e!=null&&(!!e._isBuffer||Jn(e)||xl(e))}function Jn(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function xl(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Jn(e.slice(0,0))}var E=class extends Error{constructor(i,n,r,...t){Array.isArray(n)&&(n=n.join(" ").trim()),super(n),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,E),this.code=i;for(let l of t)for(let o in l){let s=l[o];this[o]=$(s)?s.toString(r.encoding):s==null?s:JSON.parse(JSON.stringify(s))}}},wl=function(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)},zn=function(e){let i=[];for(let n=0,r=e.length;n<r;n++){let t=e[n];if(t==null||t===!1)i[n]={disabled:!0};else if(typeof t=="string")i[n]={name:t};else if(wl(t)){if(typeof t.name!="string")throw new E("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${n}`,"when column is an object literal"]);i[n]=t}else throw new E("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(t)} at position ${n}`])}return i},Ne=class{constructor(i=100){this.size=i,this.length=0,this.buf=p.allocUnsafe(i)}prepend(i){if($(i)){let n=this.length+i.length;if(n>=this.size&&(this.resize(),n>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=p.allocUnsafe(this.size),i.copy(this.buf,0),r.copy(this.buf,i.length),this.length+=i.length}else{let n=this.length++;n===this.size&&this.resize();let r=this.clone();this.buf[0]=i,r.copy(this.buf,1,0,n)}}append(i){let n=this.length++;n===this.size&&this.resize(),this.buf[n]=i}clone(){return p.from(this.buf.slice(0,this.length))}resize(){let i=this.length;this.size=this.size*2;let n=p.allocUnsafe(this.size);this.buf.copy(n,0,0,i),this.buf=n}toString(i){return i?this.buf.slice(0,this.length).toString(i):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}},bl=12,Al=13,Sl=10,El=32,Cl=9,Il=function(e){return{bomSkipped:!1,bufBytesStart:0,castField:e.cast_function,commenting:!1,error:void 0,enabled:e.from_line===1,escaping:!1,escapeIsQuote:$(e.escape)&&$(e.quote)&&p.compare(e.escape,e.quote)===0,expectedRecordLength:Array.isArray(e.columns)?e.columns.length:void 0,field:new Ne(20),firstLineToHeaders:e.cast_first_line_to_header,needMoreDataSize:Math.max(e.comment!==null?e.comment.length:0,...e.delimiter.map(i=>i.length),e.quote!==null?e.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new Ne(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:e.record_delimiter.length===0?0:Math.max(...e.record_delimiter.map(i=>i.length)),trimChars:[p.from(" ",e.encoding)[0],p.from("	",e.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[p.from(p.from([Al],"utf8").toString(),e.encoding),p.from(p.from([Sl],"utf8").toString(),e.encoding),p.from(p.from([bl],"utf8").toString(),e.encoding),p.from(p.from([El],"utf8").toString(),e.encoding),p.from(p.from([Cl],"utf8").toString(),e.encoding)]}},Ol=function(e){return e.replace(/([A-Z])/g,function(i,n){return"_"+n.toLowerCase()})},Fn=function(e){let i={};for(let r in e)i[Ol(r)]=e[r];if(i.encoding===void 0||i.encoding===!0)i.encoding="utf8";else if(i.encoding===null||i.encoding===!1)i.encoding=null;else if(typeof i.encoding!="string"&&i.encoding!==null)throw new E("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(i.encoding)}`],i);if(i.bom===void 0||i.bom===null||i.bom===!1)i.bom=!1;else if(i.bom!==!0)throw new E("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(i.bom)}`],i);if(i.cast_function=null,i.cast===void 0||i.cast===null||i.cast===!1||i.cast==="")i.cast=void 0;else if(typeof i.cast=="function")i.cast_function=i.cast,i.cast=!0;else if(i.cast!==!0)throw new E("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(i.cast)}`],i);if(i.cast_date===void 0||i.cast_date===null||i.cast_date===!1||i.cast_date==="")i.cast_date=!1;else if(i.cast_date===!0)i.cast_date=function(r){let t=Date.parse(r);return isNaN(t)?r:new Date(t)};else if(typeof i.cast_date!="function")throw new E("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(i.cast_date)}`],i);if(i.cast_first_line_to_header=null,i.columns===!0)i.cast_first_line_to_header=void 0;else if(typeof i.columns=="function")i.cast_first_line_to_header=i.columns,i.columns=!0;else if(Array.isArray(i.columns))i.columns=zn(i.columns);else if(i.columns===void 0||i.columns===null||i.columns===!1)i.columns=!1;else throw new E("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(i.columns)}`],i);if(i.group_columns_by_name===void 0||i.group_columns_by_name===null||i.group_columns_by_name===!1)i.group_columns_by_name=!1;else{if(i.group_columns_by_name!==!0)throw new E("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(i.group_columns_by_name)}`],i);if(i.columns===!1)throw new E("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],i)}if(i.comment===void 0||i.comment===null||i.comment===!1||i.comment==="")i.comment=null;else if(typeof i.comment=="string"&&(i.comment=p.from(i.comment,i.encoding)),!$(i.comment))throw new E("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(i.comment)}`],i);if(i.comment_no_infix===void 0||i.comment_no_infix===null||i.comment_no_infix===!1)i.comment_no_infix=!1;else if(i.comment_no_infix!==!0)throw new E("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(i.comment_no_infix)}`],i);let n=JSON.stringify(i.delimiter);if(Array.isArray(i.delimiter)||(i.delimiter=[i.delimiter]),i.delimiter.length===0)throw new E("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],i);if(i.delimiter=i.delimiter.map(function(r){if(r==null||r===!1)return p.from(",",i.encoding);if(typeof r=="string"&&(r=p.from(r,i.encoding)),!$(r)||r.length===0)throw new E("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],i);return r}),i.escape===void 0||i.escape===!0?i.escape=p.from('"',i.encoding):typeof i.escape=="string"?i.escape=p.from(i.escape,i.encoding):(i.escape===null||i.escape===!1)&&(i.escape=null),i.escape!==null&&!$(i.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(i.escape)}`);if(i.from===void 0||i.from===null)i.from=1;else if(typeof i.from=="string"&&/\d+/.test(i.from)&&(i.from=parseInt(i.from)),Number.isInteger(i.from)){if(i.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(i.from)}`);if(i.from_line===void 0||i.from_line===null)i.from_line=1;else if(typeof i.from_line=="string"&&/\d+/.test(i.from_line)&&(i.from_line=parseInt(i.from_line)),Number.isInteger(i.from_line)){if(i.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(i.ignore_last_delimiters===void 0||i.ignore_last_delimiters===null)i.ignore_last_delimiters=!1;else if(typeof i.ignore_last_delimiters=="number")i.ignore_last_delimiters=Math.floor(i.ignore_last_delimiters),i.ignore_last_delimiters===0&&(i.ignore_last_delimiters=!1);else if(typeof i.ignore_last_delimiters!="boolean")throw new E("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(i.ignore_last_delimiters)}`],i);if(i.ignore_last_delimiters===!0&&i.columns===!1)throw new E("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],i);if(i.info===void 0||i.info===null||i.info===!1)i.info=!1;else if(i.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(i.info)}`);if(i.max_record_size===void 0||i.max_record_size===null||i.max_record_size===!1)i.max_record_size=0;else if(!(Number.isInteger(i.max_record_size)&&i.max_record_size>=0))if(typeof i.max_record_size=="string"&&/\d+/.test(i.max_record_size))i.max_record_size=parseInt(i.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(i.max_record_size)}`);if(i.objname===void 0||i.objname===null||i.objname===!1)i.objname=void 0;else if($(i.objname)){if(i.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");i.encoding===null||(i.objname=i.objname.toString(i.encoding))}else if(typeof i.objname=="string"){if(i.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof i.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${i.objname}`);if(i.objname!==void 0){if(typeof i.objname=="number"){if(i.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(i.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(i.on_record===void 0||i.on_record===null)i.on_record=void 0;else if(typeof i.on_record!="function")throw new E("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(i.on_record)}`],i);if(i.on_skip!==void 0&&i.on_skip!==null&&typeof i.on_skip!="function")throw new Error(`Invalid Option: on_skip must be a function, got ${JSON.stringify(i.on_skip)}`);if(i.quote===null||i.quote===!1||i.quote==="")i.quote=null;else if(i.quote===void 0||i.quote===!0?i.quote=p.from('"',i.encoding):typeof i.quote=="string"&&(i.quote=p.from(i.quote,i.encoding)),!$(i.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(i.quote)}`);if(i.raw===void 0||i.raw===null||i.raw===!1)i.raw=!1;else if(i.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(i.raw)}`);if(i.record_delimiter===void 0)i.record_delimiter=[];else if(typeof i.record_delimiter=="string"||$(i.record_delimiter)){if(i.record_delimiter.length===0)throw new E("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(i.record_delimiter)}`],i);i.record_delimiter=[i.record_delimiter]}else if(!Array.isArray(i.record_delimiter))throw new E("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(i.record_delimiter)}`],i);if(i.record_delimiter=i.record_delimiter.map(function(r,t){if(typeof r!="string"&&!$(r))throw new E("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${t},`,`got ${JSON.stringify(r)}`],i);if(r.length===0)throw new E("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${t},`,`got ${JSON.stringify(r)}`],i);return typeof r=="string"&&(r=p.from(r,i.encoding)),r}),typeof i.relax_column_count!="boolean")if(i.relax_column_count===void 0||i.relax_column_count===null)i.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(i.relax_column_count)}`);if(typeof i.relax_column_count_less!="boolean")if(i.relax_column_count_less===void 0||i.relax_column_count_less===null)i.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(i.relax_column_count_less)}`);if(typeof i.relax_column_count_more!="boolean")if(i.relax_column_count_more===void 0||i.relax_column_count_more===null)i.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(i.relax_column_count_more)}`);if(typeof i.relax_quotes!="boolean")if(i.relax_quotes===void 0||i.relax_quotes===null)i.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(i.relax_quotes)}`);if(typeof i.skip_empty_lines!="boolean")if(i.skip_empty_lines===void 0||i.skip_empty_lines===null)i.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(i.skip_empty_lines)}`);if(typeof i.skip_records_with_empty_values!="boolean")if(i.skip_records_with_empty_values===void 0||i.skip_records_with_empty_values===null)i.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(i.skip_records_with_empty_values)}`);if(typeof i.skip_records_with_error!="boolean")if(i.skip_records_with_error===void 0||i.skip_records_with_error===null)i.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(i.skip_records_with_error)}`);if(i.rtrim===void 0||i.rtrim===null||i.rtrim===!1)i.rtrim=!1;else if(i.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(i.rtrim)}`);if(i.ltrim===void 0||i.ltrim===null||i.ltrim===!1)i.ltrim=!1;else if(i.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(i.ltrim)}`);if(i.trim===void 0||i.trim===null||i.trim===!1)i.trim=!1;else if(i.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(i.trim)}`);if(i.trim===!0&&e.ltrim!==!1?i.ltrim=!0:i.ltrim!==!0&&(i.ltrim=!1),i.trim===!0&&e.rtrim!==!1?i.rtrim=!0:i.rtrim!==!0&&(i.rtrim=!1),i.to===void 0||i.to===null)i.to=-1;else if(typeof i.to=="string"&&/\d+/.test(i.to)&&(i.to=parseInt(i.to)),Number.isInteger(i.to)){if(i.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(i.to_line===void 0||i.to_line===null)i.to_line=-1;else if(typeof i.to_line=="string"&&/\d+/.test(i.to_line)&&(i.to_line=parseInt(i.to_line)),Number.isInteger(i.to_line)){if(i.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return i},Nn=function(e){return e.every(i=>i==null||i.toString&&i.toString().trim()==="")},Tl=13,Dl=10,fe={utf8:p.from([239,187,191]),utf16le:p.from([255,254])},Fl=function(e={}){let i={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},n=Fn(e);return{info:i,original_options:e,options:n,state:Il(n),__needMoreData:function(r,t,l){if(l)return!1;let{encoding:o,escape:s,quote:u}=this.options,{quoting:a,needMoreDataSize:f,recordDelimiterMaxLength:c}=this.state,d=t-r-1,h=Math.max(f,c===0?p.from(`\r
`,o).length:c,a?(s===null?0:s.length)+u.length:0,a?u.length+c:0);return d<h},parse:function(r,t,l,o){let{bom:s,comment_no_infix:u,encoding:a,from_line:f,ltrim:c,max_record_size:d,raw:h,relax_quotes:g,rtrim:m,skip_empty_lines:x,to:A,to_line:_}=this.options,{comment:C,escape:R,quote:I,record_delimiter:pe}=this.options,{bomSkipped:xe,previousBuf:j,rawBuffer:de,escapeIsQuote:ie}=this.state,S;if(j===void 0)if(r===void 0){o();return}else S=r;else j!==void 0&&r===void 0?S=j:S=p.concat([j,r]);if(xe===!1)if(s===!1)this.state.bomSkipped=!0;else if(S.length<3){if(t===!1){this.state.previousBuf=S;return}}else{for(let O in fe)if(fe[O].compare(S,0,fe[O].length)===0){let K=fe[O].length;this.state.bufBytesStart+=K,S=S.slice(K),this.options=Fn({...this.original_options,encoding:O}),{comment:C,escape:R,quote:I}=this.options;break}this.state.bomSkipped=!0}let Me=S.length,w;for(w=0;w<Me&&!this.__needMoreData(w,Me,t);w++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),_!==-1&&this.info.lines>_){this.state.stop=!0,o();return}this.state.quoting===!1&&pe.length===0&&this.__autoDiscoverRecordDelimiter(S,w)&&(pe=this.options.record_delimiter);let O=S[w];if(h===!0&&de.append(O),(O===Tl||O===Dl)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(R!==null&&this.state.quoting===!0&&this.__isEscape(S,w,O)&&w+R.length<Me)if(ie){if(this.__isQuote(S,w+R.length)){this.state.escaping=!0,w+=R.length-1;continue}}else{this.state.escaping=!0,w+=R.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(S,w))if(this.state.quoting===!0){let k=S[w+I.length],ne=m&&this.__isCharTrimable(S,w+I.length),Q=C!==null&&this.__compareBytes(C,S,w+I.length,k),re=this.__isDelimiter(S,w+I.length,k),we=pe.length===0?this.__autoDiscoverRecordDelimiter(S,w+I.length):this.__isRecordDelimiter(k,S,w+I.length);if(R!==null&&this.__isEscape(S,w,O)&&this.__isQuote(S,w+R.length))w+=R.length-1;else if(!k||re||we||Q||ne){this.state.quoting=!1,this.state.wasQuoting=!0,w+=I.length-1;continue}else if(g===!1){let oi=this.__error(new E("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(k)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(oi!==void 0)return oi}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(I),w+=I.length-1}else if(this.state.field.length!==0){if(g===!1){let k=this.__infoField(),ne=Object.keys(fe).map(re=>fe[re].equals(this.state.field.toString())?re:!1).filter(Boolean)[0],Q=this.__error(new E("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(k.column)} at line ${k.lines}, value is ${JSON.stringify(this.state.field.toString(a))}`,ne?`(${ne} bom)`:void 0],this.options,k,{field:this.state.field}));if(Q!==void 0)return Q}}else{this.state.quoting=!0,w+=I.length-1;continue}if(this.state.quoting===!1){let k=this.__isRecordDelimiter(O,S,w);if(k!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=f){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),w+=k-1;continue}if(x===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,w+=k-1;continue}this.info.bytes=this.state.bufBytesStart+w;let re=this.__onField();if(re!==void 0)return re;this.info.bytes=this.state.bufBytesStart+w+k;let we=this.__onRecord(l);if(we!==void 0)return we;if(A!==-1&&this.info.records>=A){this.state.stop=!0,o();return}}this.state.commenting=!1,w+=k-1;continue}if(this.state.commenting)continue;if(C!==null&&(u===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(C,S,w,O)!==0){this.state.commenting=!0;continue}let ne=this.__isDelimiter(S,w,O);if(ne!==0){this.info.bytes=this.state.bufBytesStart+w;let Q=this.__onField();if(Q!==void 0)return Q;w+=ne-1;continue}}}if(this.state.commenting===!1&&d!==0&&this.state.record_length+this.state.field.length>d)return this.__error(new E("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${d}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let K=c===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(S,w),pr=m===!1||this.state.wasQuoting===!1;if(K===!0&&pr===!0)this.state.field.append(O);else{if(m===!0&&!this.__isCharTrimable(S,w))return this.__error(new E("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));K===!1&&(w+=this.__isCharTrimable(S,w)-1);continue}}if(t===!0)if(this.state.quoting===!0){let O=this.__error(new E("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(O!==void 0)return O}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+w;let O=this.__onField();if(O!==void 0)return O;let K=this.__onRecord(l);if(K!==void 0)return K}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=w,this.state.previousBuf=S.slice(w);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(r){let{columns:t,group_columns_by_name:l,encoding:o,info:s,from:u,relax_column_count:a,relax_column_count_less:f,relax_column_count_more:c,raw:d,skip_records_with_empty_values:h}=this.options,{enabled:g,record:m}=this.state;if(g===!1)return this.__resetRecord();let x=m.length;if(t===!0){if(h===!0&&Nn(m)){this.__resetRecord();return}return this.__firstLineToColumns(m)}if(t===!1&&this.info.records===0&&(this.state.expectedRecordLength=x),x!==this.state.expectedRecordLength){let A=t===!1?new E("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${x} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m}):new E("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${t.length},`,`got ${x} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m});if(a===!0||f===!0&&x<this.state.expectedRecordLength||c===!0&&x>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=A;else{let _=this.__error(A);if(_)return _}}if(h===!0&&Nn(m)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,u===1||this.info.records>=u){let{objname:A}=this.options;if(t!==!1){let _={};for(let C=0,R=m.length;C<R;C++)t[C]===void 0||t[C].disabled||(l===!0&&_[t[C].name]!==void 0?Array.isArray(_[t[C].name])?_[t[C].name]=_[t[C].name].concat(m[C]):_[t[C].name]=[_[t[C].name],m[C]]:_[t[C].name]=m[C]);if(d===!0||s===!0){let C=Object.assign({record:_},d===!0?{raw:this.state.rawBuffer.toString(o)}:{},s===!0?{info:this.__infoRecord()}:{}),R=this.__push(A===void 0?C:[_[A],C],r);if(R)return R}else{let C=this.__push(A===void 0?_:[_[A],_],r);if(C)return C}}else if(d===!0||s===!0){let _=Object.assign({record:m},d===!0?{raw:this.state.rawBuffer.toString(o)}:{},s===!0?{info:this.__infoRecord()}:{}),C=this.__push(A===void 0?_:[m[A],_],r);if(C)return C}else{let _=this.__push(A===void 0?m:[m[A],m],r);if(_)return _}}this.__resetRecord()},__firstLineToColumns:function(r){let{firstLineToHeaders:t}=this.state;try{let l=t===void 0?r:t.call(null,r);if(!Array.isArray(l))return this.__error(new E("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(l)}`],this.options,this.__infoField(),{headers:l}));let o=zn(l);this.state.expectedRecordLength=o.length,this.options.columns=o,this.__resetRecord();return}catch(l){return l}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:r,encoding:t,rtrim:l,max_record_size:o}=this.options,{enabled:s,wasQuoting:u}=this.state;if(s===!1)return this.__resetField();let a=this.state.field.toString(t);if(l===!0&&u===!1&&(a=a.trimRight()),r===!0){let[f,c]=this.__cast(a);if(f!==void 0)return f;a=c}this.state.record.push(a),o!==0&&typeof a=="string"&&(this.state.record_length+=a.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(r,t){let{on_record:l}=this.options;if(l!==void 0){let o=this.__infoRecord();try{r=l.call(null,r,o)}catch(s){return s}if(r==null)return}t(r)},__cast:function(r){let{columns:t,relax_column_count:l}=this.options;if(Array.isArray(t)===!0&&l&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{let s=this.__infoField();return[void 0,this.state.castField.call(null,r,s)]}catch(s){return[s]}if(this.__isFloat(r))return[void 0,parseFloat(r)];if(this.options.cast_date!==!1){let s=this.__infoField();return[void 0,this.options.cast_date.call(null,r,s)]}return[void 0,r]},__isCharTrimable:function(r,t){return((o,s)=>{let{timchars:u}=this.state;e:for(let a=0;a<u.length;a++){let f=u[a];for(let c=0;c<f.length;c++)if(f[c]!==o[s+c])continue e;return f.length}return 0})(r,t)},__isFloat:function(r){return r-parseFloat(r)+1>=0},__compareBytes:function(r,t,l,o){if(r[0]!==o)return 0;let s=r.length;for(let u=1;u<s;u++)if(r[u]!==t[l+u])return 0;return s},__isDelimiter:function(r,t,l){let{delimiter:o,ignore_last_delimiters:s}=this.options;if(s===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(s!==!1&&typeof s=="number"&&this.state.record.length===s-1)return 0;e:for(let u=0;u<o.length;u++){let a=o[u];if(a[0]===l){for(let f=1;f<a.length;f++)if(a[f]!==r[t+f])continue e;return a.length}}return 0},__isRecordDelimiter:function(r,t,l){let{record_delimiter:o}=this.options,s=o.length;e:for(let u=0;u<s;u++){let a=o[u],f=a.length;if(a[0]===r){for(let c=1;c<f;c++)if(a[c]!==t[l+c])continue e;return a.length}}return 0},__isEscape:function(r,t,l){let{escape:o}=this.options;if(o===null)return!1;let s=o.length;if(o[0]===l){for(let u=0;u<s;u++)if(o[u]!==r[t+u])return!1;return!0}return!1},__isQuote:function(r,t){let{quote:l}=this.options;if(l===null)return!1;let o=l.length;for(let s=0;s<o;s++)if(l[s]!==r[t+s])return!1;return!0},__autoDiscoverRecordDelimiter:function(r,t){let{encoding:l}=this.options,o=[p.from(`\r
`,l),p.from(`
`,l),p.from("\r",l)];e:for(let s=0;s<o.length;s++){let u=o[s].length;for(let a=0;a<u;a++)if(o[s][a]!==r[t+a])continue e;return this.options.record_delimiter.push(o[s]),this.state.recordDelimiterMaxLength=o[s].length,o[s].length}return 0},__error:function(r){let{encoding:t,raw:l,skip_records_with_error:o}=this.options,s=typeof r=="string"?new Error(r):r;if(o){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(s,l?this.state.rawBuffer.toString(t):void 0);return}else return s},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){let{columns:r,raw:t,encoding:l}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:r===!0,index:this.state.record.length,raw:t?this.state.rawBuffer.toString(l):void 0}},__infoField:function(){let{columns:r}=this.options,t=Array.isArray(r);return{...this.__infoRecord(),column:t===!0?r.length>this.state.record.length?r[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},Qn=function(e,i={}){typeof e=="string"&&(e=p.from(e));let n=i&&i.objname?{}:[],r=Fl(i),t=u=>{r.options.objname===void 0?n.push(u):n[u[0]]=u[1]},l=()=>{},o=r.parse(e,!1,t,l);if(o!==void 0)throw o;let s=r.parse(void 0,!0,t,l);if(s!==void 0)throw s;return n};var Wn={name:"table",arg:{type:"myst",doc:"An optional table caption"},options:{...b("table"),class:{type:String,doc:"CSS classes to add to your table. Special classes include:\n\n- `full-width`: changes the table environment to cover two columns in LaTeX"},align:{type:String}},body:{type:"myst",required:!0},run(e){let i=[];e.arg&&i.push({type:"caption",children:[{type:"paragraph",children:e.arg}]}),i.push(...e.body);let n={type:"container",kind:"table",children:i};return v(e,n),[n]}},Kn={name:"list-table",arg:{type:"myst",doc:"An optional table caption"},options:{...b("list table"),"header-rows":{type:Number},class:{type:String,doc:"CSS classes to add to your table. Special classes include:\n\n- `full-width`: changes the table environment to cover two columns in LaTeX"},align:{type:String}},body:{type:"myst",required:!0},validate(e,i){var n;let r={...e},t=e.body;return t.length!==1||t[0].type!=="list"?(q(i,"list-table directive must have one list as body",{node:e.node,ruleId:M.directiveBodyCorrect}),r.body=[]):(n=t[0].children)===null||n===void 0||n.forEach(l=>{var o,s;r.body.length&&(l.type!=="listItem"||((o=l.children)===null||o===void 0?void 0:o.length)!==1||((s=l.children[0])===null||s===void 0?void 0:s.type)!=="list")&&(q(i,"list-table directive must have a list of lists",{node:e.node,ruleId:M.directiveBodyCorrect}),r.body=[])}),r},run(e){var i,n,r;let t=[];e.arg&&t.push({type:"caption",children:[{type:"paragraph",children:e.arg}]});let l=((i=e.body[0])===null||i===void 0?void 0:i.children)||[],o=((n=e.options)===null||n===void 0?void 0:n["header-rows"])||0,s={type:"table",align:(r=e.options)===null||r===void 0?void 0:r.align,children:l.map(a=>{var f,c;let h={type:"tableRow",children:(((c=(f=a.children)===null||f===void 0?void 0:f[0])===null||c===void 0?void 0:c.children)||[]).map(g=>({type:"tableCell",header:o>0?!0:void 0,children:g.children}))};return o-=1,h})};t.push(s);let u={type:"container",kind:"table",children:t};return v(e,u),[u]}};function Gn(e,i,n){var r,t,l;let o=(r=n?.delim)!==null&&r!==void 0?r:",";return Qn(e,{delimiter:o==="tab"?"	":o==="space"?" ":o,ltrim:!n?.keepspace,escape:(t=n?.escape)!==null&&t!==void 0?t:'"',quote:(l=n?.quote)!==null&&l!==void 0?l:'"'}).map((u,a)=>u.map(f=>{let c=i.parseMyst(f,a);return V("*:root > paragraph:only-child",c)}))}var Xn={name:"csv-table",doc:'The "csv-table" directive is used to create a table from CSV (comma-separated values) data.',arg:{type:"myst",doc:"An optional table caption"},options:{...b("CSV table"),header:{type:String,doc:"Supplemental data for the table header, added independently of and before any header-rows from the main CSV data. Must use the same CSV format as the main CSV data."},"header-rows":{type:Number,doc:"The number of rows of CSV data to use in the table header. Defaults to 0."},class:{type:String,doc:"CSS classes to add to your table. Special classes include:\n\n- `full-width`: changes the table environment to cover two columns in LaTeX"},align:{type:String},delim:{type:String,doc:'The character used to separate data fields. The special values "tab" and "space" are converted to the respective whitespace characters. Defaults to "," (comma)'},keepspace:{type:Boolean,doc:"Treat whitespace immediately following the delimiter as significant. The default is to ignore such whitespace."},quote:{type:String,doc:'The character used to quote fields containing special characters, such as the delimiter, quotes, or new-line characters. Must be a single character, defaults to `"` (a double quote)\\\nFor example, `First cell, "These commas, for example, are escaped", Next cell`'},escape:{type:String,doc:'A character used to escape the delimiter or quote characters from the CSV parser. Must be a single character, defaults to `"` (a double quote) default is a double quote\\\nFor example, `First cell, "These quotes"", for example, are escaped", Next cell`'}},body:{type:String,doc:"The CSV content",required:!0},run(e,i,n){var r,t,l,o,s;let u=[];e.arg&&u.push({type:"caption",children:[{type:"paragraph",children:e.arg}]});let a=[];if(((r=e.options)===null||r===void 0?void 0:r.header)!==void 0){let g=[];try{g=Gn(e.options.header,n,e.options)}catch{q(i,"csv-table directive header must be valid CSV-formatted MyST",{node:(t=V('mystOption[name="header"]',e.node))!==null&&t!==void 0?t:e.node,ruleId:M.directiveOptionsCorrect})}a.push(...g.map(m=>({type:"tableRow",children:m.map(x=>{var A;return{type:"tableCell",header:!0,children:(A=x?.children)!==null&&A!==void 0?A:[]}})})))}let f=[];try{f=Gn(e.body,n,e.options)}catch{q(i,"csv-table directive body must be valid CSV-formatted MyST",{node:(l=V("mystDirectiveBody",e.node))!==null&&l!==void 0?l:e.node,ruleId:M.directiveBodyCorrect})}let c=((o=e.options)===null||o===void 0?void 0:o["header-rows"])||0;a.push(...f.map(g=>{let m={type:"tableRow",children:g.map(x=>{var A;return{type:"tableCell",header:c>0?!0:void 0,children:(A=x?.children)!==null&&A!==void 0?A:[]}})};return c-=1,m}));let d={type:"table",align:(s=e.options)===null||s===void 0?void 0:s.align,children:a},h={type:"container",kind:"table",children:[...u,d]};return v(e,h),[h]}};var Zn={name:"aside",alias:["margin","sidebar","topic"],arg:{type:"myst",doc:"An optional title"},options:{...b("aside")},body:{type:"myst",required:!0},run(e){let i=[...e.body];e.arg&&i.unshift({type:"admonitionTitle",children:e.arg});let n={type:"aside",kind:e.name=="aside"||e.name=="margin"?void 0:e.name,children:i};return v(e,n),[n]}};var er={name:"glossary",body:{type:"myst",required:!0},options:{...b("glossary")},run(e){let i={type:"glossary",children:e.body};return v(e,i),[i]}};var ir={name:"math",options:{...b("math"),typst:{type:String,doc:"Typst-specific math content. If not provided, LaTeX content will be converted to Typst."}},body:{type:String,required:!0},run(e){var i;let n=v(e,{type:"math",value:e.body});return e.node.tight&&(n.tight=e.node.tight),!((i=e.options)===null||i===void 0)&&i.typst&&(n.typst=e.options.typst),[n]}};var nr={name:"mdast",arg:{type:String,required:!0},options:{...b("mdast")},run(e){let i={type:"mdast",id:e.arg};return v(e,i),[i]}};var rr={name:"mermaid",options:{...b("mermaid")},body:{type:String,required:!0},run(e){return[v(e,{type:"mermaid",value:e.body})]}};var tr={name:"myst",options:{...b("myst"),numbering:{type:String}},body:{type:String,required:!0},run(e){var i;let n;if(!((i=e.options)===null||i===void 0)&&i.numbering)try{n=Te.load(e.options.numbering)}catch{}let r={type:"myst",numbering:n,value:e.body};return v(e,r),[r]}};var or=dr(hr(),1);var lr={name:"blockquote",alias:["epigraph","pull-quote"],doc:"Block quotes are used to indicate that the enclosed content forms an extended quotation. They may be followed by an inscription or attribution formed of a paragraph beginning with `--`, `---`, or an em-dash.",options:{...b("blockquote"),class:{type:String,doc:"CSS classes to add to your blockquote. Special classes include:\n\n- `pull-quote`: used for a blockquote node which should attract attention\n- `epigraph`: used for a blockquote node that are usually found at the beginning of a document"}},body:{type:"myst",doc:"The body of the quote, which may contain a special attribution paragraph that is turned into a caption"},run(e){var i;let n=[];e.body&&n.push(...e.body);let r={type:"container",kind:"quote",children:[{type:"blockquote",children:n}]};v(e,r);let t=(i=e.options)===null||i===void 0?void 0:i.class;return r.class=(0,or.default)({[t]:t,[e.name]:e.name!=="blockquote"}),[r]}};var sr={name:"raw",doc:'Allows you to include non-markdown text in your document. If the argument "latex" is provided, the text will be parsed as latex; otherwise, it will be included as raw text.',arg:{type:String,doc:'Format of directive content - for now, only "latex" is valid'},body:{type:String,doc:"Raw content to be parsed"},run(e){var i,n;let r=(i=e.arg)!==null&&i!==void 0?i:"",t=(n=e.body)!==null&&n!==void 0?n:"",l=["tex","latex"].includes(r)?`
${t}
`:void 0,o=["typst","typ"].includes(r)?`
${t}
`:void 0;return[{type:"raw",lang:r,tex:l,typst:o,value:t}]}},ur={name:"raw:latex",alias:["raw:tex"],doc:"Allows you to include tex in your document that will only be included in tex exports",body:{type:String,doc:"Raw tex content"},run(e){let i="tex",n=e.body,r=n?`
${n}
`:"";return[{type:"raw",lang:i,tex:r}]}},ar={name:"raw:typst",alias:["raw:typ"],doc:"Allows you to include typst in your document that will only be included in typst exports",body:{type:String,doc:"Raw typst content"},run(e){let i="typst",n=e.body,r=n?`
${n}
`:"";return[{type:"raw",lang:i,typst:r}]}};var cr={name:"div",options:{...b("div")},body:{type:"myst"},run(e){let i={type:"div"};return e.body&&(i.children=e.body),v(e,i),[i]}};var Nl=["project","page","section"],fr={name:"toc",doc:"Inserts table of contents in the page. This may be for the project (each page has an entry), the current page (each heading has an entry), or the current section (only headings in the section have an entry).",alias:["tableofcontents","table-of-contents","toctree","contents"],arg:{type:"myst",doc:"Heading to be included with table of contents"},options:{context:{type:String,doc:"Table of Contents context; one of project, page, or section",alias:["kind"]},depth:{type:Number,doc:"Number of levels to include in Table of Contents; by default, all levels will be included",alias:["maxdepth"]},...b("toc")},run(e,i){var n,r,t;let l=!((n=e.options)===null||n===void 0)&&n.context?e.options.context:e.name==="contents"?"section":"project";Nl.includes(l)||(q(i,`Unknown context for ${e.name} directive: ${l}`),l="project");let o=(r=e.options)===null||r===void 0?void 0:r.depth;o!=null&&o<1&&(q(i,"Table of Contents 'depth' must be a number greater than 0"),o=void 0);let s=[];if(e.arg){let a=e.arg;((t=a[0])===null||t===void 0?void 0:t.type)==="heading"?s.push(...a):s.push({type:"heading",depth:2,enumerated:!1,children:a})}let u={type:"toc",kind:l,depth:o,children:s};return v(e,u),[u]}};var ou=[ci,fi,Xn,gn,_n,yn,vn,lr,xn,wn,bn,Sn,En,Cn,Wn,Kn,Zn,er,ir,nr,rr,tr,sr,ur,ar,cr,fr];export{b as a,v as b,ou as c};
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
