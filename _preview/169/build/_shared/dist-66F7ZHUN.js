import{a as Il,b as Pl}from"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-FMKRCXEX.js";import{b as st}from"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-KXDZNNUH.js";import"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-J6FHCSRC.js";import{b as Fn,c as xa,e as wa,j as ai,n as ka,s as Mt,t as Ca}from"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-ND43KHSX.js";import"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-GUCIBHGO.js";import{c as mn,e as ii}from"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-2NH4LW52.js";var Yn=mn((_t,os)=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.default={END_WORD:"$",END_WORD_REPLACER:"9a219a89-91cd-42e2-abd5-eb113af08ca8",PERMS_MIN_LEN:2};os.exports=_t.default});var vi=mn((It,ls)=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.default=Hl;var Gl=Yn(),ft=zl(Gl);function zl(r){return r&&r.__esModule?r:{default:r}}function Hl(r,t,s,l){var n=t===ft.default.END_WORD,o=s===l.length-1;return n&&!o?(r[ft.default.END_WORD]=1,r[ft.default.END_WORD_REPLACER]={},r=r[ft.default.END_WORD_REPLACER]):(r[t]=r[t]||{},r=r[t]),o&&(r[ft.default.END_WORD]=1),r}ls.exports=It.default});var fs=mn((Pt,us)=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};Pt.default=Yl;var Vl=vi(),Xl=Kl(Vl);function Kl(r){return r&&r.__esModule?r:{default:r}}function Yl(r){if(!Array.isArray(r))throw"Expected parameter Array, received "+(typeof r>"u"?"undefined":Ul(r));var t=r.reduce(function(s,l){return l.toLowerCase().split("").reduce(Xl.default,s),s},{});return t}us.exports=Pt.default});var yi=mn((St,cs)=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.default={objectCopy:function(t){return typeof t>"u"?{}:JSON.parse(JSON.stringify(t))},stringify:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return typeof t>"u"?"":JSON.stringify(t,null,s)}};cs.exports=St.default});var ps=mn((Ft,gs)=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.default=Ql;var Zl=yi(),jc=Jl(Zl);function Jl(r){return r&&r.__esModule?r:{default:r}}function Ql(r,t){var s=t.toLowerCase().split(""),l=s.every(function(n,o){return r[n]?r=r[n]:!1});return{prefixFound:l,prefixNode:r}}gs.exports=Ft.default});var hs=mn((Rt,ds)=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.default=ms;var eu=Yn(),bi=ru(eu);function ru(r){return r&&r.__esModule?r:{default:r}}var nu=function(t,s){for(var l=0;l<s.length&&!(t<s[l]);)l+=1;return s.splice(l,0,t),s};function ms(r,t,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],n=t;for(var o in r){var e=o;o===bi.default.END_WORD&&typeof r[o]=="number"?(s?nu(n,l):l.push(n),n=""):o===bi.default.END_WORD_REPLACER&&(e=bi.default.END_WORD),ms(r[o],t+e,s,l)}return l}ds.exports=Rt.default});var bs=mn((Ot,ys)=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.default=vs;var tu=Yn(),iu=au(tu);function au(r){return r&&r.__esModule?r:{default:r}}function vs(r,t){var s=t,l=Object.keys(r),n=l[Math.floor(Math.random()*l.length)];return n===iu.default.END_WORD?s:vs(r[n],t+n)}ys.exports=Ot.default});var As=mn((Dt,$s)=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});var su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};Dt.default=fu;var ou=Yn(),lu=uu(ou);function uu(r){return r&&r.__esModule?r:{default:r}}function fu(r,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{type:"anagram"};if(typeof r!="string")throw"Permutations expects string letters, received "+(typeof r>"u"?"undefined":su(r));var l=[],n=function o(e,m){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",_=e.length===0,P=l.indexOf(h)!==-1,U=m[lu.default.END_WORD]===1;_&&U&&!P&&l.push(h);for(var ee=0,y=e.length;ee<y;ee++){var v=e[ee];if(s.type==="sub-anagram"&&U&&l.indexOf(h)===-1&&l.push(h),m[v]){var T=e.substring(0,ee)+e.substring(ee+1,y);o(T,m[v],h+v,l)}}return l.sort()};return n(r,t)}$s.exports=Dt.default});var Ai=mn((Tt,ws)=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};Tt.default=function(r){if(!Array.isArray(r))throw"Expected parameter Array, received "+(typeof r>"u"?"undefined":Sn(r));var t=(0,gu.default)([].concat(ku(r)));return{tree:function(){return t},dump:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Au.default.stringify(t,l)},addWord:function(l){if(typeof l!="string"||l==="")throw"Expected parameter string, received "+(typeof l>"u"?"undefined":Sn(l));var n=function(){return mu.default.apply(void 0,arguments)},o=l.toLowerCase().split("");return o.reduce(n,t),this},removeWord:function(l){if(typeof l!="string"||l==="")throw"Expected parameter string, received "+(typeof l>"u"?"undefined":Sn(l));var n=(0,ct.default)(t,l),o=n.prefixFound,e=n.prefixNode;return o&&delete e[$i.default.END_WORD],this},isPrefix:function(l){if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":Sn(l));var n=(0,ct.default)(t,l),o=n.prefixFound;return o},getPrefix:function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":Sn(l));if(typeof n!="boolean")throw"Expected sort parameter as boolean, received "+(typeof n>"u"?"undefined":Sn(n));if(!this.isPrefix(l))return[];var o=l.length?(0,ct.default)(t,l).prefixNode:t;return(0,vu.default)(o,l,n)},getRandomWordWithPrefix:function(l){if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":Sn(l));if(!this.isPrefix(l))return"";var n=(0,ct.default)(t,l),o=n.prefixNode;return(0,bu.default)(o,l)},countPrefix:function(l){var n=this.getPrefix(l);return n.length},getWords:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.getPrefix("",l)},hasWord:function(l){if(typeof l!="string")throw"Expected string word, received "+(typeof l>"u"?"undefined":Sn(l));var n=(0,ct.default)(t,l),o=n.prefixFound,e=n.prefixNode;return o?e[$i.default.END_WORD]===1:!1},getAnagrams:function(l){if(typeof l!="string")throw"Anagrams expected string letters, received "+(typeof l>"u"?"undefined":Sn(l));if(l.length<Bt)throw"getAnagrams expects at least "+Bt+" letters";return(0,xs.default)(l,t,{type:"anagram"})},getSubAnagrams:function(l){if(typeof l!="string")throw"Expected string letters, received "+(typeof l>"u"?"undefined":Sn(l));if(l.length<Bt)throw"getSubAnagrams expects at least "+Bt+" letters";return(0,xs.default)(l,t,{type:"sub-anagram"})}}};var cu=fs(),gu=Gn(cu),pu=vi(),mu=Gn(pu),du=ps(),ct=Gn(du),hu=hs(),vu=Gn(hu),yu=bs(),bu=Gn(yu),$u=yi(),Au=Gn($u),xu=Yn(),$i=Gn(xu),wu=As(),xs=Gn(wu);function Gn(r){return r&&r.__esModule?r:{default:r}}function ku(r){if(Array.isArray(r)){for(var t=0,s=Array(r.length);t<r.length;t++)s[t]=r[t];return s}else return Array.from(r)}var Bt=$i.default.PERMS_MIN_LEN;ws.exports=Tt.default});var Ci=mn((Pg,zs)=>{var pt=Il(),Gs={};for(let r of Object.keys(pt))Gs[pt[r]]=r;var Be={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};zs.exports=Be;for(let r of Object.keys(Be)){if(!("channels"in Be[r]))throw new Error("missing channels property: "+r);if(!("labels"in Be[r]))throw new Error("missing channel labels property: "+r);if(Be[r].labels.length!==Be[r].channels)throw new Error("channel and label counts mismatch: "+r);let{channels:t,labels:s}=Be[r];delete Be[r].channels,delete Be[r].labels,Object.defineProperty(Be[r],"channels",{value:t}),Object.defineProperty(Be[r],"labels",{value:s})}Be.rgb.hsl=function(r){let t=r[0]/255,s=r[1]/255,l=r[2]/255,n=Math.min(t,s,l),o=Math.max(t,s,l),e=o-n,m,h;o===n?m=0:t===o?m=(s-l)/e:s===o?m=2+(l-t)/e:l===o&&(m=4+(t-s)/e),m=Math.min(m*60,360),m<0&&(m+=360);let _=(n+o)/2;return o===n?h=0:_<=.5?h=e/(o+n):h=e/(2-o-n),[m,h*100,_*100]};Be.rgb.hsv=function(r){let t,s,l,n,o,e=r[0]/255,m=r[1]/255,h=r[2]/255,_=Math.max(e,m,h),P=_-Math.min(e,m,h),U=function(ee){return(_-ee)/6/P+1/2};return P===0?(n=0,o=0):(o=P/_,t=U(e),s=U(m),l=U(h),e===_?n=l-s:m===_?n=1/3+t-l:h===_&&(n=2/3+s-t),n<0?n+=1:n>1&&(n-=1)),[n*360,o*100,_*100]};Be.rgb.hwb=function(r){let t=r[0],s=r[1],l=r[2],n=Be.rgb.hsl(r)[0],o=1/255*Math.min(t,Math.min(s,l));return l=1-1/255*Math.max(t,Math.max(s,l)),[n,o*100,l*100]};Be.rgb.cmyk=function(r){let t=r[0]/255,s=r[1]/255,l=r[2]/255,n=Math.min(1-t,1-s,1-l),o=(1-t-n)/(1-n)||0,e=(1-s-n)/(1-n)||0,m=(1-l-n)/(1-n)||0;return[o*100,e*100,m*100,n*100]};function Du(r,t){return(r[0]-t[0])**2+(r[1]-t[1])**2+(r[2]-t[2])**2}Be.rgb.keyword=function(r){let t=Gs[r];if(t)return t;let s=1/0,l;for(let n of Object.keys(pt)){let o=pt[n],e=Du(r,o);e<s&&(s=e,l=n)}return l};Be.keyword.rgb=function(r){return pt[r]};Be.rgb.xyz=function(r){let t=r[0]/255,s=r[1]/255,l=r[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;let n=t*.4124+s*.3576+l*.1805,o=t*.2126+s*.7152+l*.0722,e=t*.0193+s*.1192+l*.9505;return[n*100,o*100,e*100]};Be.rgb.lab=function(r){let t=Be.rgb.xyz(r),s=t[0],l=t[1],n=t[2];s/=95.047,l/=100,n/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let o=116*l-16,e=500*(s-l),m=200*(l-n);return[o,e,m]};Be.hsl.rgb=function(r){let t=r[0]/360,s=r[1]/100,l=r[2]/100,n,o,e;if(s===0)return e=l*255,[e,e,e];l<.5?n=l*(1+s):n=l+s-l*s;let m=2*l-n,h=[0,0,0];for(let _=0;_<3;_++)o=t+1/3*-(_-1),o<0&&o++,o>1&&o--,6*o<1?e=m+(n-m)*6*o:2*o<1?e=n:3*o<2?e=m+(n-m)*(2/3-o)*6:e=m,h[_]=e*255;return h};Be.hsl.hsv=function(r){let t=r[0],s=r[1]/100,l=r[2]/100,n=s,o=Math.max(l,.01);l*=2,s*=l<=1?l:2-l,n*=o<=1?o:2-o;let e=(l+s)/2,m=l===0?2*n/(o+n):2*s/(l+s);return[t,m*100,e*100]};Be.hsv.rgb=function(r){let t=r[0]/60,s=r[1]/100,l=r[2]/100,n=Math.floor(t)%6,o=t-Math.floor(t),e=255*l*(1-s),m=255*l*(1-s*o),h=255*l*(1-s*(1-o));switch(l*=255,n){case 0:return[l,h,e];case 1:return[m,l,e];case 2:return[e,l,h];case 3:return[e,m,l];case 4:return[h,e,l];case 5:return[l,e,m]}};Be.hsv.hsl=function(r){let t=r[0],s=r[1]/100,l=r[2]/100,n=Math.max(l,.01),o,e;e=(2-s)*l;let m=(2-s)*n;return o=s*n,o/=m<=1?m:2-m,o=o||0,e/=2,[t,o*100,e*100]};Be.hwb.rgb=function(r){let t=r[0]/360,s=r[1]/100,l=r[2]/100,n=s+l,o;n>1&&(s/=n,l/=n);let e=Math.floor(6*t),m=1-l;o=6*t-e,e&1&&(o=1-o);let h=s+o*(m-s),_,P,U;switch(e){default:case 6:case 0:_=m,P=h,U=s;break;case 1:_=h,P=m,U=s;break;case 2:_=s,P=m,U=h;break;case 3:_=s,P=h,U=m;break;case 4:_=h,P=s,U=m;break;case 5:_=m,P=s,U=h;break}return[_*255,P*255,U*255]};Be.cmyk.rgb=function(r){let t=r[0]/100,s=r[1]/100,l=r[2]/100,n=r[3]/100,o=1-Math.min(1,t*(1-n)+n),e=1-Math.min(1,s*(1-n)+n),m=1-Math.min(1,l*(1-n)+n);return[o*255,e*255,m*255]};Be.xyz.rgb=function(r){let t=r[0]/100,s=r[1]/100,l=r[2]/100,n,o,e;return n=t*3.2406+s*-1.5372+l*-.4986,o=t*-.9689+s*1.8758+l*.0415,e=t*.0557+s*-.204+l*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,e=e>.0031308?1.055*e**(1/2.4)-.055:e*12.92,n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),e=Math.min(Math.max(0,e),1),[n*255,o*255,e*255]};Be.xyz.lab=function(r){let t=r[0],s=r[1],l=r[2];t/=95.047,s/=100,l/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;let n=116*s-16,o=500*(t-s),e=200*(s-l);return[n,o,e]};Be.lab.xyz=function(r){let t=r[0],s=r[1],l=r[2],n,o,e;o=(t+16)/116,n=s/500+o,e=o-l/200;let m=o**3,h=n**3,_=e**3;return o=m>.008856?m:(o-16/116)/7.787,n=h>.008856?h:(n-16/116)/7.787,e=_>.008856?_:(e-16/116)/7.787,n*=95.047,o*=100,e*=108.883,[n,o,e]};Be.lab.lch=function(r){let t=r[0],s=r[1],l=r[2],n;n=Math.atan2(l,s)*360/2/Math.PI,n<0&&(n+=360);let e=Math.sqrt(s*s+l*l);return[t,e,n]};Be.lch.lab=function(r){let t=r[0],s=r[1],n=r[2]/360*2*Math.PI,o=s*Math.cos(n),e=s*Math.sin(n);return[t,o,e]};Be.rgb.ansi16=function(r,t=null){let[s,l,n]=r,o=t===null?Be.rgb.hsv(r)[2]:t;if(o=Math.round(o/50),o===0)return 30;let e=30+(Math.round(n/255)<<2|Math.round(l/255)<<1|Math.round(s/255));return o===2&&(e+=60),e};Be.hsv.ansi16=function(r){return Be.rgb.ansi16(Be.hsv.rgb(r),r[2])};Be.rgb.ansi256=function(r){let t=r[0],s=r[1],l=r[2];return t===s&&s===l?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(s/255*5)+Math.round(l/255*5)};Be.ansi16.rgb=function(r){let t=r%10;if(t===0||t===7)return r>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let s=(~~(r>50)+1)*.5,l=(t&1)*s*255,n=(t>>1&1)*s*255,o=(t>>2&1)*s*255;return[l,n,o]};Be.ansi256.rgb=function(r){if(r>=232){let o=(r-232)*10+8;return[o,o,o]}r-=16;let t,s=Math.floor(r/36)/5*255,l=Math.floor((t=r%36)/6)/5*255,n=t%6/5*255;return[s,l,n]};Be.rgb.hex=function(r){let s=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(s.length)+s};Be.hex.rgb=function(r){let t=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let s=t[0];t[0].length===3&&(s=s.split("").map(m=>m+m).join(""));let l=parseInt(s,16),n=l>>16&255,o=l>>8&255,e=l&255;return[n,o,e]};Be.rgb.hcg=function(r){let t=r[0]/255,s=r[1]/255,l=r[2]/255,n=Math.max(Math.max(t,s),l),o=Math.min(Math.min(t,s),l),e=n-o,m,h;return e<1?m=o/(1-e):m=0,e<=0?h=0:n===t?h=(s-l)/e%6:n===s?h=2+(l-t)/e:h=4+(t-s)/e,h/=6,h%=1,[h*360,e*100,m*100]};Be.hsl.hcg=function(r){let t=r[1]/100,s=r[2]/100,l=s<.5?2*t*s:2*t*(1-s),n=0;return l<1&&(n=(s-.5*l)/(1-l)),[r[0],l*100,n*100]};Be.hsv.hcg=function(r){let t=r[1]/100,s=r[2]/100,l=t*s,n=0;return l<1&&(n=(s-l)/(1-l)),[r[0],l*100,n*100]};Be.hcg.rgb=function(r){let t=r[0]/360,s=r[1]/100,l=r[2]/100;if(s===0)return[l*255,l*255,l*255];let n=[0,0,0],o=t%1*6,e=o%1,m=1-e,h=0;switch(Math.floor(o)){case 0:n[0]=1,n[1]=e,n[2]=0;break;case 1:n[0]=m,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=e;break;case 3:n[0]=0,n[1]=m,n[2]=1;break;case 4:n[0]=e,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=m}return h=(1-s)*l,[(s*n[0]+h)*255,(s*n[1]+h)*255,(s*n[2]+h)*255]};Be.hcg.hsv=function(r){let t=r[1]/100,s=r[2]/100,l=t+s*(1-t),n=0;return l>0&&(n=t/l),[r[0],n*100,l*100]};Be.hcg.hsl=function(r){let t=r[1]/100,l=r[2]/100*(1-t)+.5*t,n=0;return l>0&&l<.5?n=t/(2*l):l>=.5&&l<1&&(n=t/(2*(1-l))),[r[0],n*100,l*100]};Be.hcg.hwb=function(r){let t=r[1]/100,s=r[2]/100,l=t+s*(1-t);return[r[0],(l-t)*100,(1-l)*100]};Be.hwb.hcg=function(r){let t=r[1]/100,l=1-r[2]/100,n=l-t,o=0;return n<1&&(o=(l-n)/(1-n)),[r[0],n*100,o*100]};Be.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};Be.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};Be.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};Be.gray.hsl=function(r){return[0,0,r[0]]};Be.gray.hsv=Be.gray.hsl;Be.gray.hwb=function(r){return[0,100,r[0]]};Be.gray.cmyk=function(r){return[0,0,0,r[0]]};Be.gray.lab=function(r){return[r[0],0,0]};Be.gray.hex=function(r){let t=Math.round(r[0]/100*255)&255,l=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(l.length)+l};Be.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]}});var Us=mn((Sg,Hs)=>{var qt=Ci();function Bu(){let r={},t=Object.keys(qt);for(let s=t.length,l=0;l<s;l++)r[t[l]]={distance:-1,parent:null};return r}function Tu(r){let t=Bu(),s=[r];for(t[r].distance=0;s.length;){let l=s.pop(),n=Object.keys(qt[l]);for(let o=n.length,e=0;e<o;e++){let m=n[e],h=t[m];h.distance===-1&&(h.distance=t[l].distance+1,h.parent=l,s.unshift(m))}}return t}function Lu(r,t){return function(s){return t(r(s))}}function Nu(r,t){let s=[t[r].parent,r],l=qt[t[r].parent][r],n=t[r].parent;for(;t[n].parent;)s.unshift(t[n].parent),l=Lu(qt[t[n].parent][n],l),n=t[n].parent;return l.conversion=s,l}Hs.exports=function(r){let t=Tu(r),s={},l=Object.keys(t);for(let n=l.length,o=0;o<n;o++){let e=l[o];t[e].parent!==null&&(s[e]=Nu(e,t))}return s}});var Xs=mn((Fg,Vs)=>{var Mi=Ci(),qu=Us(),Qn={},Wu=Object.keys(Mi);function ju(r){let t=function(...s){let l=s[0];return l==null?l:(l.length>1&&(s=l),r(s))};return"conversion"in r&&(t.conversion=r.conversion),t}function Gu(r){let t=function(...s){let l=s[0];if(l==null)return l;l.length>1&&(s=l);let n=r(s);if(typeof n=="object")for(let o=n.length,e=0;e<o;e++)n[e]=Math.round(n[e]);return n};return"conversion"in r&&(t.conversion=r.conversion),t}Wu.forEach(r=>{Qn[r]={},Object.defineProperty(Qn[r],"channels",{value:Mi[r].channels}),Object.defineProperty(Qn[r],"labels",{value:Mi[r].labels});let t=qu(r);Object.keys(t).forEach(l=>{let n=t[l];Qn[r][l]=Gu(n),Qn[r][l].raw=ju(n)})});Vs.exports=Qn});var Zs=mn((Rg,Ys)=>{var et=Pl(),dn=Xs(),Ks=["keyword","gray","hex"],Ei={};for(let r of Object.keys(dn))Ei[[...dn[r].labels].sort().join("")]=r;var Wt={};function en(r,t){if(!(this instanceof en))return new en(r,t);if(t&&t in Ks&&(t=null),t&&!(t in dn))throw new Error("Unknown model: "+t);let s,l;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof en)this.model=r.model,this.color=[...r.color],this.valpha=r.valpha;else if(typeof r=="string"){let n=et.get(r);if(n===null)throw new Error("Unable to parse color from string: "+r);this.model=n.model,l=dn[this.model].channels,this.color=n.value.slice(0,l),this.valpha=typeof n.value[l]=="number"?n.value[l]:1}else if(r.length>0){this.model=t||"rgb",l=dn[this.model].channels;let n=Array.prototype.slice.call(r,0,l);this.color=_i(n,l),this.valpha=typeof r[l]=="number"?r[l]:1}else if(typeof r=="number")this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;let n=Object.keys(r);"alpha"in r&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);let o=n.sort().join("");if(!(o in Ei))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=Ei[o];let{labels:e}=dn[this.model],m=[];for(s=0;s<e.length;s++)m.push(r[e[s]]);this.color=_i(m)}if(Wt[this.model])for(l=dn[this.model].channels,s=0;s<l;s++){let n=Wt[this.model][s];n&&(this.color[s]=n(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}en.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(r){let t=this.model in et.to?this:this.rgb();t=t.round(typeof r=="number"?r:1);let s=t.valpha===1?t.color:[...t.color,this.valpha];return et.to[t.model](s)},percentString(r){let t=this.rgb().round(typeof r=="number"?r:1),s=t.valpha===1?t.color:[...t.color,this.valpha];return et.to.rgb.percent(s)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let r={},{channels:t}=dn[this.model],{labels:s}=dn[this.model];for(let l=0;l<t;l++)r[s[l]]=this.color[l];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray(){let r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject(){let r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round(r){return r=Math.max(r||0,0),new en([...this.color.map(Hu(r)),this.valpha],this.model)},alpha(r){return r!==void 0?new en([...this.color,Math.max(0,Math.min(1,r))],this.model):this.valpha},red:Hr("rgb",0,Zr(255)),green:Hr("rgb",1,Zr(255)),blue:Hr("rgb",2,Zr(255)),hue:Hr(["hsl","hsv","hsl","hwb","hcg"],0,r=>(r%360+360)%360),saturationl:Hr("hsl",1,Zr(100)),lightness:Hr("hsl",2,Zr(100)),saturationv:Hr("hsv",1,Zr(100)),value:Hr("hsv",2,Zr(100)),chroma:Hr("hcg",1,Zr(100)),gray:Hr("hcg",2,Zr(100)),white:Hr("hwb",1,Zr(100)),wblack:Hr("hwb",2,Zr(100)),cyan:Hr("cmyk",0,Zr(100)),magenta:Hr("cmyk",1,Zr(100)),yellow:Hr("cmyk",2,Zr(100)),black:Hr("cmyk",3,Zr(100)),x:Hr("xyz",0,Zr(95.047)),y:Hr("xyz",1,Zr(100)),z:Hr("xyz",2,Zr(108.833)),l:Hr("lab",0,Zr(100)),a:Hr("lab",1),b:Hr("lab",2),keyword(r){return r!==void 0?new en(r):dn[this.model].keyword(this.color)},hex(r){return r!==void 0?new en(r):et.to.hex(this.rgb().round().color)},hexa(r){if(r!==void 0)return new en(r);let t=this.rgb().round().color,s=Math.round(this.valpha*255).toString(16).toUpperCase();return s.length===1&&(s="0"+s),et.to.hex(t)+s},rgbNumber(){let r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity(){let r=this.rgb().color,t=[];for(let[s,l]of r.entries()){let n=l/255;t[s]=n<=.04045?n/12.92:((n+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(r){let t=this.luminosity(),s=r.luminosity();return t>s?(t+.05)/(s+.05):(s+.05)/(t+.05)},level(r){let t=this.contrast(r);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let r=this.rgb().color;return(r[0]*2126+r[1]*7152+r[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let r=this.rgb();for(let t=0;t<3;t++)r.color[t]=255-r.color[t];return r},lighten(r){let t=this.hsl();return t.color[2]+=t.color[2]*r,t},darken(r){let t=this.hsl();return t.color[2]-=t.color[2]*r,t},saturate(r){let t=this.hsl();return t.color[1]+=t.color[1]*r,t},desaturate(r){let t=this.hsl();return t.color[1]-=t.color[1]*r,t},whiten(r){let t=this.hwb();return t.color[1]+=t.color[1]*r,t},blacken(r){let t=this.hwb();return t.color[2]+=t.color[2]*r,t},grayscale(){let r=this.rgb().color,t=r[0]*.3+r[1]*.59+r[2]*.11;return en.rgb(t,t,t)},fade(r){return this.alpha(this.valpha-this.valpha*r)},opaquer(r){return this.alpha(this.valpha+this.valpha*r)},rotate(r){let t=this.hsl(),s=t.color[0];return s=(s+r)%360,s=s<0?360+s:s,t.color[0]=s,t},mix(r,t){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);let s=r.rgb(),l=this.rgb(),n=t===void 0?.5:t,o=2*n-1,e=s.alpha()-l.alpha(),m=((o*e===-1?o:(o+e)/(1+o*e))+1)/2,h=1-m;return en.rgb(m*s.red()+h*l.red(),m*s.green()+h*l.green(),m*s.blue()+h*l.blue(),s.alpha()*n+l.alpha()*(1-n))}};for(let r of Object.keys(dn)){if(Ks.includes(r))continue;let{channels:t}=dn[r];en.prototype[r]=function(...s){return this.model===r?new en(this):s.length>0?new en(s,r):new en([...Uu(dn[this.model][r].raw(this.color)),this.valpha],r)},en[r]=function(...s){let l=s[0];return typeof l=="number"&&(l=_i(s,t)),new en(l,r)}}function zu(r,t){return Number(r.toFixed(t))}function Hu(r){return function(t){return zu(t,r)}}function Hr(r,t,s){r=Array.isArray(r)?r:[r];for(let l of r)(Wt[l]||(Wt[l]=[]))[t]=s;return r=r[0],function(l){let n;return l!==void 0?(s&&(l=s(l)),n=this[r](),n.color[t]=l,n):(n=this[r]().color[t],s&&(n=s(n)),n)}}function Zr(r){return function(t){return Math.max(0,Math.min(r,t))}}function Uu(r){return Array.isArray(r)?r:[r]}function _i(r,t){for(let s=0;s<t;s++)typeof r[s]!="number"&&(r[s]=0);return r}Ys.exports=en});var Ma;(function(r){r.fig="fig",r.eq="eq",r.code="code",r.table="table"})(Ma||(Ma={}));function Ea(r,t){var s;let l=r.type==="div"&&((s=r.children)===null||s===void 0?void 0:s.length)===1?r.children[0]:r,n=l.type!=="image"&&l.type!=="table";r.type==="legend"&&(t.useMacro('#let legendStyle = (fill: black.lighten(20%), size: 8pt, style: "italic")'),t.write("text(..legendStyle)"),r.type="paragraph"),n?t.write(`[
`):t.write(`
  `),t.renderChildren({children:[r]}),n&&t.write(`
]`)}function si(r){r==="code"&&(r="program");let t=r.includes(":")?r.split(":")[1]:r;return`${t.slice(0,1).toUpperCase()}${t.slice(1)}`}var _a=(r,t)=>{var s,l,n;if(t.data.isInTable){Fn(t.file,"Unable to render typst figure inside table",{node:r,source:"myst-to-typst"});return}t.ensureNewLine();let o=t.data.isInFigure;t.data.isInFigure=!0;let{identifier:e,kind:m}=r,h=e,_=r.kind==="table"?["caption"]:["caption","legend"],P=(s=r.children)===null||s===void 0?void 0:s.filter(y=>_.includes(y.type)),U=(l=r.children)===null||l===void 0?void 0:l.filter(y=>!_.includes(y.type));U=[...U.filter(y=>y.type!=="legend"),...U.filter(y=>y.type==="legend")],(!U||U.length===0)&&Fn(t.file,`Figure with no non-caption content: ${h}`,{node:r,source:"myst-to-typst"});let ee=P.map(y=>y.children).filter(Boolean).flat();if(r.kind==="quote"){let y=t.data.isInBlockquote;t.data.isInBlockquote=!0,t.write("#quote(block: true"),ee.length>0?(t.write(", attribution: ["),t.renderChildren(ee),t.write("])[")):t.write(")["),t.renderChildren(U),t.write("]"),t.data.isInBlockquote=y;return}if(!((n=r.enumerator)===null||n===void 0)&&n.endsWith(".1")&&(t.write(`#set figure(numbering: "${r.enumerator}")
`),t.write(`#counter(figure.where(kind: "${m}")).update(0)

`)),U&&U.length>1){let y=U.filter(T=>T.type==="container").length===U.length;t.useMacro('#import "@preview/subpar:0.1.1"'),t.useMacro("#let breakableDefault = true"),t.write(`#show figure: set block(breakable: ${y?"false":"breakableDefault"})
`),t.write("#subpar.grid(");let v=U.length<=3?U.length:2;U.forEach(T=>{T.type==="container"?(t.write(`figure(
`),t.renderChildren(T),t.write(`
, caption: []),`),T.identifier&&t.write(` <${T.identifier}>,`),t.write(`
`)):(Ea(T,t),t.write(`,
`),v=1)}),t.write(`columns: ${v},
`),h&&(t.write(`label: <${h}>,`),h=void 0)}else U&&U.length===1?(t.useMacro("#let breakableDefault = true"),t.write(`#show figure: set block(breakable: breakableDefault)
`),t.write("#figure("),Ea(U[0],t),t.write(",")):(t.useMacro("#let breakableDefault = true"),t.write(`#show figure: set block(breakable: breakableDefault)
`),t.write(`#figure([
  `),t.renderChildren(r,1),t.write("],"));if(P?.length&&(t.write(`
  caption: [
`),t.renderChildren(ee),t.write(`
],`)),m){let y=si(m);t.write(`
  kind: "${m}",`),t.write(`
  supplement: [${y}],`)}t.write(`
)`),h&&t.write(` <${h}>`),t.ensureNewLine(!0),t.addNewLine(),t.data.isInFigure=o},oi=()=>{};function Da(r,t=" "){return r.replace(/\u00A0/g,t).replace(/[\u200B-\u200D\uFEFF]/g,"")}var Ia="xxxxBACKSLASHSPACExxxx",Pa="xxxxBACKSLASHxxxx",Sa="xxxxCOMMENTxxxx",Fa="xxxxCOMMENTSPACExxxx",Ra="xxxxTILDExxxx",ui={"&":"\\&","`":"\\`",$:"\\$","#":"\\#",_:"\\_","*":"\\*","{":"\\{","}":"\\}","[":"\\[","]":"\\]","^":"\\^","@":"\\@",";":"\\;"},Fl={...ui,"\u2019":"'","\u2018":"'","\u201D":'"',"\u201C":'"',"\xA9":"#emoji.copyright ","\xAE":"#emoji.reg ","\u2122":"#emoji.tm ","<":"\\<",">":"\\>","\xA0":"~","\u202F":"~"},Ba={"\u2194":"arrow.l.r","\u21D4":"arrow.l.r.double","\u2192":"arrow.r","\u21D2":"arrow.r.double","\u2190":"arrow.l","\u21D0":"arrow.l.double"},Ta={"\u2212":"-","-":"-","\uFE63":"-","\uFF0D":"-","\uFF0B":"+"},Oa={...Fl,...Ba,...Ta},Et={...Ba,...Ta,"\xBD":"1/2","\u2153":"1/3","\u2154":"2/3","\xBC":"1/4","\u2155":"1/5","\u2156":"2/5","\u2157":"3/5","\u2158":"4/5","\u2159":"1/6","\u215A":"5/6","\u2150":"1/7","\u215B":"1/8","\u215C":"3/8","\u215D":"5/8","\u215E":"7/8","\u2151":"1/9","\u2152":"1/10","\xB1":"plus.minus","\xD7":"times",\u0391:"A",\u03B1:"alpha","\u{1D736}":"alpha",\u0392:"B",\u03B2:"beta",\u00DF:"beta","\u{1D737}":"beta",\u0393:"Gamma",\u03B3:"gamma",\u0394:"Delta","\u2206":"Delta",\u03B4:"delta",\u0395:"E",\u03B5:"epsilon","\u{1D774}":"epsilon",\u0396:"Z",\u03B6:"zeta",\u0397:"H",\u03B7:"eta",\u0398:"Theta",\u03B8:"theta",\u03D1:"vartheta",\u0399:"I",\u03B9:"iota",\u039A:"K",\u03BA:"kappa",\u039B:"Lambda",\u03BB:"lambda",\u039C:"M",\u03BC:"mu",\u039D:"N",\u03BD:"nu",\u039E:"Xi",\u03BE:"xi",\u039F:"O",\u03BF:"o",\u03A0:"Pi",\u03C0:"pi",\u03A1:"P",\u03C1:"rho",\u03A3:"Sigma",\u03C3:"sigma",\u03A4:"T",\u03C4:"tau",\u03A5:"Upsilon",\u03C5:"upsilon",\u03A6:"Phi",\u03D5:"phi.alt",\u03C6:"phi",\u03A7:"X",\u03C7:"chi",\u03A8:"Psi",\u03C8:"psi",\u03A9:"Omega",\u03C9:"omega","\u2202":"diff","\u221E":"infty","\u2248":"approx","\u2260":"eq.not","\u2022":"dot.c"};function fi(r){return!r||!r.children||r.children.length===0?!1:r.children.reduce((t,{type:s})=>t&&s==="text",!0)}function La(r){return Array.from(r??"").map(l=>ui[l]?{kind:"text",text:ui[l]}:{kind:"text",text:l}).reduce((l,n)=>{let o=l.slice(-1)[0];return o?.kind===n.kind?o.text+=n.text:l.push(n),l},[]).reduce((l,n)=>l+n.text,"")}function Na(r){let t=(r??"").replace(/\\ /g,Ia).replace(/\\/g,Pa).replace(/^\/\//g,Sa).replace(/\s\/\//g,Fa).replace(/~/g,Ra),n=Array.from(t).map(o=>Oa[o]?{kind:"text",text:Oa[o]}:Et[o]?{kind:"math",text:Et[o]}:{kind:"text",text:o}).reduce((o,e)=>{let m=o.slice(-1)[0];return m?.kind===e.kind?m.text+=e.text:o.push(e),o},[]).reduce((o,e)=>e.kind==="math"?`${o}$${e.text}$`:o+e.text,"").replace(new RegExp(Ia,"g"),"\\\\ ").replace(new RegExp(Pa,"g"),"\\\\").replace(new RegExp(Fa,"g")," \\/\\/").replace(new RegExp(Sa,"g"),"\\/\\/").replace(new RegExp(Ra,"g"),"$tilde$");return Da(n,"~")}function qa(r){let s=Array.from(r??"").reduce((l,n)=>{if(Et[n]){let o=l.slice(-1)===" "?"":" ";return`${l}${o}${Et[n]}`}return l+n},"").trim();return Da(s)}function Vn(r){if(typeof r=="number"&&Number.isNaN(r))return Vn(.9);if(typeof r=="string")return r.endsWith("%")?Vn(Number(r.replace("%",""))):r.endsWith("px")?Vn(Number(r.replace("px",""))/800):(console.log(`Unknown width ${r} in getLatexImageWidth`),Vn(.9));let t=r??.9;return t<1&&(t*=100),`${t}%`}var Wa={author:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},address:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},curraddr:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},email:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},title:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},urladdr:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}}},ja={};var Ga={cref:{signature:"s m"},Cref:{signature:"s m"},crefrange:{signature:"s m m"},Crefrange:{signature:"s m m"},cpageref:{signature:"s m"},Cpageref:{signature:"s m"},ref:{signature:"m"},pageref:{signature:"m"},namecref:{signature:"m"},nameCref:{signature:"m"},lcnamecref:{signature:"m"},namecrefs:{signature:"m"},nameCrefs:{signature:"m"},lcnamecrefs:{signature:"m"},labelcref:{signature:"m"},labelcpageref:{signature:"m"},crefalias:{signature:"m m"},crefname:{signature:"m m m"},crefdefaultlabelformat:{signature:"m"},crefrangeconjunction:{signature:"m"}},za={};var Ha={"*":{openMark:"",closeMark:""},"{":{openMark:"{",closeMark:"}"},"[":{openMark:"[",closeMark:"]"},"(":{openMark:"(",closeMark:")"},"<":{openMark:"<",closeMark:">"}},Rl=new Set(Object.values(Ha).map(r=>r.closeMark).filter(r=>r));function Ol(r){let t=[];for(let s of r.split("")){if(Rl.has(s))continue;let l=Ha[s];if(l==null)throw new Error(`Unknown open/close mark type "${s}"`);t.push(l)}return t}function Wr(r,t){if(r==null)return{type:"argument",content:[],openMark:"",closeMark:""};if(typeof r=="string"&&(r=Dl(r)),!Array.isArray(r)&&r.type==="argument")return r;let s=t?.openMark??"{",l=t?.closeMark??"}";if(t?.braces){let n=Ol(t.braces);n[0]&&(s=n[0].openMark,l=n[0].closeMark)}return Array.isArray(r)||(r=[r]),{type:"argument",content:r,openMark:s,closeMark:l}}function Dl(r){return typeof r=="string"?{type:"string",content:r}:r}var ot=Symbol("linebreak"),Kn="\\";function on(r){if(typeof r=="string")return[r];if(Array.isArray(r))return[].concat(...r.map(l=>on(l)));let t,s;switch(r.type){case"root":return on(r.content);case"argument":return[r.openMark,...on(r.content),r.closeMark];case"comment":let l=r.suffixParbreak?"":ot,n="";return r.sameline&&r.leadingWhitespace&&(n=" "),r.sameline?[n,"%",...on(r.content),l]:[ot,"%",...on(r.content),l];case"environment":case"mathenv":case"verbatim":let o=on(r.env),e=[Kn+"begin{",...o,"}"],m=[Kn+"end{",...o,"}"];return t=r.args==null?[]:on(r.args),[...e,...t,...on(r.content),...m];case"displaymath":return[Kn+"[",...on(r.content),Kn+"]"];case"group":return["{",...on(r.content),"}"];case"inlinemath":return["$",...on(r.content),"$"];case"macro":return t=r.args==null?[]:on(r.args),s=r.escapeToken==null?Kn:r.escapeToken,[s,...on(r.content),...t];case"parbreak":return[ot,ot];case"string":return[r.content];case"verb":return[Kn,r.env,r.escape,...on(r.content),r.escape];case"whitespace":return[" "];default:return console.warn("Cannot find render for node ",r,`(of type ${typeof r})`),[""+r]}}function bn(r,t){let s=t!=null?t.asArray:!1,l=on(r);return s?l:l.map(n=>n===ot?`
`:n).join("")}function Bl(r){let t=Array.isArray(r)?r.length>0?typeof r[0]=="string"?Object.fromEntries(r.map(s=>{if(typeof s!="string")throw new Error("Wrong branch of map function");return[s,{}]})):Object.fromEntries(r.map(s=>{if(typeof s=="string")throw new Error("Wrong branch of map function");return s.escapeToken!=null?[s.content,{escapeToken:s.escapeToken}]:[s.content,{}]})):{}:r;return function(l){if(l==null||l.type!=="macro")return!1;let n=t[l.content];return n?typeof n=="object"&&"escapeToken"in n?n.escapeToken==null||n.escapeToken===l.escapeToken:!0:!1}}function Tl(r){let t=Array.isArray(r)?Object.fromEntries(r.map(s=>[s,{}])):r;return function(l){if(!Ae.anyEnvironment(l))return!1;let n=bn(l.env);return!!t[n]}}var Ae={macro(r,t){return r==null?!1:r.type==="macro"&&(t==null||r.content===t)},anyMacro(r){return Ae.macro(r)},environment(r,t){return r==null?!1:(r.type==="environment"||r.type==="mathenv")&&(t==null||bn(r.env)===t)},anyEnvironment(r){return Ae.environment(r)},comment(r){return r==null?!1:r.type==="comment"},parbreak(r){return r==null?!1:r.type==="parbreak"},whitespace(r){return r==null?!1:r.type==="whitespace"},whitespaceLike(r){return r==null?!1:r.type==="whitespace"||r.type==="whitespace"&&r.leadingWhitespace===!0},string(r,t){return r==null?!1:r.type==="string"&&(t==null||r.content===t)},anyString(r){return Ae.string(r)},group(r){return r==null?!1:r.type==="group"},argument(r){return r==null?!1:r.type==="argument"},blankArgument(r){return Ae.argument(r)?r.openMark===""&&r.closeMark===""&&r.content.length===0:!1},math(r){return r==null?!1:r.type==="displaymath"||r.type==="inlinemath"},createMacroMatcher:Bl,createEnvironmentMatcher:Tl},{anyEnvironment:qf,anyMacro:Wf,anyString:jf,argument:Gf,blankArgument:zf,comment:Hf,environment:Uf,group:Vf,macro:Xf,math:Kf,parbreak:Yf,string:Zf,whitespace:Jf}=Ae;function Ll(r){let t={enter:[],leave:[]};if(Array.isArray(r))return t;if(Ae.math(r))return{enter:["content"],leave:[]};let s=r._renderInfo||{};if(s.inMathMode==null)return t;if(Ae.macro(r)){if(s.inMathMode===!0)return{enter:["args"],leave:[]};if(s.inMathMode===!1)return{enter:[],leave:["args"]}}return Ae.environment(r)?s.inMathMode===!0?{enter:["content"],leave:[]}:{enter:[],leave:["content"]}:t}var gi=Symbol("continue"),pi=Symbol("skip"),lt=Symbol("exit"),Nl={inMathMode:!1,hasMathModeAncestor:!1};function ln(r,t,s){let{startingContext:l=Nl,test:n=()=>!0,includeArrays:o=!1}=s||{},e,m;typeof t=="function"?e=t:t&&typeof t=="object"&&(e=t.enter,m=t.leave),h(r,{key:void 0,index:void 0,parents:[],containingArray:void 0,context:{...l}});function h(_,{key:P,index:U,parents:ee,context:y,containingArray:v}){let T=o?n(_,{key:P,index:U,parents:ee,context:y,containingArray:v}):!Array.isArray(_)&&n(_,{key:P,index:U,parents:ee,context:y,containingArray:v}),ve=e&&T?ci(e(_,{key:P,index:U,parents:ee,context:y,containingArray:v})):[gi];if(ve[0]===lt)return ve;if(ve[0]===pi)return m&&T?ci(m(_,{key:P,index:U,parents:ee,context:y,containingArray:v})):ve;if(Array.isArray(_))for(let Ze=0;Ze>-1&&Ze<_.length;Ze++){let xr=_[Ze],Ie=h(xr,{key:P,index:Ze,parents:ee,context:y,containingArray:_});if(Ie[0]===lt)return Ie;typeof Ie[1]=="number"&&(Ze=Ie[1]-1)}else{let Ze=["content","args"];switch(_.type){case"macro":Ze=["args"];break;case"comment":case"string":case"verb":case"verbatim":Ze=[];break}let xr=Ll(_);for(let Ie of Ze){let yr=_[Ie],fr=[_].concat(ee);if(yr==null)continue;let br={...y};xr.enter.includes(Ie)?(br.inMathMode=!0,br.hasMathModeAncestor=!0):xr.leave.includes(Ie)&&(br.inMathMode=!1);let rr=h(yr,{key:Ie,index:void 0,parents:fr,context:br,containingArray:void 0});if(rr[0]===lt)return rr}}return m&&T?ci(m(_,{key:P,index:U,parents:ee,context:y,containingArray:v})):ve}}function ci(r){return r==null?[gi]:Array.isArray(r)?r:typeof r=="number"?[gi,r]:[r]}function Xn(r,t){return t!=null&&(r._renderInfo={...r._renderInfo||{},...t}),r}function Pn(r){if(!Array.isArray(r))return console.warn("Trying to trim a non-array ast",r),r;let{trimmedStart:t}=mi(r),{trimmedEnd:s}=ut(r);return{trimmedStart:t,trimmedEnd:s}}function mi(r){let{start:t}=Ua(r);r.splice(0,t);for(let s of r){if(!Ae.comment(s))break;(s.leadingWhitespace||s.sameline)&&(s.leadingWhitespace=!1),t>0&&s.sameline&&(s.sameline=!1)}return{trimmedStart:t}}function ut(r){let{end:t}=Ua(r);r.splice(r.length-t,t);for(let s=r.length-1;s>=0;s--){let l=r[s];if(!Ae.comment(l))break;delete l.suffixParbreak,Ae.comment(l)&&l.leadingWhitespace&&!l.sameline&&(l.leadingWhitespace=!1)}return{trimmedEnd:t}}function Ua(r){let t=0,s=0;for(let l of r)if(Ae.whitespace(l)||Ae.parbreak(l))t++;else break;if(t===r.length)return{start:t,end:0};for(let l=r.length-1;l>=0;l--){let n=r[l];if(Ae.whitespace(n)||Ae.parbreak(n))s++;else break}return{start:t,end:s}}var Va=function(){return t=>{ln(t,s=>{if(!(Ae.math(s)||Ae.anyEnvironment(s)))return;let l=s.content[0];if(Ae.comment(l)&&l.sameline){l.suffixParbreak=!1,ut(s.content);let{trimmedStart:n}=mi(s.content.slice(1));s.content.splice(1,n)}else Pn(s.content)})}},Xa=function(){return t=>{Pn(t.content)}};function Ka(r,t=()=>!1,s){if(!Array.isArray(r))throw new Error(`Can only split an Array, not ${r}`);let{onlySplitOnFirstOccurrence:l=!1}=s||{},n=[];for(let m=0;m<r.length&&!(t(r[m])&&(n.push(m),l));m++);if(n.length===0)return{segments:[r],separators:[]};let o=n.map(m=>r[m]),e=n.map((m,h)=>{let _=h===0?0:n[h-1]+1;return r.slice(_,m)});return e.push(r.slice(n[n.length-1]+1,r.length)),{segments:e,separators:o}}function Ya(r,t){if(typeof t=="string"&&(t=[t]),!Array.isArray(t))throw new Error("Type coercion failed");let s=Ae.createMacroMatcher(t),{segments:l,separators:n}=Ka(r,s);return{segments:l,macros:n}}function Za(r,t){for(let s=r.length-1;s>=0;s--){let l=r[s];if(!(Ae.whitespace(l)||Ae.comment(l)||t&&Ae.parbreak(l)))return s}}function an(r,t="item"){let{segments:s,macros:l}=Ya(r,t);for(let e=0;e<s.length;e++){let m=s[e];e===0?ut(m):Pn(m),m.length>0&&e>0&&m.unshift({type:"whitespace"})}let n=new WeakSet,o=l.flatMap((e,m)=>{var h;let _=s[m+1],P=ql(_);return e.args=e.args||[],e.args.push(Wr(_,{openMark:"",closeMark:""})),Xn(e,{inParMode:!0}),(m>0||((h=s[0])==null?void 0:h.length)>0)&&n.add(e),[e,...P]});o=o.flatMap(e=>n.has(e)?[{type:"parbreak"},e]:e),o.unshift(...s[0]);for(let e=0;e<o.length-1;e++){let m=o[e],h=o[e+1];if(Ae.parbreak(h)&&(Ae.comment(m)&&(m.suffixParbreak=!0),Ae.macro(m)&&m.args&&m.args[m.args.length-1].closeMark==="")){let _=m.args[m.args.length-1].content,P=_[_.length-1];Ae.comment(P)&&(P.suffixParbreak=!0)}}return o}function ql(r){let t=Za(r,!0);return t===r.length-1||t==null&&r.length===0?[]:(t==null&&(t=-1),r.splice(t+1))}var Ja={answerline:{signature:"o"},fillin:{signature:"o o"},fullwidth:{signature:"m"},fillwidthlines:{signature:"m"},fillwidthdottedlines:{signature:"m"},fillwidthgrid:{signature:"m"},makeemptybox:{signature:"m"},CorrectChoiceEmphasis:{signature:"m",renderInfo:{breakAround:!0}},SolutionEmphasis:{signature:"m",renderInfo:{breakAround:!0}},uplevel:{signature:"m",renderInfo:{breakAround:!0}},checkboxchar:{signature:"m",renderInfo:{breakAround:!0}},checkedchar:{signature:"m",renderInfo:{breakAround:!0}},pointname:{signature:"m",renderInfo:{breakAround:!0}},marginpointname:{signature:"m",renderInfo:{breakAround:!0}},extrawidth:{signature:"m",renderInfo:{breakAround:!0}},pointformat:{signature:"m",renderInfo:{breakAround:!0}},bonuspointformat:{signature:"m",renderInfo:{breakAround:!0}},totalformat:{signature:"m",renderInfo:{breakAround:!0}},qformat:{signature:"m",renderInfo:{breakAround:!0}},titledquestion:{signature:"m o",renderInfo:{breakAround:!0}},pointpoints:{signature:"m m",renderInfo:{breakAround:!0}},bonuspointpoints:{signature:"m m",renderInfo:{breakAround:!0}}},Qa={choices:{signature:"o",processContent:r=>an(r,"choice")},checkboxes:{signature:"o",processContent:r=>an(r,"choice")},oneparchoices:{signature:"o",processContent:r=>an(r,"choice")},oneparcheckboxes:{signature:"o",processContent:r=>an(r,"choice")},parts:{signature:"o",processContent:r=>an(r,"part")},subparts:{signature:"o",processContent:r=>an(r,"subpart")},subsubparts:{signature:"o",processContent:r=>an(r,"subsubpart")},questions:{signature:"o",processContent:r=>an(r,"question")}};var es={geometry:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}}},rs={};var ns={hypersetup:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},href:{signature:"o m m"},url:{signature:"m"},nolinkurl:{signature:"m"},hyperbaseurl:{signature:"m"},hyperimage:{signature:"m m"},hyperdef:{signature:"m m m"},hyperref:{signature:"o m"},hyperlink:{signature:"m m"},hypertarget:{signature:"m m"},autoref:{signature:"s m"},pageref:{signature:"s m"},autopageref:{signature:"s m"},pdfstringdef:{signature:"m m"},pdfbookmark:{signature:"o m m"},currentpdfbookmark:{signature:"m m"},subpdfbookmark:{signature:"m m"},belowpdfbookmark:{signature:"m m"},texorpdfstring:{signature:"m m"},thispdfpagelabel:{signature:"m"},hypercalcbp:{signature:"m"}},ts={};var is={"\\":{signature:"!s !o",renderInfo:{breakAfter:!0}},_:{signature:"m",escapeToken:""},"^":{signature:"m",escapeToken:""},newcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred","name","numArgs","default","body"]}},renewcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred","name","numArgs","default","body"]}},providecommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0}},newcounter:{signature:"m o",renderInfo:{breakAround:!0}},usecounter:{signature:"m"},setcounter:{signature:"m m",renderInfo:{breakAround:!0}},addtocounter:{signature:"m m",renderInfo:{breakAround:!0}},stepcounter:{signature:"m",renderInfo:{breakAround:!0}},refstepcounter:{signature:"m",renderInfo:{breakAround:!0}},newlength:{signature:"m",renderInfo:{breakAround:!0}},addtolength:{signature:"m m",renderInfo:{breakAround:!0}},settodepth:{signature:"m m",renderInfo:{breakAround:!0}},settoheight:{signature:"m m",renderInfo:{breakAround:!0}},settowidth:{signature:"m m",renderInfo:{breakAround:!0}},stretch:{signature:"m"},hspace:{signature:"s m"},vspace:{signature:"s m",renderInfo:{breakAround:!0}},vfill:{renderInfo:{breakAround:!0}},indent:{renderInfo:{breakAround:!0}},phantom:{signature:"m"},vphantom:{signature:"m"},hphantom:{signature:"m"},noindent:{renderInfo:{breakAround:!0}},smallskip:{renderInfo:{breakAround:!0}},medskip:{renderInfo:{breakAround:!0}},bigskip:{renderInfo:{breakAround:!0}},smallbreak:{renderInfo:{breakAround:!0}},medbreak:{renderInfo:{breakAround:!0}},bigbreak:{renderInfo:{breakAround:!0}},newline:{renderInfo:{breakAround:!0}},linebreak:{signature:"o",renderInfo:{breakAround:!0}},nolinebreak:{signature:"o",renderInfo:{breakAround:!0}},clearpage:{renderInfo:{breakAround:!0}},cleardoublepage:{renderInfo:{breakAround:!0}},newpage:{renderInfo:{breakAround:!0}},enlargethispage:{signature:"s",renderInfo:{breakAround:!0}},pagebreak:{signature:"o",renderInfo:{breakAround:!0}},nopagebreak:{signature:"o",renderInfo:{breakAround:!0}},newsavebox:{signature:"m",renderInfo:{breakAround:!0}},sbox:{signature:"m m",renderInfo:{breakAround:!0}},savebox:{signature:"m o o m",renderInfo:{breakAround:!0}},mbox:{signature:"m"},makebox:{signature:"d() o o m",renderInfo:{breakAround:!0}},fbox:{signature:"m"},framebox:{signature:"o o m",renderInfo:{breakAround:!0}},frame:{signature:"m",renderInfo:{breakAround:!0}},parbox:{signature:"o o o m m",renderInfo:{breakAround:!0}},raisebox:{signature:"m o o m"},marginpar:{signature:"o m",renderInfo:{breakAround:!0}},colorbox:{signature:"o m m",renderInfo:{breakAround:!0}},fcolorbox:{signature:"o m m",renderInfo:{breakAround:!0}},rotatebox:{signature:"o m m"},scalebox:{signature:"m o m"},reflectbox:{signature:"m"},resizebox:{signature:"s m m m"},newenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},newfont:{signature:"m m",renderInfo:{breakAround:!0}},alph:{signature:"m"},Alph:{signature:"m"},arabic:{signature:"m"},roman:{signature:"m"},Roman:{signature:"m"},fnsymbol:{signature:"m"},documentclass:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepackage:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},item:{signature:"o",renderInfo:{hangingIndent:!0,namedArguments:["label"]}},value:{signature:"m"},centering:{renderInfo:{breakAround:!0}},input:{signature:"m",renderInfo:{breakAround:!0}},include:{signature:"m",renderInfo:{breakAround:!0}},includeonly:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},discretionary:{signature:"m m m"},hyphenation:{signature:"m"},footnote:{signature:"o m",renderInfo:{inParMode:!0}},footnotemark:{signature:"o"},footnotetext:{signature:"o m",renderInfo:{inParMode:!0}},caption:{signature:"o m",renderInfo:{inParMode:!0,breakAround:!0}},sqrt:{signature:"o m",renderInfo:{inMathMode:!0}},frac:{signature:"m m",renderInfo:{inMathMode:!0}},stackrel:{signature:"m m"},ensuremath:{signature:"m",renderInfo:{inMathMode:!0}},abstract:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},maketitle:{renderInfo:{breakAround:!0}},doublespacing:{renderInfo:{breakAround:!0}},singlespacing:{renderInfo:{breakAround:!0}},date:{signature:"o m",renderInfo:{breakAround:!0}},thanks:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},pagenumbering:{signature:"m",renderInfo:{breakAround:!0}},pagestyle:{signature:"m",renderInfo:{breakAround:!0}},thispagestyle:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"m m m",renderInfo:{breakAround:!0}},pagecolor:{signature:"o m",renderInfo:{breakAround:!0}},nopagecolor:{renderInfo:{breakAround:!0}},multicolumn:{signature:"m m m"},includegraphics:{signature:"s o o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},rule:{signature:"o m m"},part:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},chapter:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},section:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subsubsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},paragraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subparagraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},appendix:{renderInfo:{breakAround:!0,inParMode:!0}},frontmatter:{renderInfo:{breakAround:!0,inParMode:!0}},mainmatter:{renderInfo:{breakAround:!0,inParMode:!0}},backmatter:{renderInfo:{breakAround:!0,inParMode:!0}},bibitem:{signature:"o m",renderInfo:{hangingIndent:!0}},cite:{signature:"o m"},textrm:{signature:"m",renderInfo:{inParMode:!0}},textit:{signature:"m",renderInfo:{inParMode:!0}},textmd:{signature:"m",renderInfo:{inParMode:!0}},textbf:{signature:"m",renderInfo:{inParMode:!0}},textup:{signature:"m",renderInfo:{inParMode:!0}},textsl:{signature:"m",renderInfo:{inParMode:!0}},textsf:{signature:"m",renderInfo:{inParMode:!0}},textsc:{signature:"m",renderInfo:{inParMode:!0}},texttt:{signature:"m",renderInfo:{inParMode:!0}},underline:{signature:"m",renderInfo:{inParMode:!0}},emph:{signature:"m",renderInfo:{inParMode:!0}},textnormal:{signature:"m",renderInfo:{inParMode:!0}},uppercase:{signature:"m",renderInfo:{inParMode:!0}},mathbf:{signature:"m"},mathsf:{signature:"m"},mathtt:{signature:"m"},mathit:{signature:"m"},mathnormal:{signature:"m"},mathcal:{signature:"m"},mathrm:{signature:"m"},setlength:{signature:"m m",renderInfo:{breakAround:!0}},ref:{signature:"s m"},label:{signature:"o m"},printbibliography:{renderInfo:{breakAround:!0}},addtocontents:{signature:"m m",renderInfo:{breakAround:!0}},addcontentsline:{signature:"m m m",renderInfo:{breakAround:!0}},contentsline:{signature:"m m m",renderInfo:{breakAround:!0}},bibliography:{signature:"m",renderInfo:{breakAround:!0}},bibliographystyle:{signature:"m",renderInfo:{breakAround:!0}}},as={document:{processContent:r=>(Pn(r),r)},array:{signature:"o m",renderInfo:{alignContent:!0}},description:{signature:"o",processContent:an},enumerate:{signature:"o",processContent:an,renderInfo:{pgfkeysArgs:!0}},itemize:{signature:"o",processContent:an},trivlist:{signature:"o",processContent:an},list:{signature:"m m",processContent:an},figure:{signature:"o"},"figure*":{signature:"o"},filecontents:{signature:"o m"},"filecontents*":{signature:"o m"},minipage:{signature:"o o o m"},picture:{signature:"r() d()"},tabbing:{renderInfo:{alignContent:!0}},table:{signature:"o"},tabular:{signature:"o m",renderInfo:{alignContent:!0}},"tabular*":{signature:"m o m",renderInfo:{alignContent:!0}},thebibliography:{signature:"m",processContent:r=>an(r,"bibitem")},math:{renderInfo:{inMathMode:!0}}};var Wl=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={document:sa,math:ml},_=sa,P="%",U=".",ee="verb*",y="verb",v="[",T="]",ve="lstinline",Ze="mintinline",xr="mint",Ie="minted",yr="verbatim*",fr="verbatim",br="filecontents*",rr="filecontents",Cr="comment",Or="lstlisting",Mr="(",Sr=")",wr="begin",fe="end",kr="equation*",Qe="equation",ye="align*",nr="align",gr="alignat*",Fr="alignat",ar="gather*",ce="gather",ke="multline*",L="multline",Er="flalign*",hr="flalign",vr="split",Ve="math",Dr="displaymath",jr="\\",Ur="{",Nr="}",Gr="$",pr="&",Vr="\r",qr=`
`,V=`\r
`,ie="#",ue="^",Ne="_",tr="\0",re=/^[^ \t\n\r]/,Br=/^[ \t]/,_r=/^[a-zA-Z]/,z=/^[0-9]/,q=/^[.,;:\-*\/()!?=+<>[\]`'"~]/,O=Tr("document"),or=Tr("math"),Y=Tr("token"),Pe=cl(),He=Tr("parbreak"),Oe=Tr("math token"),ae=Tr("nonchar token"),zr=Ue("%",!1),lr=Tr("whitespace"),Jr=Tr("number"),mr=Ue(".",!1),E=Tr("special macro"),C=Ue("verb*",!1),F=Ue("verb",!1),K=Ue("[",!1),Q=Ue("]",!1),Se=it([" ","	",`
`,"\r"],!0,!1),Ke=Tr("verbatim listings"),We=Ue("lstinline",!1),Xe=Tr("verbatim minted"),Ye=Ue("mintinline",!1),ir=Ue("mint",!1),ze=Tr("verbatim minted environment"),ur=Ue("minted",!1),D=Tr("verbatim environment"),J=Ue("verbatim*",!1),xe=Ue("verbatim",!1),Le=Ue("filecontents*",!1),me=Ue("filecontents",!1),cr=Ue("comment",!1),Ge=Ue("lstlisting",!1),A=Tr("macro"),j=Tr("group"),W=Tr("environment"),Re=Tr("math environment"),qe=Ue("(",!1),we=Ue(")",!1),Ir=Ue("begin",!1),x=Ue("end",!1),u=Ue("equation*",!1),N=Ue("equation",!1),De=Ue("align*",!1),sr=Ue("align",!1),te=Ue("alignat*",!1),nn=Ue("alignat",!1),Xr=Ue("gather*",!1),xn=Ue("gather",!1),On=Ue("multline*",!1),Hn=Ue("multline",!1),Pr=Ue("flalign*",!1),Dn=Ue("flalign",!1),wn=Ue("split",!1),Ce=Ue("math",!1),kn=Ue("displaymath",!1),Mn=Tr("escape"),un=Ue("\\",!1),sn=Ue("{",!1),g=Ue("}",!1),S=Ue("$",!1),R=Ue("&",!1),de=Tr("newline"),le=Ue("\r",!1),he=Ue(`
`,!1),$=Ue(`\r
`,!1),B=Ue("#",!1),ne=Ue("^",!1),ge=Ue("_",!1),Fe=Ue("\0",!1),dr=it([" ","	"],!1,!1),Rr=Tr("letter"),Yr=it([["a","z"],["A","Z"]],!1,!1),ht=Tr("digit"),Gt=it([["0","9"]],!1,!1),zt=Tr("punctuation"),Bn=it([".",",",";",":","-","*","/","(",")","!","?","=","+","<",">","[","]","`","'",'"',"~"],!1,!1),Ht=Tr("full comment"),Ut=Tr("comment"),vt=function(a){return Je("root",{content:a.flatMap(f=>f)})},tt=function(a){return a},yt=function(a){return Je("inlinemath",{content:a.flatMap(f=>f)})},Tn=function(a){return Je("string",{content:a})},Vt=function(a){return Je("string",{content:a})},Ln=function(){return Je("parbreak")},bt=function(a){return a},$t=function(a){return a},Nn=function(){return Je("macro",{content:"^",escapeToken:""})},Un=function(){return Je("macro",{content:"_",escapeToken:""})},d=function(a){return Je("string",{content:a})},M=function(){return Je("whitespace")},G=function(a,f){return a.join("")+"."+f.join("")},Z=function(a){return"."+a.join("")},$e=function(a){return a.join("")+"."},_e=function(a){return Je("string",{content:a})},$r=function(a,f,b){return b==f},tn=function(a,f,b){return b},qn=function(a,f,b,p){return p==f},Wn=function(a,f,b){return Je("verb",{env:a,escape:f,content:b.join("")})},qi=function(a){return a},Po=function(a){return Je("displaymath",{content:a.flatMap(f=>f)})},Wi=function(a){return a},So=function(a){return Je("inlinemath",{content:a.flatMap(f=>f)})},ji=function(a){return a},Fo=function(a){return Je("displaymath",{content:a.flatMap(f=>f)})},Gi=function(a){return a.type==="string"&&a.content==="]"},zi=function(a){return a},Ro=function(a){return[Je("string",{content:"["}),...a,Je("string",{content:"]"})]},Hi=function(a){return a},Oo=function(a){return Je("group",{content:Je("string",{content:a.join("")})})},Ui=function(a,f){return f==a},Vi=function(a,f){return f},Do=function(a,f,b){return b==a},Bo=function(a,f){return[Je("string",{content:a}),Je("string",{content:f.join("")}),Je("string",{content:a})]},To=function(a,f,b){return[Je("macro",{content:a}),...f||[],...[].concat(b)]},Lo=function(a,f,b,p){return[Je("macro",{content:a}),...f||[],b,...[].concat(p)]},Xi=function(a,f,b,p){return Ct({content:[a]},p)},No=function(a,f,b,p){let k=[...f||[],b,{type:"string",content:p}];return Je("environment",{env:a,content:k})},Ki=function(a,f){return Ct({content:[a]},f)},Yi=function(a,f){return f},qo=function(a,f){return Je("verbatim",{env:a,content:f})},Wo=function(a){return a.join("")},jo=function(a){return a},Go=function(a){return Je("macro",{content:a})},Zi=function(a){return a},zo=function(a){return Je("group",{content:a.flatMap(f=>f)})},Ho=function(a){return fl().slice(1,-1)},Ji=function(a,f,b){return Ct(a,b)},Qi=function(a,f,b){return b},Uo=function(a,f,b){return b=b.flatMap(p=>p),Je("environment",{env:a,content:f?[f,...b]:b})},ea=function(a,f,b){return Ct({content:[a]},b)},ra=function(a,f,b){return b},Vo=function(a,f,b){return b=b.flatMap(p=>p),Je("mathenv",{env:a,content:f?[f,...b]:b})},Xo=function(a){return Je("string",{content:a})},Ko=function(){return Je("string",{content:"\\"})},Yo=function(a){return Je("string",{content:a})},Zo=function(a){return Je("string",{content:a})},Jo=function(a){return Je("string",{content:a})},Qo=function(a){return Je("string",{content:a})},el=function(a){return Je("string",{content:a})},rl=function(a){return Je("string",{content:a})},nl=function(a){return Je("string",{content:a})},tl=function(){return" "},il=function(a){return Je("string",{content:a})},al=function(a,f){return Je("comment",{...f,sameline:!1,leadingWhitespace:a.length>0})},sl=function(a,f){return Je("comment",{...f,sameline:!0,leadingWhitespace:a.length>0})},na=function(a){return a},ol=function(a){return{content:a.join(""),suffixParbreak:!0}},ta=function(a){return a},ll=function(a){return{content:a.join("")}},ul=function(){var a=ia();return a.start.column===1},i=0,be=0,At=[{line:1,column:1}],En=0,Xt=[],I=0,pe={},xt;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function fl(){return n.substring(be,i)}function ia(){return Kt(be,i)}function Ue(a,f){return{type:"literal",text:a,ignoreCase:f}}function it(a,f,b){return{type:"class",parts:a,inverted:f,ignoreCase:b}}function cl(){return{type:"any"}}function gl(){return{type:"end"}}function Tr(a){return{type:"other",description:a}}function aa(a){var f=At[a],b;if(f)return f;for(b=a-1;!At[b];)b--;for(f=At[b],f={line:f.line,column:f.column};b<a;)n.charCodeAt(b)===10?(f.line++,f.column=1):f.column++,b++;return At[a]=f,f}function Kt(a,f,b){var p=aa(a),k=aa(f),w={source:m,start:{offset:a,line:p.line,column:p.column},end:{offset:f,line:k.line,column:k.column}};return w}function oe(a){i<En||(i>En&&(En=i,Xt=[]),Xt.push(a))}function pl(a,f,b){return new t(t.buildMessage(a,f),a,f,b)}function sa(){var a,f,b,p=i*52+0,k=pe[p];if(k)return i=k.nextPos,k.result;for(I++,a=i,f=[],b=_n();b!==e;)f.push(b),b=_n();return be=a,f=vt(f),a=f,I--,f=e,I===0&&oe(O),pe[p]={nextPos:i,result:a},a}function ml(){var a,f,b=i*52+1,p=pe[b];if(p)return i=p.nextPos,p.result;for(I++,a=[],f=hn();f!==e;)a.push(f),f=hn();return I--,f=e,I===0&&oe(or),pe[b]={nextPos:i,result:a},a}function _n(){var a,f,b,p,k,w,X=i*52+2,H=pe[X];if(H)return i=H.nextPos,H.result;if(I++,a=ua(),a===e&&(a=pa(),a===e&&(a=va(),a===e&&(a=Cn(),a===e)))){if(a=i,f=cn(),f!==e){if(b=[],p=i,k=i,I++,w=cn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=hn(),w!==e?(be=p,p=tt(w)):(i=p,p=e)):(i=p,p=e),p!==e)for(;p!==e;)b.push(p),p=i,k=i,I++,w=cn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=hn(),w!==e?(be=p,p=tt(w)):(i=p,p=e)):(i=p,p=e);else b=e;b!==e?(p=cn(),p!==e?(be=a,a=yt(b)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;if(a===e&&(a=Qt(),a===e&&(a=oa(),a===e&&(a=ei(),a===e&&(a=ri(),a===e&&(a=dl(),a===e&&(a=Qr(),a===e&&(a=ha(),a===e)))))))){if(a=i,f=i,b=[],p=i,k=i,I++,w=la(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(k=[k,w],p=k):(i=p,p=e)):(i=p,p=e),p!==e)for(;p!==e;)b.push(p),p=i,k=i,I++,w=la(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(k=[k,w],p=k):(i=p,p=e)):(i=p,p=e);else b=e;b!==e?f=n.substring(f,i):f=b,f!==e&&(be=a,f=Tn(f)),a=f,a===e&&(a=In(),a===e&&(a=fn(),a===e&&(a=cn(),a===e&&(a=i,n.length>i?(f=n.charAt(i),i++):(f=e,I===0&&oe(Pe)),f!==e&&(be=a,f=Vt(f)),a=f))))}}return I--,a===e&&(f=e,I===0&&oe(Y)),pe[X]={nextPos:i,result:a},a}function oa(){var a,f,b,p,k,w,X,H,Ee=i*52+3,se=pe[Ee];if(se)return i=se.nextPos,se.result;for(I++,a=i,f=i,b=[],p=Ar();p!==e;)b.push(p),p=Ar();if(p=rn(),p!==e){for(k=[],w=i,X=[],H=Ar();H!==e;)X.push(H),H=Ar();if(H=rn(),H!==e?(X=[X,H],w=X):(i=w,w=e),w!==e)for(;w!==e;){for(k.push(w),w=i,X=[],H=Ar();H!==e;)X.push(H),H=Ar();H=rn(),H!==e?(X=[X,H],w=X):(i=w,w=e)}else k=e;if(k!==e){for(w=[],X=Ar();X!==e;)w.push(X),X=Ar();X=i,I++,H=at(),I--,H===e?X=void 0:(i=X,X=e),X!==e?(b=[b,p,k,w,X],f=b):(i=f,f=e)}else i=f,f=e}else i=f,f=e;if(f===e){for(f=i,b=[],p=Ar();p!==e;)b.push(p),p=Ar();if(p=rn(),p!==e){for(k=[],w=i,X=[],H=Ar();H!==e;)X.push(H),H=Ar();if(H=rn(),H!==e?(X=[X,H],w=X):(i=w,w=e),w!==e)for(;w!==e;){for(k.push(w),w=i,X=[],H=Ar();H!==e;)X.push(H),H=Ar();H=rn(),H!==e?(X=[X,H],w=X):(i=w,w=e)}else k=e;k!==e?(b=[b,p,k],f=b):(i=f,f=e)}else i=f,f=e}return f!==e&&(be=a,f=Ln()),a=f,I--,a===e&&(f=e,I===0&&oe(He)),pe[Ee]={nextPos:i,result:a},a}function hn(){var a,f,b,p,k,w=i*52+4,X=pe[w];if(X)return i=X.nextPos,X.result;if(I++,a=ua(),a===e&&(a=pa(),a===e&&(a=va(),a===e))){for(a=i,f=[],b=Qr();b!==e;)f.push(b),b=Qr();if(b=Cn(),b!==e){for(p=[],k=Qr();k!==e;)p.push(k),k=Qr();be=a,a=bt(b)}else i=a,a=e;if(a===e){for(a=i,f=[],b=Qr();b!==e;)f.push(b),b=Qr();if(b=Qt(),b!==e){for(p=[],k=Qr();k!==e;)p.push(k),k=Qr();be=a,a=$t(b)}else i=a,a=e;if(a===e&&(a=ei(),a===e)){for(a=i,f=[],b=Qr();b!==e;)f.push(b),b=Qr();if(b=kl(),b!==e){for(p=[],k=Qr();k!==e;)p.push(k),k=Qr();be=a,a=Nn()}else i=a,a=e;if(a===e){for(a=i,f=[],b=Qr();b!==e;)f.push(b),b=Qr();if(b=Cl(),b!==e){for(p=[],k=Qr();k!==e;)p.push(k),k=Qr();be=a,a=Un()}else i=a,a=e;a===e&&(a=ri(),a===e&&(a=Qr(),a===e&&(a=i,n.length>i?(f=n.charAt(i),i++):(f=e,I===0&&oe(Pe)),f!==e&&(be=a,f=d(f)),a=f)))}}}}return I--,a===e&&(f=e,I===0&&oe(Oe)),pe[w]={nextPos:i,result:a},a}function la(){var a,f=i*52+5,b=pe[f];return b?(i=b.nextPos,b.result):(I++,a=yn(),a===e&&(n.charCodeAt(i)===37?(a=P,i++):(a=e,I===0&&oe(zr)),a===e&&(a=In(),a===e&&(a=fn(),a===e&&(a=cn(),a===e&&(a=Qt(),a===e&&(a=rn(),a===e&&(a=ei(),a===e&&(a=ri(),a===e&&(a=Ar(),a===e&&(a=ha(),a===e&&(a=ba()))))))))))),I--,a===e&&I===0&&oe(ae),pe[f]={nextPos:i,result:a},a)}function Qr(){var a,f,b,p,k,w,X,H,Ee=i*52+6,se=pe[Ee];if(se)return i=se.nextPos,se.result;if(I++,a=i,f=i,b=rn(),b!==e){for(p=[],k=Ar();k!==e;)p.push(k),k=Ar();b=[b,p],f=b}else i=f,f=e;if(f===e){if(f=i,b=[],p=Ar(),p!==e)for(;p!==e;)b.push(p),p=Ar();else b=e;if(b!==e)if(p=rn(),p!==e)if(k=i,I++,w=at(),I--,w===e?k=void 0:(i=k,k=e),k!==e){for(w=[],X=Ar();X!==e;)w.push(X),X=Ar();X=i,I++,H=rn(),I--,H===e?X=void 0:(i=X,X=e),X!==e?(b=[b,p,k,w,X],f=b):(i=f,f=e)}else i=f,f=e;else i=f,f=e;else i=f,f=e;if(f===e)if(f=[],b=Ar(),b!==e)for(;b!==e;)f.push(b),b=Ar();else f=e}return f!==e&&(be=a,f=M()),a=f,I--,a===e&&(f=e,I===0&&oe(lr)),pe[Ee]={nextPos:i,result:a},a}function dl(){var a,f,b,p,k,w,X=i*52+7,H=pe[X];if(H)return i=H.nextPos,H.result;if(I++,a=i,f=i,b=[],p=jn(),p!==e)for(;p!==e;)b.push(p),p=jn();else b=e;if(b!==e)if(n.charCodeAt(i)===46?(p=U,i++):(p=e,I===0&&oe(mr)),p!==e){if(k=[],w=jn(),w!==e)for(;w!==e;)k.push(w),w=jn();else k=e;k!==e?(be=f,f=G(b,k)):(i=f,f=e)}else i=f,f=e;else i=f,f=e;if(f===e){if(f=i,n.charCodeAt(i)===46?(b=U,i++):(b=e,I===0&&oe(mr)),b!==e){if(p=[],k=jn(),k!==e)for(;k!==e;)p.push(k),k=jn();else p=e;p!==e?(be=f,f=Z(p)):(i=f,f=e)}else i=f,f=e;if(f===e){if(f=i,b=[],p=jn(),p!==e)for(;p!==e;)b.push(p),p=jn();else b=e;b!==e?(n.charCodeAt(i)===46?(p=U,i++):(p=e,I===0&&oe(mr)),p!==e?(be=f,f=$e(b)):(i=f,f=e)):(i=f,f=e)}}return f!==e&&(be=a,f=_e(f)),a=f,I--,a===e&&(f=e,I===0&&oe(Jr)),pe[X]={nextPos:i,result:a},a}function ua(){var a,f,b,p,k,w,X,H,Ee,se,Te=i*52+8,je=pe[Te];if(je)return i=je.nextPos,je.result;if(I++,a=i,f=yn(),f!==e)if(n.substr(i,5)===ee?(b=ee,i+=5):(b=e,I===0&&oe(C)),b===e&&(n.substr(i,4)===y?(b=y,i+=4):(b=e,I===0&&oe(F))),b!==e)if(n.length>i?(p=n.charAt(i),i++):(p=e,I===0&&oe(Pe)),p!==e){for(k=[],w=i,X=i,I++,H=i,n.length>i?(Ee=n.charAt(i),i++):(Ee=e,I===0&&oe(Pe)),Ee!==e?(be=i,se=$r(b,p,Ee),se?se=void 0:se=e,se!==e?(Ee=[Ee,se],H=Ee):(i=H,H=e)):(i=H,H=e),I--,H===e?X=void 0:(i=X,X=e),X!==e?(n.length>i?(H=n.charAt(i),i++):(H=e,I===0&&oe(Pe)),H!==e?(be=w,w=tn(b,p,H)):(i=w,w=e)):(i=w,w=e);w!==e;)k.push(w),w=i,X=i,I++,H=i,n.length>i?(Ee=n.charAt(i),i++):(Ee=e,I===0&&oe(Pe)),Ee!==e?(be=i,se=$r(b,p,Ee),se?se=void 0:se=e,se!==e?(Ee=[Ee,se],H=Ee):(i=H,H=e)):(i=H,H=e),I--,H===e?X=void 0:(i=X,X=e),X!==e?(n.length>i?(H=n.charAt(i),i++):(H=e,I===0&&oe(Pe)),H!==e?(be=w,w=tn(b,p,H)):(i=w,w=e)):(i=w,w=e);w=i,n.length>i?(X=n.charAt(i),i++):(X=e,I===0&&oe(Pe)),X!==e?(be=i,H=qn(b,p,k,X),H?H=void 0:H=e,H!==e?(X=[X,H],w=X):(i=w,w=e)):(i=w,w=e),w!==e?(be=a,a=Wn(b,p,k)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e;if(a===e&&(a=hl(),a===e&&(a=vl(),a===e&&(a=yl(),a===e&&(a=bl(),a===e))))){if(a=i,f=xl(),f!==e){for(b=[],p=i,k=i,I++,w=Zt(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=hn(),w!==e?(be=p,p=qi(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=Zt(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=hn(),w!==e?(be=p,p=qi(w)):(i=p,p=e)):(i=p,p=e);p=Zt(),p!==e?(be=a,a=Po(b)):(i=a,a=e)}else i=a,a=e;if(a===e){if(a=i,f=wl(),f!==e){for(b=[],p=i,k=i,I++,w=Jt(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=hn(),w!==e?(be=p,p=Wi(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=Jt(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=hn(),w!==e?(be=p,p=Wi(w)):(i=p,p=e)):(i=p,p=e);p=Jt(),p!==e?(be=a,a=So(b)):(i=a,a=e)}else i=a,a=e;if(a===e){if(a=i,f=cn(),f!==e)if(b=cn(),b!==e){for(p=[],k=i,w=i,I++,X=i,H=cn(),H!==e?(Ee=cn(),Ee!==e?(H=[H,Ee],X=H):(i=X,X=e)):(i=X,X=e),I--,X===e?w=void 0:(i=w,w=e),w!==e?(X=hn(),X!==e?(be=k,k=ji(X)):(i=k,k=e)):(i=k,k=e);k!==e;)p.push(k),k=i,w=i,I++,X=i,H=cn(),H!==e?(Ee=cn(),Ee!==e?(H=[H,Ee],X=H):(i=X,X=e)):(i=X,X=e),I--,X===e?w=void 0:(i=w,w=e),w!==e?(X=hn(),X!==e?(be=k,k=ji(X)):(i=k,k=e)):(i=k,k=e);k=cn(),k!==e?(w=cn(),w!==e?(be=a,a=Fo(p)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;a===e&&(a=Al(),a===e&&(a=$l()))}}}return I--,a===e&&(f=e,I===0&&oe(E)),pe[Te]={nextPos:i,result:a},a}function Yt(){var a,f,b,p,k,w,X,H,Ee=i*52+9,se=pe[Ee];if(se)return i=se.nextPos,se.result;if(a=i,n.charCodeAt(i)===91?(f=v,i++):(f=e,I===0&&oe(K)),f!==e){for(b=[],p=i,k=i,I++,w=i,X=_n(),X!==e?(be=i,H=Gi(X),H?H=void 0:H=e,H!==e?(X=[X,H],w=X):(i=w,w=e)):(i=w,w=e),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=_n(),w!==e?(be=p,p=zi(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=i,X=_n(),X!==e?(be=i,H=Gi(X),H?H=void 0:H=e,H!==e?(X=[X,H],w=X):(i=w,w=e)):(i=w,w=e),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=_n(),w!==e?(be=p,p=zi(w)):(i=p,p=e)):(i=p,p=e);n.charCodeAt(i)===93?(p=T,i++):(p=e,I===0&&oe(Q)),p!==e?(be=a,a=Ro(b)):(i=a,a=e)}else i=a,a=e;return pe[Ee]={nextPos:i,result:a},a}function fa(){var a,f,b,p,k,w,X=i*52+10,H=pe[X];if(H)return i=H.nextPos,H.result;if(a=i,f=In(),f!==e){for(b=[],p=i,k=i,I++,w=fn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=Hi(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=fn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=Hi(w)):(i=p,p=e)):(i=p,p=e);p=fn(),p!==e?(be=a,a=Oo(b)):(i=a,a=e)}else i=a,a=e;return pe[X]={nextPos:i,result:a},a}function ca(){var a,f,b,p,k,w,X,H,Ee=i*52+11,se=pe[Ee];if(se)return i=se.nextPos,se.result;if(a=i,re.test(n.charAt(i))?(f=n.charAt(i),i++):(f=e,I===0&&oe(Se)),f!==e){for(b=[],p=i,k=i,I++,w=i,n.length>i?(X=n.charAt(i),i++):(X=e,I===0&&oe(Pe)),X!==e?(be=i,H=Ui(f,X),H?H=void 0:H=e,H!==e?(X=[X,H],w=X):(i=w,w=e)):(i=w,w=e),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=Vi(f,w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=i,n.length>i?(X=n.charAt(i),i++):(X=e,I===0&&oe(Pe)),X!==e?(be=i,H=Ui(f,X),H?H=void 0:H=e,H!==e?(X=[X,H],w=X):(i=w,w=e)):(i=w,w=e),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=Vi(f,w)):(i=p,p=e)):(i=p,p=e);p=i,n.length>i?(k=n.charAt(i),i++):(k=e,I===0&&oe(Pe)),k!==e?(be=i,w=Do(f,b,k),w?w=void 0:w=e,w!==e?(k=[k,w],p=k):(i=p,p=e)):(i=p,p=e),p!==e?(be=a,a=Bo(f,b)):(i=a,a=e)}else i=a,a=e;return pe[Ee]={nextPos:i,result:a},a}function hl(){var a,f,b,p,k,w=i*52+12,X=pe[w];return X?(i=X.nextPos,X.result):(I++,a=i,f=yn(),f!==e?(n.substr(i,9)===ve?(b=ve,i+=9):(b=e,I===0&&oe(We)),b!==e?(p=Yt(),p===e&&(p=null),k=fa(),k===e&&(k=ca()),k!==e?(be=a,a=To(b,p,k)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e),I--,a===e&&(f=e,I===0&&oe(Ke)),pe[w]={nextPos:i,result:a},a)}function vl(){var a,f,b,p,k,w,X=i*52+13,H=pe[X];return H?(i=H.nextPos,H.result):(I++,a=i,f=yn(),f!==e?(n.substr(i,10)===Ze?(b=Ze,i+=10):(b=e,I===0&&oe(Ye)),b===e&&(n.substr(i,4)===xr?(b=xr,i+=4):(b=e,I===0&&oe(ir))),b!==e?(p=Yt(),p===e&&(p=null),k=Cn(),k!==e?(w=fa(),w===e&&(w=ca()),w!==e?(be=a,a=Lo(b,p,k,w)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e),I--,a===e&&(f=e,I===0&&oe(Xe)),pe[X]={nextPos:i,result:a},a)}function yl(){var a,f,b,p,k,w,X,H,Ee,se,Te,je,er,gn,Kr,Aa=i*52+14,ti=pe[Aa];if(ti)return i=ti.nextPos,ti.result;if(I++,a=i,f=kt(),f!==e)if(b=In(),b!==e)if(n.substr(i,6)===Ie?(p=Ie,i+=6):(p=e,I===0&&oe(ur)),p!==e)if(k=fn(),k!==e)if(w=Yt(),w===e&&(w=null),X=Cn(),X!==e){for(H=i,Ee=[],se=i,Te=i,I++,je=i,er=vn(),er!==e?(gn=Cn(),gn!==e?(be=i,Kr=Xi(p,w,X,gn),Kr?Kr=void 0:Kr=e,Kr!==e?(er=[er,gn,Kr],je=er):(i=je,je=e)):(i=je,je=e)):(i=je,je=e),I--,je===e?Te=void 0:(i=Te,Te=e),Te!==e?(n.length>i?(je=n.charAt(i),i++):(je=e,I===0&&oe(Pe)),je!==e?(Te=[Te,je],se=Te):(i=se,se=e)):(i=se,se=e);se!==e;)Ee.push(se),se=i,Te=i,I++,je=i,er=vn(),er!==e?(gn=Cn(),gn!==e?(be=i,Kr=Xi(p,w,X,gn),Kr?Kr=void 0:Kr=e,Kr!==e?(er=[er,gn,Kr],je=er):(i=je,je=e)):(i=je,je=e)):(i=je,je=e),I--,je===e?Te=void 0:(i=Te,Te=e),Te!==e?(n.length>i?(je=n.charAt(i),i++):(je=e,I===0&&oe(Pe)),je!==e?(Te=[Te,je],se=Te):(i=se,se=e)):(i=se,se=e);H=n.substring(H,i),Ee=vn(),Ee!==e?(se=In(),se!==e?(n.substr(i,6)===Ie?(Te=Ie,i+=6):(Te=e,I===0&&oe(ur)),Te!==e?(je=fn(),je!==e?(be=a,a=No(p,w,X,H)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e;else i=a,a=e;else i=a,a=e;return I--,a===e&&(f=e,I===0&&oe(ze)),pe[Aa]={nextPos:i,result:a},a}function bl(){var a,f,b,p,k,w,X,H,Ee,se,Te,je,er,gn=i*52+15,Kr=pe[gn];if(Kr)return i=Kr.nextPos,Kr.result;if(I++,a=i,f=kt(),f!==e)if(b=In(),b!==e)if(p=ga(),p!==e)if(k=fn(),k!==e){for(w=i,X=[],H=i,Ee=i,I++,se=i,Te=vn(),Te!==e?(je=Cn(),je!==e?(be=i,er=Ki(p,je),er?er=void 0:er=e,er!==e?(Te=[Te,je,er],se=Te):(i=se,se=e)):(i=se,se=e)):(i=se,se=e),I--,se===e?Ee=void 0:(i=Ee,Ee=e),Ee!==e?(n.length>i?(se=n.charAt(i),i++):(se=e,I===0&&oe(Pe)),se!==e?(be=H,H=Yi(p,se)):(i=H,H=e)):(i=H,H=e);H!==e;)X.push(H),H=i,Ee=i,I++,se=i,Te=vn(),Te!==e?(je=Cn(),je!==e?(be=i,er=Ki(p,je),er?er=void 0:er=e,er!==e?(Te=[Te,je,er],se=Te):(i=se,se=e)):(i=se,se=e)):(i=se,se=e),I--,se===e?Ee=void 0:(i=Ee,Ee=e),Ee!==e?(n.length>i?(se=n.charAt(i),i++):(se=e,I===0&&oe(Pe)),se!==e?(be=H,H=Yi(p,se)):(i=H,H=e)):(i=H,H=e);w=n.substring(w,i),X=vn(),X!==e?(H=In(),H!==e?(Ee=ga(),Ee!==e?(se=fn(),se!==e?(be=a,a=qo(p,w)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e;else i=a,a=e;return I--,a===e&&(f=e,I===0&&oe(D)),pe[gn]={nextPos:i,result:a},a}function ga(){var a,f=i*52+16,b=pe[f];return b?(i=b.nextPos,b.result):(n.substr(i,9)===yr?(a=yr,i+=9):(a=e,I===0&&oe(J)),a===e&&(n.substr(i,8)===fr?(a=fr,i+=8):(a=e,I===0&&oe(xe)),a===e&&(n.substr(i,13)===br?(a=br,i+=13):(a=e,I===0&&oe(Le)),a===e&&(n.substr(i,12)===rr?(a=rr,i+=12):(a=e,I===0&&oe(me)),a===e&&(n.substr(i,7)===Cr?(a=Cr,i+=7):(a=e,I===0&&oe(cr)),a===e&&(n.substr(i,10)===Or?(a=Or,i+=10):(a=e,I===0&&oe(Ge))))))),pe[f]={nextPos:i,result:a},a)}function pa(){var a,f,b,p,k,w=i*52+17,X=pe[w];if(X)return i=X.nextPos,X.result;if(I++,a=i,f=i,b=yn(),b!==e){if(p=[],k=da(),k!==e)for(;k!==e;)p.push(k),k=da();else p=e;p!==e?(be=f,f=Wo(p)):(i=f,f=e)}else i=f,f=e;return f===e&&(f=i,b=yn(),b!==e?(n.length>i?(p=n.charAt(i),i++):(p=e,I===0&&oe(Pe)),p!==e?(be=f,f=jo(p)):(i=f,f=e)):(i=f,f=e)),f!==e&&(be=a,f=Go(f)),a=f,I--,a===e&&(f=e,I===0&&oe(A)),pe[w]={nextPos:i,result:a},a}function Cn(){var a,f,b,p,k,w,X=i*52+18,H=pe[X];if(H)return i=H.nextPos,H.result;if(I++,a=i,f=In(),f!==e){for(b=[],p=i,k=i,I++,w=fn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=_n(),w!==e?(be=p,p=Zi(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=fn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(w=_n(),w!==e?(be=p,p=Zi(w)):(i=p,p=e)):(i=p,p=e);p=fn(),p!==e?(be=a,a=zo(b)):(i=a,a=e)}else i=a,a=e;return I--,a===e&&(f=e,I===0&&oe(j)),pe[X]={nextPos:i,result:a},a}function wt(){var a,f,b=i*52+19,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,f=Cn(),f!==e&&(be=a,f=Ho()),a=f,pe[b]={nextPos:i,result:a},a)}function $l(){var a,f,b,p,k,w,X,H,Ee,se,Te,je=i*52+20,er=pe[je];if(er)return i=er.nextPos,er.result;if(I++,a=i,f=kt(),f!==e)if(b=wt(),b!==e){for(p=ni(),p===e&&(p=null),k=[],w=i,X=i,I++,H=i,Ee=vn(),Ee!==e?(se=wt(),se!==e?(be=i,Te=Ji(b,p,se),Te?Te=void 0:Te=e,Te!==e?(Ee=[Ee,se,Te],H=Ee):(i=H,H=e)):(i=H,H=e)):(i=H,H=e),I--,H===e?X=void 0:(i=X,X=e),X!==e?(H=_n(),H!==e?(be=w,w=Qi(b,p,H)):(i=w,w=e)):(i=w,w=e);w!==e;)k.push(w),w=i,X=i,I++,H=i,Ee=vn(),Ee!==e?(se=wt(),se!==e?(be=i,Te=Ji(b,p,se),Te?Te=void 0:Te=e,Te!==e?(Ee=[Ee,se,Te],H=Ee):(i=H,H=e)):(i=H,H=e)):(i=H,H=e),I--,H===e?X=void 0:(i=X,X=e),X!==e?(H=_n(),H!==e?(be=w,w=Qi(b,p,H)):(i=w,w=e)):(i=w,w=e);w=vn(),w!==e?(X=wt(),X!==e?(be=a,a=Uo(b,p,k)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return I--,a===e&&(f=e,I===0&&oe(W)),pe[je]={nextPos:i,result:a},a}function Al(){var a,f,b,p,k,w,X,H,Ee,se,Te,je,er,gn=i*52+21,Kr=pe[gn];if(Kr)return i=Kr.nextPos,Kr.result;if(I++,a=i,f=kt(),f!==e)if(b=In(),b!==e)if(p=ma(),p!==e)if(k=fn(),k!==e){for(w=ni(),w===e&&(w=null),X=[],H=i,Ee=i,I++,se=i,Te=vn(),Te!==e?(je=Cn(),je!==e?(be=i,er=ea(p,w,je),er?er=void 0:er=e,er!==e?(Te=[Te,je,er],se=Te):(i=se,se=e)):(i=se,se=e)):(i=se,se=e),I--,se===e?Ee=void 0:(i=Ee,Ee=e),Ee!==e?(se=hn(),se!==e?(be=H,H=ra(p,w,se)):(i=H,H=e)):(i=H,H=e);H!==e;)X.push(H),H=i,Ee=i,I++,se=i,Te=vn(),Te!==e?(je=Cn(),je!==e?(be=i,er=ea(p,w,je),er?er=void 0:er=e,er!==e?(Te=[Te,je,er],se=Te):(i=se,se=e)):(i=se,se=e)):(i=se,se=e),I--,se===e?Ee=void 0:(i=Ee,Ee=e),Ee!==e?(se=hn(),se!==e?(be=H,H=ra(p,w,se)):(i=H,H=e)):(i=H,H=e);H=vn(),H!==e?(Ee=In(),Ee!==e?(se=ma(),se!==e?(Te=fn(),Te!==e?(be=a,a=Vo(p,w,X)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e;else i=a,a=e;return I--,a===e&&(f=e,I===0&&oe(Re)),pe[gn]={nextPos:i,result:a},a}function xl(){var a,f,b,p=i*52+23,k=pe[p];return k?(i=k.nextPos,k.result):(a=i,f=yn(),f!==e?(n.charCodeAt(i)===91?(b=v,i++):(b=e,I===0&&oe(K)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),pe[p]={nextPos:i,result:a},a)}function Zt(){var a,f,b,p=i*52+24,k=pe[p];return k?(i=k.nextPos,k.result):(a=i,f=yn(),f!==e?(n.charCodeAt(i)===93?(b=T,i++):(b=e,I===0&&oe(Q)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),pe[p]={nextPos:i,result:a},a)}function wl(){var a,f,b,p=i*52+25,k=pe[p];return k?(i=k.nextPos,k.result):(a=i,f=yn(),f!==e?(n.charCodeAt(i)===40?(b=Mr,i++):(b=e,I===0&&oe(qe)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),pe[p]={nextPos:i,result:a},a)}function Jt(){var a,f,b,p=i*52+26,k=pe[p];return k?(i=k.nextPos,k.result):(a=i,f=yn(),f!==e?(n.charCodeAt(i)===41?(b=Sr,i++):(b=e,I===0&&oe(we)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),pe[p]={nextPos:i,result:a},a)}function kt(){var a,f,b,p=i*52+27,k=pe[p];return k?(i=k.nextPos,k.result):(a=i,f=yn(),f!==e?(n.substr(i,5)===wr?(b=wr,i+=5):(b=e,I===0&&oe(Ir)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),pe[p]={nextPos:i,result:a},a)}function vn(){var a,f,b,p=i*52+28,k=pe[p];return k?(i=k.nextPos,k.result):(a=i,f=yn(),f!==e?(n.substr(i,3)===fe?(b=fe,i+=3):(b=e,I===0&&oe(x)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),pe[p]={nextPos:i,result:a},a)}function ma(){var a,f,b=i*52+29,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.substr(i,9)===kr?(f=kr,i+=9):(f=e,I===0&&oe(u)),f===e&&(n.substr(i,8)===Qe?(f=Qe,i+=8):(f=e,I===0&&oe(N)),f===e&&(n.substr(i,6)===ye?(f=ye,i+=6):(f=e,I===0&&oe(De)),f===e&&(n.substr(i,5)===nr?(f=nr,i+=5):(f=e,I===0&&oe(sr)),f===e&&(n.substr(i,8)===gr?(f=gr,i+=8):(f=e,I===0&&oe(te)),f===e&&(n.substr(i,7)===Fr?(f=Fr,i+=7):(f=e,I===0&&oe(nn)),f===e&&(n.substr(i,7)===ar?(f=ar,i+=7):(f=e,I===0&&oe(Xr)),f===e&&(n.substr(i,6)===ce?(f=ce,i+=6):(f=e,I===0&&oe(xn)),f===e&&(n.substr(i,9)===ke?(f=ke,i+=9):(f=e,I===0&&oe(On)),f===e&&(n.substr(i,8)===L?(f=L,i+=8):(f=e,I===0&&oe(Hn)),f===e&&(n.substr(i,8)===Er?(f=Er,i+=8):(f=e,I===0&&oe(Pr)),f===e&&(n.substr(i,7)===hr?(f=hr,i+=7):(f=e,I===0&&oe(Dn)),f===e&&(n.substr(i,5)===vr?(f=vr,i+=5):(f=e,I===0&&oe(wn)),f===e&&(n.substr(i,4)===Ve?(f=Ve,i+=4):(f=e,I===0&&oe(Ce)),f===e&&(n.substr(i,11)===Dr?(f=Dr,i+=11):(f=e,I===0&&oe(kn)))))))))))))))),f!==e&&(be=a,f=Xo(f)),a=f,pe[b]={nextPos:i,result:a},a)}function yn(){var a,f,b=i*52+30,p=pe[b];return p?(i=p.nextPos,p.result):(I++,a=i,n.charCodeAt(i)===92?(f=jr,i++):(f=e,I===0&&oe(un)),f!==e&&(be=a,f=Ko()),a=f,I--,a===e&&(f=e,I===0&&oe(Mn)),pe[b]={nextPos:i,result:a},a)}function In(){var a,f,b=i*52+31,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===123?(f=Ur,i++):(f=e,I===0&&oe(sn)),f!==e&&(be=a,f=Yo(f)),a=f,pe[b]={nextPos:i,result:a},a)}function fn(){var a,f,b=i*52+32,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===125?(f=Nr,i++):(f=e,I===0&&oe(g)),f!==e&&(be=a,f=Zo(f)),a=f,pe[b]={nextPos:i,result:a},a)}function cn(){var a,f,b=i*52+33,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===36?(f=Gr,i++):(f=e,I===0&&oe(S)),f!==e&&(be=a,f=Jo(f)),a=f,pe[b]={nextPos:i,result:a},a)}function Qt(){var a,f,b=i*52+34,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===38?(f=pr,i++):(f=e,I===0&&oe(R)),f!==e&&(be=a,f=Qo(f)),a=f,pe[b]={nextPos:i,result:a},a)}function rn(){var a,f,b,p=i*52+35,k=pe[p];return k?(i=k.nextPos,k.result):(I++,a=i,f=i,I++,n.charCodeAt(i)===13?(b=Vr,i++):(b=e,I===0&&oe(le)),I--,b===e?f=void 0:(i=f,f=e),f!==e?(n.charCodeAt(i)===10?(b=qr,i++):(b=e,I===0&&oe(he)),b!==e?(f=[f,b],a=f):(i=a,a=e)):(i=a,a=e),a===e&&(n.charCodeAt(i)===13?(a=Vr,i++):(a=e,I===0&&oe(le)),a===e&&(n.substr(i,2)===V?(a=V,i+=2):(a=e,I===0&&oe($)))),I--,a===e&&(f=e,I===0&&oe(de)),pe[p]={nextPos:i,result:a},a)}function ei(){var a,f,b=i*52+36,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===35?(f=ie,i++):(f=e,I===0&&oe(B)),f!==e&&(be=a,f=el(f)),a=f,pe[b]={nextPos:i,result:a},a)}function kl(){var a,f,b=i*52+37,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===94?(f=ue,i++):(f=e,I===0&&oe(ne)),f!==e&&(be=a,f=rl(f)),a=f,pe[b]={nextPos:i,result:a},a)}function Cl(){var a,f,b=i*52+38,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,n.charCodeAt(i)===95?(f=Ne,i++):(f=e,I===0&&oe(ge)),f!==e&&(be=a,f=nl(f)),a=f,pe[b]={nextPos:i,result:a},a)}function ri(){var a,f=i*52+39,b=pe[f];return b?(i=b.nextPos,b.result):(n.charCodeAt(i)===0?(a=tr,i++):(a=e,I===0&&oe(Fe)),pe[f]={nextPos:i,result:a},a)}function Ar(){var a,f,b,p=i*52+40,k=pe[p];if(k)return i=k.nextPos,k.result;if(I++,a=i,f=[],Br.test(n.charAt(i))?(b=n.charAt(i),i++):(b=e,I===0&&oe(dr)),b!==e)for(;b!==e;)f.push(b),Br.test(n.charAt(i))?(b=n.charAt(i),i++):(b=e,I===0&&oe(dr));else f=e;return f!==e&&(be=a,f=tl()),a=f,I--,a===e&&(f=e,I===0&&oe(lr)),pe[p]={nextPos:i,result:a},a}function da(){var a,f=i*52+41,b=pe[f];return b?(i=b.nextPos,b.result):(I++,_r.test(n.charAt(i))?(a=n.charAt(i),i++):(a=e,I===0&&oe(Yr)),I--,a===e&&I===0&&oe(Rr),pe[f]={nextPos:i,result:a},a)}function jn(){var a,f=i*52+42,b=pe[f];return b?(i=b.nextPos,b.result):(I++,z.test(n.charAt(i))?(a=n.charAt(i),i++):(a=e,I===0&&oe(Gt)),I--,a===e&&I===0&&oe(ht),pe[f]={nextPos:i,result:a},a)}function ha(){var a,f,b=i*52+43,p=pe[b];return p?(i=p.nextPos,p.result):(I++,a=i,q.test(n.charAt(i))?(f=n.charAt(i),i++):(f=e,I===0&&oe(Bn)),f!==e&&(be=a,f=il(f)),a=f,I--,a===e&&(f=e,I===0&&oe(zt)),pe[b]={nextPos:i,result:a},a)}function at(){var a,f=i*52+44,b=pe[f];return b?(i=b.nextPos,b.result):(n.charCodeAt(i)===37?(a=P,i++):(a=e,I===0&&oe(zr)),pe[f]={nextPos:i,result:a},a)}function va(){var a,f=i*52+45,b=pe[f];return b?(i=b.nextPos,b.result):(I++,a=Ml(),a===e&&(a=ni()),I--,a===e&&I===0&&oe(Ht),pe[f]={nextPos:i,result:a},a)}function Ml(){var a,f,b,p,k=i*52+46,w=pe[k];if(w)return i=w.nextPos,w.result;for(a=i,f=i,b=[],p=Ar();p!==e;)b.push(p),p=Ar();return p=rn(),p!==e?(b=[b,p],f=b):(i=f,f=e),f===e&&(f=null),b=El(),b!==e?(p=ya(),p!==e?(be=a,a=al(b,p)):(i=a,a=e)):(i=a,a=e),pe[k]={nextPos:i,result:a},a}function ni(){var a,f,b,p=i*52+47,k=pe[p];if(k)return i=k.nextPos,k.result;for(a=i,f=[],b=Ar();b!==e;)f.push(b),b=Ar();return b=ya(),b!==e?(be=a,a=sl(f,b)):(i=a,a=e),pe[p]={nextPos:i,result:a},a}function ya(){var a,f,b,p,k,w,X,H,Ee=i*52+48,se=pe[Ee];if(se)return i=se.nextPos,se.result;if(I++,a=i,f=at(),f!==e){for(b=[],p=i,k=i,I++,w=rn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=na(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=rn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=na(w)):(i=p,p=e)):(i=p,p=e);p=i,I++,k=oa(),I--,k!==e?(i=p,p=void 0):p=e,p!==e?(be=a,a=ol(b)):(i=a,a=e)}else i=a,a=e;if(a===e)if(a=i,f=at(),f!==e){for(b=[],p=i,k=i,I++,w=rn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=ta(w)):(i=p,p=e)):(i=p,p=e);p!==e;)b.push(p),p=i,k=i,I++,w=rn(),I--,w===e?k=void 0:(i=k,k=e),k!==e?(n.length>i?(w=n.charAt(i),i++):(w=e,I===0&&oe(Pe)),w!==e?(be=p,p=ta(w)):(i=p,p=e)):(i=p,p=e);if(p=i,k=rn(),k!==e){for(w=[],X=Ar();X!==e;)w.push(X),X=Ar();X=i,I++,H=at(),I--,H===e?X=void 0:(i=X,X=e),X!==e?(k=[k,w,X],p=k):(i=p,p=e)}else i=p,p=e;p===e&&(p=rn(),p===e&&(p=ba())),p!==e?(be=a,a=ll(b)):(i=a,a=e)}else i=a,a=e;return I--,a===e&&(f=e,I===0&&oe(Ut)),pe[Ee]={nextPos:i,result:a},a}function El(){var a,f,b,p,k,w=i*52+49,X=pe[w];if(X)return i=X.nextPos,X.result;if(a=i,f=i,b=_l(),b!==e){for(p=[],k=Ar();k!==e;)p.push(k),k=Ar();b=[b,p],f=b}else i=f,f=e;return f!==e?a=n.substring(a,i):a=f,pe[w]={nextPos:i,result:a},a}function _l(){var a,f=i*52+50,b=pe[f];return b?(i=b.nextPos,b.result):(be=i,a=ul(),a?a=void 0:a=e,pe[f]={nextPos:i,result:a},a)}function ba(){var a,f,b=i*52+51,p=pe[b];return p?(i=p.nextPos,p.result):(a=i,I++,n.length>i?(f=n.charAt(i),i++):(f=e,I===0&&oe(Pe)),I--,f===e?a=void 0:(i=a,a=e),pe[b]={nextPos:i,result:a},a)}function $a(a){return typeof a=="string"?a:typeof a.content=="string"?a.content:a&&a.type==="whitespace"?" ":a}function Ct(a,f){let b=typeof a=="string"?a:a.content.map($a).join(""),p=typeof f=="string"?f:f.content.map($a).join("");return b===p}function Je(a,f={}){return{type:a,...f,position:ia()}}if(xt=_(),xt!==e&&i===n.length)return xt;throw xt!==e&&i<n.length&&oe(gl()),pl(Xt,En<n.length?n.charAt(En):null,En<n.length?Kt(En,En+1):Kt(En,En))}return{SyntaxError:t,parse:l}}(),Pc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={body:Dr},_=Dr,P=ke(),U=function(){return[]},ee=function(z){return{cells:[],colSeps:[],...z}},y=function(z,q,O){return{...z,rowSep:q,trailingComment:O}},v=function(z,q){return{...z,rowSep:null,trailingComment:q}},T=function(z){return z},ve=function(z){return{cells:[],colSeps:[],rowSep:null,trailingComment:z}},Ze=function(z){return z},xr=function(z,q){return{colSep:z,cell:q}},Ie=function(z){return{colSep:z}},yr=function(z,q){return _r(z,q)},fr=function(z){return _r(null,z)},br=function(z){return o.isSameLineComment(z)},rr=function(z){return z},Cr=function(z){return o.isOwnLineComment(z)},Or=function(z){return z},Mr=function(z){return o.isWhitespace(z)},Sr=function(z){return z},wr=function(z){return o.isRowSep(z)},fe=function(z){return z},kr=function(z){return o.isColSep(z)},Qe=function(z){return z},ye=0,nr=[{line:1,column:1}],gr=0,Fr=[],ar=0,ce;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function ke(){return{type:"any"}}function L(){return{type:"end"}}function Er(z){var q=nr[z],O;if(q)return q;for(O=z-1;!nr[O];)O--;for(q=nr[O],q={line:q.line,column:q.column};O<z;)n.charCodeAt(O)===10?(q.line++,q.column=1):q.column++,O++;return nr[z]=q,q}function hr(z,q,O){var or=Er(z),Y=Er(q),Pe={source:m,start:{offset:z,line:or.line,column:or.column},end:{offset:q,line:Y.line,column:Y.column}};return Pe}function vr(z){ye<gr||(ye>gr&&(gr=ye,Fr=[]),Fr.push(z))}function Ve(z,q,O){return new t(t.buildMessage(z,q),z,q,O)}function Dr(){var z,q;if(z=[],q=Gr(),q===e&&(q=jr(),q===e&&(q=Ur())),q!==e)for(;q!==e;)z.push(q),q=Gr(),q===e&&(q=jr(),q===e&&(q=Ur()));else z=e;return z===e&&(z=ye,q=Br(),q!==e&&(q=U()),z=q),z}function jr(){var z,q,O,or;return z=ye,q=ye,O=V(),O===e&&(O=null),O=ee(O),q=O,O=tr(),O!==e?(or=Nr(),or===e&&(or=null),z=y(q,O,or)):(ye=z,z=e),z}function Ur(){var z,q,O;return z=ye,q=V(),q!==e?(O=Nr(),O===e&&(O=null),z=v(q,O)):(ye=z,z=e),z}function Nr(){var z,q,O;for(z=ye,q=[],O=Ne();O!==e;)q.push(O),O=Ne();return O=ie(),O!==e?z=T(O):(ye=z,z=e),z}function Gr(){var z,q,O;for(z=ye,q=[],O=Ne();O!==e;)q.push(O),O=Ne();return O=ue(),O!==e?z=ve(O):(ye=z,z=e),z}function pr(){var z,q,O;return z=ye,q=ye,ar++,O=tr(),O===e&&(O=re(),O===e&&(O=Nr(),O===e&&(O=ue()))),ar--,O===e?q=void 0:(ye=q,q=e),q!==e?(n.length>ye?(O=n.charAt(ye),ye++):(O=e,ar===0&&vr(P)),O!==e?z=Ze(O):(ye=z,z=e)):(ye=z,z=e),z}function Vr(){var z,q,O;if(z=ye,q=[],O=pr(),O!==e)for(;O!==e;)q.push(O),O=pr();else q=e;return q!==e?z=n.substring(z,ye):z=q,z}function qr(){var z,q,O;return z=ye,q=re(),q!==e?(O=Vr(),O!==e?z=xr(q,O):(ye=z,z=e)):(ye=z,z=e),z===e&&(z=ye,q=re(),q!==e&&(q=Ie(q)),z=q),z}function V(){var z,q,O,or;if(z=ye,q=Vr(),q!==e){for(O=[],or=qr();or!==e;)O.push(or),or=qr();z=yr(q,O)}else ye=z,z=e;if(z===e){if(z=ye,q=[],O=qr(),O!==e)for(;O!==e;)q.push(O),O=qr();else q=e;q!==e&&(q=fr(q)),z=q}return z}function ie(){var z,q,O;return z=ye,n.length>ye?(q=n.charAt(ye),ye++):(q=e,ar===0&&vr(P)),q!==e?(O=br(q),O?O=void 0:O=e,O!==e?z=rr(q):(ye=z,z=e)):(ye=z,z=e),z}function ue(){var z,q,O;return z=ye,n.length>ye?(q=n.charAt(ye),ye++):(q=e,ar===0&&vr(P)),q!==e?(O=Cr(q),O?O=void 0:O=e,O!==e?z=Or(q):(ye=z,z=e)):(ye=z,z=e),z}function Ne(){var z,q,O;return z=ye,n.length>ye?(q=n.charAt(ye),ye++):(q=e,ar===0&&vr(P)),q!==e?(O=Mr(q),O?O=void 0:O=e,O!==e?z=Sr(q):(ye=z,z=e)):(ye=z,z=e),z}function tr(){var z,q,O;return z=ye,n.length>ye?(q=n.charAt(ye),ye++):(q=e,ar===0&&vr(P)),q!==e?(O=wr(q),O?O=void 0:O=e,O!==e?z=fe(q):(ye=z,z=e)):(ye=z,z=e),z}function re(){var z,q,O;return z=ye,n.length>ye?(q=n.charAt(ye),ye++):(q=e,ar===0&&vr(P)),q!==e?(O=kr(q),O?O=void 0:O=e,O!==e?z=Qe(q):(ye=z,z=e)):(ye=z,z=e),z}function Br(){var z,q;return z=ye,ar++,n.length>ye?(q=n.charAt(ye),ye++):(q=e,ar===0&&vr(P)),ar--,q===e?z=void 0:(ye=z,z=e),z}function _r(z,q){let O=[z||[]],or=[];for(let Y of q)O.push(Y.cell||[]),or.push(Y.colSep);return{cells:O,colSeps:or}}if(!o.isWhitespace)try{Object.assign(o,createMatchers(["\\","hline","cr"],["&"]))}catch(z){console.warn("Error when initializing parser",z)}if(ce=_(),ce!==e&&ye===n.length)return ce;throw ce!==e&&ye<n.length&&vr(L()),Ve(Fr,gr<n.length?n.charAt(gr):null,gr<n.length?hr(gr,gr+1):hr(gr,gr))}return{SyntaxError:t,parse:l}}(),jl=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={args_spec_list:x},_=x,P="v",U="b",ee="!",y="D",v="d",T="s",ve="O",Ze="o",xr="e",Ie="E",yr="t",fr="R",br="r",rr="u",Cr="m",Or="{",Mr="}",Sr=" ",wr=`
`,fe="\r",kr="\\",Qe=/^[{ ]/,ye=/^[a-zA-Z]/,nr=/^[{}]/,gr=Ge("+",!1),Fr=Ge("v",!1),ar=j(),ce=Ge("b",!1),ke=Ge("!",!1),L=Ge("D",!1),Er=Ge("d",!1),hr=Ge("s",!1),vr=Ge("O",!1),Ve=Ge("o",!1),Dr=Ge("e",!1),jr=Ge("E",!1),Ur=Ge("t",!1),Nr=Ge("R",!1),Gr=Ge("r",!1),pr=Ge("u",!1),Vr=A(["{"," "],!1,!1),qr=Ge("m",!1),V=Ge("{",!1),ie=Ge("}",!1),ue=Ge(" ",!1),Ne=Ge(`
`,!1),tr=Ge("\r",!1),re=Ge("\\",!1),Br=A([["a","z"],["A","Z"]],!1,!1),_r=A(["{","}"],!1,!1),z=function($){return $},q=function($){return $},O=function($){return $},or=function($){return le("verbatim",{openBrace:$,closeBrace:$})},Y=function(){return le("body")},Pe=function($,B){return $?{...B,noLeadingWhitespace:!0}:B},He=function($,B){return le("optional",{...$,defaultArg:B})},Oe=function($){return le("optional",$)},ae=function(){return le("optionalStar")},zr=function($){return le("optional",{defaultArg:$})},lr=function(){return le("optional")},Jr=function($){return le("embellishment",{embellishmentTokens:$})},mr=function($,B){return le("embellishment",{embellishmentTokens:$,defaultArg:B})},E=function($){return le("optionalToken",{token:$})},C=function($,B){return le("mandatory",{...$,defaultArg:B})},F=function($){return le("mandatory",$)},K=function($){return le("until",{stopTokens:$})},Q=function($){return[$]},Se=function($){return $.content},Ke=function(){return le("mandatory")},We=function($,B){return{openBrace:$,closeBrace:B}},Xe=function($){return $.content.map(he).join("")},Ye=function($){return[$]},ir=function($){return $.filter(B=>!B.match(/^\s*$/))},ze=function($){return{type:"group",content:$}},ur=function(){return""},D=0,J=[{line:1,column:1}],xe=0,Le=[],me=0,cr;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function Ge($,B){return{type:"literal",text:$,ignoreCase:B}}function A($,B,ne){return{type:"class",parts:$,inverted:B,ignoreCase:ne}}function j(){return{type:"any"}}function W(){return{type:"end"}}function Re($){var B=J[$],ne;if(B)return B;for(ne=$-1;!J[ne];)ne--;for(B=J[ne],B={line:B.line,column:B.column};ne<$;)n.charCodeAt(ne)===10?(B.line++,B.column=1):B.column++,ne++;return J[$]=B,B}function qe($,B,ne){var ge=Re($),Fe=Re(B),dr={source:m,start:{offset:$,line:ge.line,column:ge.column},end:{offset:B,line:Fe.line,column:Fe.column}};return dr}function we($){D<xe||(D>xe&&(xe=D,Le=[]),Le.push($))}function Ir($,B,ne){return new t(t.buildMessage($,B),$,B,ne)}function x(){var $,B,ne,ge;for($=D,B=[],ne=D,sn(),ge=u(),ge!==e?ne=z(ge):(D=ne,ne=e);ne!==e;)B.push(ne),ne=D,sn(),ge=u(),ge!==e?ne=z(ge):(D=ne,ne=e);return ne=sn(),$=q(B),$}function u(){var $,B;return $=D,n.charCodeAt(D)===43?D++:me===0&&we(gr),B=sr(),B===e&&(B=wn(),B===e&&(B=N(),B===e&&(B=Hn(),B===e&&(B=De(),B===e&&(B=Pr()))))),B!==e?$=O(B):(D=$,$=e),$}function N(){var $,B,ne;return $=D,n.charCodeAt(D)===118?(B=P,D++):(B=e,me===0&&we(Fr)),B!==e?(n.length>D?(ne=n.charAt(D),D++):(ne=e,me===0&&we(ar)),ne!==e?$=or(ne):(D=$,$=e)):(D=$,$=e),$}function De(){var $,B;return $=D,n.charCodeAt(D)===98?(B=U,D++):(B=e,me===0&&we(ce)),B!==e&&(B=Y()),$=B,$}function sr(){var $,B,ne;return $=D,n.charCodeAt(D)===33?(B=ee,D++):(B=e,me===0&&we(ke)),B===e&&(B=null),ne=nn(),ne===e&&(ne=Xr(),ne===e&&(ne=te(),ne===e&&(ne=xn(),ne===e&&(ne=On())))),ne!==e?$=Pe(B,ne):(D=$,$=e),$}function te(){var $,B,ne,ge;return $=D,n.charCodeAt(D)===68?(B=y,D++):(B=e,me===0&&we(L)),B!==e?(ne=Ce(),ge=kn(),ge!==e?$=He(ne,ge):(D=$,$=e)):(D=$,$=e),$===e&&($=D,n.charCodeAt(D)===100?(B=v,D++):(B=e,me===0&&we(Er)),B!==e?(ne=Ce(),$=Oe(ne)):(D=$,$=e)),$}function nn(){var $,B;return $=D,n.charCodeAt(D)===115?(B=T,D++):(B=e,me===0&&we(hr)),B!==e&&(B=ae()),$=B,$}function Xr(){var $,B,ne;return $=D,n.charCodeAt(D)===79?(B=ve,D++):(B=e,me===0&&we(vr)),B!==e?(sn(),ne=kn(),ne!==e?$=zr(ne):(D=$,$=e)):(D=$,$=e),$===e&&($=D,n.charCodeAt(D)===111?(B=Ze,D++):(B=e,me===0&&we(Ve)),B!==e&&(B=lr()),$=B),$}function xn(){var $,B,ne,ge;return $=D,n.charCodeAt(D)===101?(B=xr,D++):(B=e,me===0&&we(Dr)),B!==e?(sn(),ne=Mn(),ne!==e?$=Jr(ne):(D=$,$=e)):(D=$,$=e),$===e&&($=D,n.charCodeAt(D)===69?(B=Ie,D++):(B=e,me===0&&we(jr)),B!==e?(sn(),ne=Mn(),ne!==e?(sn(),ge=Mn(),ge!==e?$=mr(ne,ge):(D=$,$=e)):(D=$,$=e)):(D=$,$=e)),$}function On(){var $,B,ne;return $=D,n.charCodeAt(D)===116?(B=yr,D++):(B=e,me===0&&we(Ur)),B!==e?(n.length>D?(ne=n.charAt(D),D++):(ne=e,me===0&&we(ar)),ne!==e?$=E(ne):(D=$,$=e)):(D=$,$=e),$}function Hn(){var $,B,ne,ge;return $=D,n.charCodeAt(D)===82?(B=fr,D++):(B=e,me===0&&we(Nr)),B!==e?(ne=Ce(),ge=kn(),ge!==e?$=C(ne,ge):(D=$,$=e)):(D=$,$=e),$===e&&($=D,n.charCodeAt(D)===114?(B=br,D++):(B=e,me===0&&we(Gr)),B!==e?(ne=Ce(),$=F(ne)):(D=$,$=e)),$}function Pr(){var $,B,ne;return $=D,n.charCodeAt(D)===117?(B=rr,D++):(B=e,me===0&&we(pr)),B!==e?(ne=Dn(),ne!==e?$=K(ne):(D=$,$=e)):(D=$,$=e),$}function Dn(){var $,B,ne;return $=D,B=D,me++,Qe.test(n.charAt(D))?(ne=n.charAt(D),D++):(ne=e,me===0&&we(Vr)),me--,ne===e?B=void 0:(D=B,B=e),B!==e?(n.length>D?(ne=n.charAt(D),D++):(ne=e,me===0&&we(ar)),ne!==e?$=Q(ne):(D=$,$=e)):(D=$,$=e),$===e&&($=D,B=un(),B!==e&&(B=Se(B)),$=B),$}function wn(){var $,B;return $=D,n.charCodeAt(D)===109?(B=Cr,D++):(B=e,me===0&&we(qr)),B!==e&&(B=Ke()),$=B,$}function Ce(){var $,B,ne,ge,Fe,dr;return $=D,B=D,ne=D,ge=D,me++,Fe=g(),me--,Fe===e?ge=void 0:(D=ge,ge=e),ge!==e?(Fe=S(),Fe===e&&(n.length>D?(Fe=n.charAt(D),D++):(Fe=e,me===0&&we(ar))),Fe!==e?(ge=[ge,Fe],ne=ge):(D=ne,ne=e)):(D=ne,ne=e),ne===e&&(ne=null),B=n.substring(B,D),ne=D,ge=D,Fe=D,me++,dr=g(),me--,dr===e?Fe=void 0:(D=Fe,Fe=e),Fe!==e?(dr=S(),dr===e&&(n.length>D?(dr=n.charAt(D),D++):(dr=e,me===0&&we(ar))),dr!==e?(Fe=[Fe,dr],ge=Fe):(D=ge,ge=e)):(D=ge,ge=e),ge===e&&(ge=null),ne=n.substring(ne,D),$=We(B,ne),$}function kn(){var $,B;return $=R(),$===e&&($=D,B=un(),B!==e&&(B=Xe(B)),$=B),$}function Mn(){var $,B,ne,ge;if($=D,B=R(),B!==e&&(B=Ye(B)),$=B,$===e)if($=D,n.charCodeAt(D)===123?(B=Or,D++):(B=e,me===0&&we(V)),B!==e){for(ne=[],ge=kn(),ge===e&&(ge=g());ge!==e;)ne.push(ge),ge=kn(),ge===e&&(ge=g());n.charCodeAt(D)===125?(ge=Mr,D++):(ge=e,me===0&&we(ie)),ge!==e?$=ir(ne):(D=$,$=e)}else D=$,$=e;return $}function un(){var $,B,ne,ge,Fe,dr,Rr,Yr;if($=D,n.charCodeAt(D)===123?(B=Or,D++):(B=e,me===0&&we(V)),B!==e){for(ne=[],ge=D,Fe=D,dr=D,me++,n.charCodeAt(D)===125?(Rr=Mr,D++):(Rr=e,me===0&&we(ie)),me--,Rr===e?dr=void 0:(D=dr,dr=e),dr!==e?(Rr=D,me++,Yr=un(),me--,Yr===e?Rr=void 0:(D=Rr,Rr=e),Rr!==e?(Yr=R(),Yr===e&&(Yr=g()),Yr!==e?(dr=[dr,Rr,Yr],Fe=dr):(D=Fe,Fe=e)):(D=Fe,Fe=e)):(D=Fe,Fe=e),Fe!==e?ge=n.substring(ge,D):ge=Fe,ge===e&&(ge=un());ge!==e;)ne.push(ge),ge=D,Fe=D,dr=D,me++,n.charCodeAt(D)===125?(Rr=Mr,D++):(Rr=e,me===0&&we(ie)),me--,Rr===e?dr=void 0:(D=dr,dr=e),dr!==e?(Rr=D,me++,Yr=un(),me--,Yr===e?Rr=void 0:(D=Rr,Rr=e),Rr!==e?(Yr=R(),Yr===e&&(Yr=g()),Yr!==e?(dr=[dr,Rr,Yr],Fe=dr):(D=Fe,Fe=e)):(D=Fe,Fe=e)):(D=Fe,Fe=e),Fe!==e?ge=n.substring(ge,D):ge=Fe,ge===e&&(ge=un());n.charCodeAt(D)===125?(ge=Mr,D++):(ge=e,me===0&&we(ie)),ge!==e?$=ze(ne):(D=$,$=e)}else D=$,$=e;return $}function sn(){var $,B,ne;for($=D,B=[],ne=g();ne!==e;)B.push(ne),ne=g();return B=ur(),$=B,$}function g(){var $;return n.charCodeAt(D)===32?($=Sr,D++):($=e,me===0&&we(ue)),$===e&&(n.charCodeAt(D)===10?($=wr,D++):($=e,me===0&&we(Ne)),$===e&&(n.charCodeAt(D)===13?($=fe,D++):($=e,me===0&&we(tr)))),$}function S(){var $,B,ne,ge,Fe;if($=D,B=D,n.charCodeAt(D)===92?(ne=kr,D++):(ne=e,me===0&&we(re)),ne!==e){if(ge=[],ye.test(n.charAt(D))?(Fe=n.charAt(D),D++):(Fe=e,me===0&&we(Br)),Fe!==e)for(;Fe!==e;)ge.push(Fe),ye.test(n.charAt(D))?(Fe=n.charAt(D),D++):(Fe=e,me===0&&we(Br));else ge=e;ge!==e?(ne=[ne,ge],B=ne):(D=B,B=e)}else D=B,B=e;return B!==e?$=n.substring($,D):$=B,$===e&&($=D,B=D,n.charCodeAt(D)===92?(ne=kr,D++):(ne=e,me===0&&we(re)),ne!==e?(ge=D,me++,ye.test(n.charAt(D))?(Fe=n.charAt(D),D++):(Fe=e,me===0&&we(Br)),me--,Fe===e?ge=void 0:(D=ge,ge=e),ge!==e?(n.length>D?(Fe=n.charAt(D),D++):(Fe=e,me===0&&we(ar)),Fe!==e?(ne=[ne,ge,Fe],B=ne):(D=B,B=e)):(D=B,B=e)):(D=B,B=e),B!==e?$=n.substring($,D):$=B),$}function R(){var $,B,ne,ge;return $=S(),$===e&&($=D,B=D,me++,nr.test(n.charAt(D))?(ne=n.charAt(D),D++):(ne=e,me===0&&we(_r)),me--,ne===e?B=void 0:(D=B,B=e),B!==e?(ne=D,me++,ge=g(),me--,ge===e?ne=void 0:(D=ne,ne=e),ne!==e?(n.length>D?(ge=n.charAt(D),D++):(ge=e,me===0&&we(ar)),ge!==e?$=ge:(D=$,$=e)):(D=$,$=e)):(D=$,$=e)),$}let de={optional:{openBrace:"[",closeBrace:"]"},mandatory:{openBrace:"{",closeBrace:"}"}};function le($,B){let ne=de[$]||{};return{type:$,...ne,...B}}function he($){return typeof $!="object"||!$?$:$.type==="group"?`{${$.content.map(he).join("")}}`:$}if(cr=_(),cr!==e&&D===n.length)return cr;throw cr!==e&&D<n.length&&we(W()),Ir(Le,xe<n.length?n.charAt(xe):null,xe<n.length?qe(xe,xe+1):qe(xe,xe))}return{SyntaxError:t,parse:l}}(),Sc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={body:qr},_=qr,P=jr(),U=function(){return[]},ee=function(C,F){return{itemParts:[],...C,trailingComment:F,trailingComma:!0}},y=function(C,F){return{...C,trailingComment:F}},v=function(C,F){return E(C,F)},T=function(C){return E(null,C)},ve=function(C){return{cell:C}},Ze=function(){return{}},xr=function(C){return C},Ie=function(C){return C},yr=function(C,F){return{trailingComment:F,leadingParbreak:C.parbreak>0}},fr=function(C){return{whitespace:C.filter(F=>o.isWhitespace(F)).length,parbreak:C.filter(F=>o.isParbreak(F)).length}},br=function(){return!o.allowParenGroups},rr=function(C){return o.isSameLineComment(C)},Cr=function(C){return C},Or=function(C){return o.isOwnLineComment(C)},Mr=function(C){return C},Sr=function(C){return o.isWhitespace(C)},wr=function(C){return C},fe=function(C){return o.isParbreak(C)},kr=function(C){return C},Qe=function(C){return o.isComma(C)},ye=function(C){return C},nr=function(C){return o.isEquals(C)},gr=function(C){return C},Fr=function(C){return o.isChar(C,"(")},ar=function(C){return C},ce=function(C){return o.isChar(C,")")},ke=function(C){return C},L=0,Er=[{line:1,column:1}],hr=0,vr=[],Ve=0,Dr;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function jr(){return{type:"any"}}function Ur(){return{type:"end"}}function Nr(C){var F=Er[C],K;if(F)return F;for(K=C-1;!Er[K];)K--;for(F=Er[K],F={line:F.line,column:F.column};K<C;)n.charCodeAt(K)===10?(F.line++,F.column=1):F.column++,K++;return Er[C]=F,F}function Gr(C,F,K){var Q=Nr(C),Se=Nr(F),Ke={source:m,start:{offset:C,line:Q.line,column:Q.column},end:{offset:F,line:Se.line,column:Se.column}};return Ke}function pr(C){L<hr||(L>hr&&(hr=L,vr=[]),vr.push(C))}function Vr(C,F,K){return new t(t.buildMessage(C,F),C,F,K)}function qr(){var C,F,K;if(C=[],F=Br(),F===e&&(F=V(),F===e&&(F=ie())),F!==e)for(;F!==e;)C.push(F),F=Br(),F===e&&(F=V(),F===e&&(F=ie()));else C=e;if(C===e){for(C=L,F=[],K=He();K!==e;)F.push(K),K=He();K=mr(),K!==e?C=U():(L=C,C=e)}return C}function V(){var C,F,K,Q,Se,Ke,We;if(C=L,O(),F=ue(),F===e&&(F=null),O(),K=ae(),K!==e){for(Q=[],Se=He();Se!==e;)Q.push(Se),Se=He();for(Se=re(),Se===e&&(Se=null),Ke=[],We=He();We!==e;)Ke.push(We),We=He();C=ee(F,Se)}else L=C,C=e;return C}function ie(){var C,F,K;return C=L,O(),F=ue(),F!==e?(K=re(),K===e&&(K=null),C=y(F,K)):(L=C,C=e),C}function ue(){var C,F,K,Q;if(C=L,F=tr(),F!==e){for(K=[],Q=Ne();Q!==e;)K.push(Q),Q=Ne();C=v(F,K)}else L=C,C=e;if(C===e){if(C=L,F=[],K=Ne(),K!==e)for(;K!==e;)F.push(K),K=Ne();else F=e;F!==e&&(F=T(F)),C=F}return C}function Ne(){var C,F,K,Q,Se;for(C=L,F=[],K=Oe();K!==e;)F.push(K),K=Oe();if(K=zr(),K!==e){for(Q=[],Se=Oe();Se!==e;)Q.push(Se),Se=Oe();Se=tr(),Se!==e?C=ve(Se):(L=C,C=e)}else L=C,C=e;if(C===e){for(C=L,F=[],K=Oe();K!==e;)F.push(K),K=Oe();K=zr(),K!==e?C=Ze():(L=C,C=e)}return C}function tr(){var C,F,K,Q,Se,Ke,We,Xe,Ye,ir;for(C=L,F=[],K=He();K!==e;)F.push(K),K=He();if(K=L,Q=[],Se=z(),Se===e)if(Se=L,Ke=He(),Ke===e&&(Ke=Oe()),Ke!==e){for(We=L,Ve++,Xe=L,Ye=[],ir=He(),ir===e&&(ir=Oe());ir!==e;)Ye.push(ir),ir=He(),ir===e&&(ir=Oe());ir=z(),ir!==e?(Ye=[Ye,ir],Xe=Ye):(L=Xe,Xe=e),Ve--,Xe!==e?(L=We,We=void 0):We=e,We!==e?(Ke=[Ke,We],Se=Ke):(L=Se,Se=e)}else L=Se,Se=e;if(Se!==e){for(;Se!==e;)if(Q.push(Se),Se=z(),Se===e)if(Se=L,Ke=He(),Ke===e&&(Ke=Oe()),Ke!==e){for(We=L,Ve++,Xe=L,Ye=[],ir=He(),ir===e&&(ir=Oe());ir!==e;)Ye.push(ir),ir=He(),ir===e&&(ir=Oe());ir=z(),ir!==e?(Ye=[Ye,ir],Xe=Ye):(L=Xe,Xe=e),Ve--,Xe!==e?(L=We,We=void 0):We=e,We!==e?(Ke=[Ke,We],Se=Ke):(L=Se,Se=e)}else L=Se,Se=e}else Q=e;if(Q!==e?K=n.substring(K,L):K=Q,K!==e){for(Q=[],Se=He();Se!==e;)Q.push(Se),Se=He();C=xr(K)}else L=C,C=e;return C}function re(){var C,F,K;for(C=L,F=[],K=He();K!==e;)F.push(K),K=He();return K=Y(),K!==e?C=Ie(K):(L=C,C=e),C}function Br(){var C,F,K;return C=L,F=O(),K=Pe(),K!==e?C=yr(F,K):(L=C,C=e),C}function _r(){var C,F,K,Q;return C=L,F=L,K=L,Ve++,Q=q(),Ve--,Q===e?K=void 0:(L=K,K=e),K!==e?(n.length>L?(Q=n.charAt(L),L++):(Q=e,Ve===0&&pr(P)),Q!==e?(K=[K,Q],F=K):(L=F,F=e)):(L=F,F=e),F!==e?C=n.substring(C,L):C=F,C}function z(){var C,F,K,Q;return C=L,F=L,K=L,Ve++,Q=He(),Q===e&&(Q=Oe()),Ve--,Q===e?K=void 0:(L=K,K=e),K!==e?(Q=or(),Q===e&&(Q=_r()),Q!==e?(K=[K,Q],F=K):(L=F,F=e)):(L=F,F=e),F!==e?C=n.substring(C,L):C=F,C}function q(){var C;return C=ae(),C===e&&(C=zr(),C===e&&(C=re(),C===e&&(C=Pe()))),C}function O(){var C,F,K;for(C=L,F=[],K=He(),K===e&&(K=Oe());K!==e;)F.push(K),K=He(),K===e&&(K=Oe());return F=fr(F),C=F,C}function or(){var C,F,K,Q,Se,Ke,We,Xe,Ye;if(C=L,F=br(),F?F=e:F=void 0,F!==e){if(K=L,Q=L,Se=lr(),Se!==e){for(Ke=[],We=L,Xe=L,Ve++,Ye=Jr(),Ve--,Ye===e?Xe=void 0:(L=Xe,Xe=e),Xe!==e?(n.length>L?(Ye=n.charAt(L),L++):(Ye=e,Ve===0&&pr(P)),Ye!==e?(Xe=[Xe,Ye],We=Xe):(L=We,We=e)):(L=We,We=e);We!==e;)Ke.push(We),We=L,Xe=L,Ve++,Ye=Jr(),Ve--,Ye===e?Xe=void 0:(L=Xe,Xe=e),Xe!==e?(n.length>L?(Ye=n.charAt(L),L++):(Ye=e,Ve===0&&pr(P)),Ye!==e?(Xe=[Xe,Ye],We=Xe):(L=We,We=e)):(L=We,We=e);We=Jr(),We!==e?(Se=[Se,Ke,We],Q=Se):(L=Q,Q=e)}else L=Q,Q=e;Q!==e?K=n.substring(K,L):K=Q,K!==e?(F=[F,K],C=F):(L=C,C=e)}else L=C,C=e;return C}function Y(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=rr(F),K?K=void 0:K=e,K!==e?C=Cr(F):(L=C,C=e)):(L=C,C=e),C}function Pe(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=Or(F),K?K=void 0:K=e,K!==e?C=Mr(F):(L=C,C=e)):(L=C,C=e),C}function He(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=Sr(F),K?K=void 0:K=e,K!==e?C=wr(F):(L=C,C=e)):(L=C,C=e),C}function Oe(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=fe(F),K?K=void 0:K=e,K!==e?C=kr(F):(L=C,C=e)):(L=C,C=e),C}function ae(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=Qe(F),K?K=void 0:K=e,K!==e?C=ye(F):(L=C,C=e)):(L=C,C=e),C}function zr(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=nr(F),K?K=void 0:K=e,K!==e?C=gr(F):(L=C,C=e)):(L=C,C=e),C}function lr(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=Fr(F),K?K=void 0:K=e,K!==e?C=ar(F):(L=C,C=e)):(L=C,C=e),C}function Jr(){var C,F,K;return C=L,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),F!==e?(K=ce(F),K?K=void 0:K=e,K!==e?C=ke(F):(L=C,C=e)):(L=C,C=e),C}function mr(){var C,F;return C=L,Ve++,n.length>L?(F=n.charAt(L),L++):(F=e,Ve===0&&pr(P)),Ve--,F===e?C=void 0:(L=C,C=e),C}function E(C,F){let K=[C||[]];for(let Q of F)K.push(Q.cell||[]);return{itemParts:K}}if(!o.isWhitespace)try{Object.assign(o,{isChar:(C,F)=>C.type==="string"&&C.content===F,isComma(C){return C.type==="string"&&C.content===","},isEquals(C){return C.type==="string"&&C.content==="="},isParbreak(C){return C.type==="parbreak"},isWhitespace(C){return C.type==="whitespace"},isSameLineComment:C=>C.type==="comment"&&C.sameline,isOwnLineComment:C=>C.type==="comment"&&!C.sameline,isComment:C=>C.type==="comment",allowParenGroups:!0})}catch(C){console.warn("Error when initializing parser",C)}if(Dr=_(),Dr!==e&&L===n.length)return Dr;throw Dr!==e&&L<n.length&&pr(Ur()),Vr(vr,hr<n.length?n.charAt(hr):null,hr<n.length?Gr(hr,hr+1):Gr(hr,hr))}return{SyntaxError:t,parse:l}}(),Fc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={body:Qe},_=Qe,P=Or(),U=function(ce){return[].concat(...ce).filter(ke=>!!ke)},ee=function(){return[]},y=function(ce){return o.isHash(ce)},v=function(ce){return ce},T=function(ce){return o.isNumber(ce)},ve=function(ce){return ce},Ze=function(){return{type:"string",content:"#"}},xr=function(ce){let ke=o.splitNumber(ce);return[{type:"hash_number",number:ke.number},ke.rest]},Ie=0,yr=[{line:1,column:1}],fr=0,br=[],rr=0,Cr;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function Or(){return{type:"any"}}function Mr(){return{type:"end"}}function Sr(ce){var ke=yr[ce],L;if(ke)return ke;for(L=ce-1;!yr[L];)L--;for(ke=yr[L],ke={line:ke.line,column:ke.column};L<ce;)n.charCodeAt(L)===10?(ke.line++,ke.column=1):ke.column++,L++;return yr[ce]=ke,ke}function wr(ce,ke,L){var Er=Sr(ce),hr=Sr(ke),vr={source:m,start:{offset:ce,line:Er.line,column:Er.column},end:{offset:ke,line:hr.line,column:hr.column}};return vr}function fe(ce){Ie<fr||(Ie>fr&&(fr=Ie,br=[]),br.push(ce))}function kr(ce,ke,L){return new t(t.buildMessage(ce,ke),ce,ke,L)}function Qe(){var ce,ke,L;if(ce=Ie,ke=[],L=gr(),L===e&&(L=Fr(),L===e&&(n.length>Ie?(L=n.charAt(Ie),Ie++):(L=e,rr===0&&fe(P)))),L!==e)for(;L!==e;)ke.push(L),L=gr(),L===e&&(L=Fr(),L===e&&(n.length>Ie?(L=n.charAt(Ie),Ie++):(L=e,rr===0&&fe(P))));else ke=e;return ke!==e&&(ke=U(ke)),ce=ke,ce===e&&(ce=Ie,ke=ar(),ke!==e&&(ke=ee()),ce=ke),ce}function ye(){var ce,ke,L;return ce=Ie,n.length>Ie?(ke=n.charAt(Ie),Ie++):(ke=e,rr===0&&fe(P)),ke!==e?(L=y(ke),L?L=void 0:L=e,L!==e?ce=v(ke):(Ie=ce,ce=e)):(Ie=ce,ce=e),ce}function nr(){var ce,ke,L;return ce=Ie,n.length>Ie?(ke=n.charAt(Ie),Ie++):(ke=e,rr===0&&fe(P)),ke!==e?(L=T(ke),L?L=void 0:L=e,L!==e?ce=ve(ke):(Ie=ce,ce=e)):(Ie=ce,ce=e),ce}function gr(){var ce,ke,L;return ce=Ie,ke=ye(),ke!==e?(L=ye(),L!==e?ce=Ze():(Ie=ce,ce=e)):(Ie=ce,ce=e),ce}function Fr(){var ce,ke,L;return ce=Ie,ke=ye(),ke!==e?(L=nr(),L!==e?ce=xr(L):(Ie=ce,ce=e)):(Ie=ce,ce=e),ce}function ar(){var ce,ke;return ce=Ie,rr++,n.length>Ie?(ke=n.charAt(Ie),Ie++):(ke=e,rr===0&&fe(P)),rr--,ke===e?ce=void 0:(Ie=ce,ce=e),ce}if(!o.isHash)try{Object.assign(o,{isHash:ce=>ce.type==="string"&&ce.content==="#",isNumber:ce=>ce.type==="string"&&0<+ce.content.charAt(0),splitNumber:ce=>{let ke=+ce.content.charAt(0);return ce.content.length>1?{number:ke,rest:{type:"string",content:ce.content.slice(1)}}:{number:ke}}})}catch(ce){console.warn("Error when initializing parser",ce)}if(Cr=_(),Cr!==e&&Ie===n.length)return Cr;throw Cr!==e&&Ie<n.length&&fe(Mr()),kr(br,fr<n.length?n.charAt(fr):null,fr<n.length?wr(fr,fr+1):wr(fr,fr))}return{SyntaxError:t,parse:l}}(),Rc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={body:hr},_=hr,P=Fr(),U=function(V){return[].concat(...V).filter(ie=>!!ie)},ee=function(){return[]},y=function(V){return o.isRecognized(V)},v=function(V){return o.isRecognized(V)},T=function(V,ie){let ue=o.split(ie);return o.isRecognized([V,ue[0]])},ve=function(V,ie){let ue=o.split(ie);return[o.isRecognized([V,ue[0]]),ue[1]]},Ze=function(V,ie){return o.isRecognized([V,ie])},xr=function(V,ie){return o.isRecognized([V,ie])},Ie=function(V){return o.isRecognized(V)},yr=function(V){return o.isRecognized(V)},fr=function(V){return o.isRecognized([V])},br=function(V){return o.isRecognized([V])},rr=function(V){return o.isMacro(V)},Cr=function(V){return V},Or=function(V){return o.isWhitespace(V)},Mr=function(V){return V},Sr=function(V){return o.isSplitable(V)},wr=function(V){return V},fe=0,kr=[{line:1,column:1}],Qe=0,ye=[],nr=0,gr;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function Fr(){return{type:"any"}}function ar(){return{type:"end"}}function ce(V){var ie=kr[V],ue;if(ie)return ie;for(ue=V-1;!kr[ue];)ue--;for(ie=kr[ue],ie={line:ie.line,column:ie.column};ue<V;)n.charCodeAt(ue)===10?(ie.line++,ie.column=1):ie.column++,ue++;return kr[V]=ie,ie}function ke(V,ie,ue){var Ne=ce(V),tr=ce(ie),re={source:m,start:{offset:V,line:Ne.line,column:Ne.column},end:{offset:ie,line:tr.line,column:tr.column}};return re}function L(V){fe<Qe||(fe>Qe&&(Qe=fe,ye=[]),ye.push(V))}function Er(V,ie,ue){return new t(t.buildMessage(V,ie),V,ie,ue)}function hr(){var V,ie,ue;if(V=fe,ie=[],ue=vr(),ue===e&&(ue=Ve(),ue===e&&(ue=Nr(),ue===e&&(n.length>fe?(ue=n.charAt(fe),fe++):(ue=e,nr===0&&L(P))))),ue!==e)for(;ue!==e;)ie.push(ue),ue=vr(),ue===e&&(ue=Ve(),ue===e&&(ue=Nr(),ue===e&&(n.length>fe?(ue=n.charAt(fe),fe++):(ue=e,nr===0&&L(P)))));else ie=e;return ie!==e&&(ie=U(ie)),V=ie,V===e&&(V=fe,ie=qr(),ie!==e&&(ie=ee()),V=ie),V}function vr(){var V,ie,ue,Ne,tr;return V=fe,ie=fe,n.length>fe?(ue=n.charAt(fe),fe++):(ue=e,nr===0&&L(P)),ue!==e?(n.length>fe?(Ne=n.charAt(fe),fe++):(Ne=e,nr===0&&L(P)),Ne!==e?(n.length>fe?(tr=n.charAt(fe),fe++):(tr=e,nr===0&&L(P)),tr!==e?(ue=[ue,Ne,tr],ie=ue):(fe=ie,ie=e)):(fe=ie,ie=e)):(fe=ie,ie=e),ie!==e?(ue=y(ie),ue?ue=void 0:ue=e,ue!==e?V=v(ie):(fe=V,V=e)):(fe=V,V=e),V}function Ve(){var V;return V=jr(),V===e&&(V=Dr(),V===e&&(V=Ur())),V}function Dr(){var V,ie,ue,Ne,tr;if(V=fe,ie=Gr(),ie!==e){for(ue=[],Ne=pr();Ne!==e;)ue.push(Ne),Ne=pr();Ne=Vr(),Ne!==e?(tr=T(ie,Ne),tr?tr=void 0:tr=e,tr!==e?V=ve(ie,Ne):(fe=V,V=e)):(fe=V,V=e)}else fe=V,V=e;return V}function jr(){var V,ie,ue,Ne,tr;if(V=fe,ie=Gr(),ie!==e){for(ue=[],Ne=pr();Ne!==e;)ue.push(Ne),Ne=pr();n.length>fe?(Ne=n.charAt(fe),fe++):(Ne=e,nr===0&&L(P)),Ne!==e?(tr=Ze(ie,Ne),tr?tr=void 0:tr=e,tr!==e?V=xr(ie,Ne):(fe=V,V=e)):(fe=V,V=e)}else fe=V,V=e;return V}function Ur(){var V,ie,ue,Ne;return V=fe,ie=fe,n.length>fe?(ue=n.charAt(fe),fe++):(ue=e,nr===0&&L(P)),ue!==e?(n.length>fe?(Ne=n.charAt(fe),fe++):(Ne=e,nr===0&&L(P)),Ne!==e?(ue=[ue,Ne],ie=ue):(fe=ie,ie=e)):(fe=ie,ie=e),ie!==e?(ue=Ie(ie),ue?ue=void 0:ue=e,ue!==e?V=yr(ie):(fe=V,V=e)):(fe=V,V=e),V}function Nr(){var V,ie,ue;return V=fe,n.length>fe?(ie=n.charAt(fe),fe++):(ie=e,nr===0&&L(P)),ie!==e?(ue=fr(ie),ue?ue=void 0:ue=e,ue!==e?V=br(ie):(fe=V,V=e)):(fe=V,V=e),V}function Gr(){var V,ie,ue;return V=fe,n.length>fe?(ie=n.charAt(fe),fe++):(ie=e,nr===0&&L(P)),ie!==e?(ue=rr(ie),ue?ue=void 0:ue=e,ue!==e?V=Cr(ie):(fe=V,V=e)):(fe=V,V=e),V}function pr(){var V,ie,ue;return V=fe,n.length>fe?(ie=n.charAt(fe),fe++):(ie=e,nr===0&&L(P)),ie!==e?(ue=Or(ie),ue?ue=void 0:ue=e,ue!==e?V=Mr(ie):(fe=V,V=e)):(fe=V,V=e),V}function Vr(){var V,ie,ue;return V=fe,n.length>fe?(ie=n.charAt(fe),fe++):(ie=e,nr===0&&L(P)),ie!==e?(ue=Sr(ie),ue?ue=void 0:ue=e,ue!==e?V=wr(ie):(fe=V,V=e)):(fe=V,V=e),V}function qr(){var V,ie;return V=fe,nr++,n.length>fe?(ie=n.charAt(fe),fe++):(ie=e,nr===0&&L(P)),nr--,ie===e?V=void 0:(fe=V,V=e),V}if(!o.isWhitespace)try{Object.assign(o,{isMacro:V=>V.type==="macro",isWhitespace:V=>V.type==="whitespace",isRecognized:V=>V.length==2&&V[0].content==="^"&&V[1].content==="o"?{type:"string",content:"\xF4"}:null,isSplitable:V=>V.type==="string"&&V.content.length>1,split:V=>[{type:"string",content:V.content.charAt(0)},{type:"string",content:V.content.slice(1)}]})}catch(V){console.warn("Error when initializing parser",V)}if(gr=_(),gr!==e&&fe===n.length)return gr;throw gr!==e&&fe<n.length&&L(ar()),Er(ye,Qe<n.length?n.charAt(Qe):null,Qe<n.length?ke(Qe,Qe+1):ke(Qe,Qe))}return{SyntaxError:t,parse:l}}(),Oc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={start:Mn},_=Mn,P=";",U=",",ee=":",y="/",v=">",T="!",ve=".",Ze="!![",xr="]",Ie="!!",yr="+",fr="-",br=/^[a-zA-Z0-9]/,rr=/^[0-9]/,Cr=/^[ \t\n\r]/,Or=/^[0-9a-fA-F]/,Mr=On(),Sr=Xr(";",!1),wr=Xr(",",!1),fe=Pr("model list"),kr=Xr(":",!1),Qe=Xr("/",!1),ye=Pr("model"),nr=Pr("color spec list"),gr=Pr("color spec"),Fr=Pr("color"),ar=Pr("function expression"),ce=Xr(">",!1),ke=Pr("function"),L=Pr("extended expression"),Er=Pr("core model"),hr=Pr("expr"),vr=Xr("!",!1),Ve=Pr("mix expr"),Dr=Pr("name"),jr=Xr(".",!1),Ur=xn([["a","z"],["A","Z"],["0","9"]],!1,!1),Nr=Pr("postfix"),Gr=Xr("!![",!1),pr=Xr("]",!1),Vr=Xr("!!",!1),qr=Pr("prefix"),V=Pr("plus"),ie=Xr("+",!1),ue=Pr("minus"),Ne=Xr("-",!1),tr=Pr("num"),re=xn([["0","9"]],!1,!1),Br=Pr("positive float"),_r=Pr("divisor"),z=Pr("int"),q=xn([" ","	",`
`,"\r"],!1,!1),O=xn([["0","9"],["a","f"],["A","F"]],!1,!1),or=function(d){return d},Y=function(d){return d},Pe=function(d){return d},He=function(d){return d},Oe=function(d){return d},ae=function(d){return{type:"invalid_spec",content:d}},zr=function(d,M){return M},lr=function(d,M){return{type:"color_set",content:[d].concat(M)}},Jr=function(d,M){return{type:"color_set_item",name:d,spec_list:M}},mr=function(d,M){return{type:"model_list",contents:M,core_model:d}},E=function(d){return{type:"model_list",contents:d,core_model:null}},C=function(d,M){return M},F=function(d,M){return[d].concat(M)},K=function(d,M){return M},Q=function(d,M){return{type:"spec_list",content:[d].concat(M)}},Se=function(d){return{type:"hex_spec",content:[d]}},Ke=function(d,M){return M},We=function(d,M){return M},Xe=function(d,M){return{type:"num_spec",content:M?[d].concat(M):[d]}},Ye=function(d,M){return{type:"color",color:d,functions:M}},ir=function(d,M){return M},ze=function(d,M){return{type:"function",name:d,args:M}},ur=function(d,M,G,Z){return{type:"extended_expr",core_model:d,div:M,expressions:[G].concat(Z)}},D=function(d,M,G){return{type:"extended_expr",core_model:d,div:null,expressions:[M].concat(G)}},J=function(d,M){return{type:"weighted_expr",color:d,weight:M}},xe=function(d){return d},Le=function(d,M,G,Z){return{type:"expr",prefix:d,name:M,mix_expr:G,postfix:Z}},me=function(d,M){return{type:"complete_mix",mix_percent:d,name:M}},cr=function(d){return{type:"partial_mix",mix_percent:d}},Ge=function(d,M){return d.concat(M||[])},A=function(d){return{type:"postfix",num:d}},j=function(d){return{type:"postfix",plusses:d}},W=function(d){return parseInt(d,10)},Re=function(d){return parseFloat(d)},qe=function(d){return d},we=function(d){return-d},Ir=function(d,M){return d?-M:M},x=function(d){return d.toUpperCase()},u=0,N=[{line:1,column:1}],De=0,sr=[],te=0,nn;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function Xr(d,M){return{type:"literal",text:d,ignoreCase:M}}function xn(d,M,G){return{type:"class",parts:d,inverted:M,ignoreCase:G}}function On(){return{type:"any"}}function Hn(){return{type:"end"}}function Pr(d){return{type:"other",description:d}}function Dn(d){var M=N[d],G;if(M)return M;for(G=d-1;!N[G];)G--;for(M=N[G],M={line:M.line,column:M.column};G<d;)n.charCodeAt(G)===10?(M.line++,M.column=1):M.column++,G++;return N[d]=M,M}function wn(d,M,G){var Z=Dn(d),$e=Dn(M),_e={source:m,start:{offset:d,line:Z.line,column:Z.column},end:{offset:M,line:$e.line,column:$e.column}};return _e}function Ce(d){u<De||(u>De&&(De=u,sr=[]),sr.push(d))}function kn(d,M,G){return new t(t.buildMessage(d,M),d,M,G)}function Mn(){var d,M,G,Z;if(d=u,M=le(),M!==e?(G=Un(),G!==e?d=or(M):(u=d,d=e)):(u=d,d=e),d===e&&(d=u,M=de(),M!==e?(G=Un(),G!==e?d=Y(M):(u=d,d=e)):(u=d,d=e),d===e&&(d=u,M=he(),M!==e?(G=Un(),G!==e?d=Pe(M):(u=d,d=e)):(u=d,d=e),d===e&&(d=u,M=g(),M!==e?(G=Un(),G!==e?d=He(M):(u=d,d=e)):(u=d,d=e),d===e&&(d=u,M=un(),M!==e?(G=Un(),G!==e?d=Oe(M):(u=d,d=e)):(u=d,d=e),d===e))))){for(d=u,M=u,G=[],n.length>u?(Z=n.charAt(u),u++):(Z=e,te===0&&Ce(Mr));Z!==e;)G.push(Z),n.length>u?(Z=n.charAt(u),u++):(Z=e,te===0&&Ce(Mr));M=n.substring(M,u),M=ae(M),d=M}return d}function un(){var d,M,G,Z,$e,_e;if(d=u,M=sn(),M!==e){for(G=[],Z=u,n.charCodeAt(u)===59?($e=P,u++):($e=e,te===0&&Ce(Sr)),$e!==e?(_e=sn(),_e!==e?Z=zr(M,_e):(u=Z,Z=e)):(u=Z,Z=e);Z!==e;)G.push(Z),Z=u,n.charCodeAt(u)===59?($e=P,u++):($e=e,te===0&&Ce(Sr)),$e!==e?(_e=sn(),_e!==e?Z=zr(M,_e):(u=Z,Z=e)):(u=Z,Z=e);d=lr(M,G)}else u=d,d=e;return d}function sn(){var d,M,G,Z;return d=u,M=Bn(),M!==e?(n.charCodeAt(u)===44?(G=U,u++):(G=e,te===0&&Ce(wr)),G!==e?(Z=de(),Z!==e?d=Jr(M,Z):(u=d,d=e)):(u=d,d=e)):(u=d,d=e),d}function g(){var d,M,G,Z;return te++,d=u,M=Rr(),M!==e?(n.charCodeAt(u)===58?(G=ee,u++):(G=e,te===0&&Ce(kr)),G!==e?(Z=S(),Z!==e?d=mr(M,Z):(u=d,d=e)):(u=d,d=e)):(u=d,d=e),d===e&&(d=u,M=S(),M!==e&&(M=E(M)),d=M),te--,d===e&&(M=e,te===0&&Ce(fe)),d}function S(){var d,M,G,Z,$e,_e;if(d=u,M=R(),M!==e){for(G=[],Z=u,n.charCodeAt(u)===47?($e=y,u++):($e=e,te===0&&Ce(Qe)),$e!==e?(_e=R(),_e!==e?Z=C(M,_e):(u=Z,Z=e)):(u=Z,Z=e);Z!==e;)G.push(Z),Z=u,n.charCodeAt(u)===47?($e=y,u++):($e=e,te===0&&Ce(Qe)),$e!==e?(_e=R(),_e!==e?Z=C(M,_e):(u=Z,Z=e)):(u=Z,Z=e);d=F(M,G)}else u=d,d=e;return d}function R(){var d;return te++,d=Rr(),te--,d===e&&te===0&&Ce(ye),d}function de(){var d,M,G,Z,$e,_e;if(te++,d=u,M=le(),M!==e){for(G=[],Z=u,n.charCodeAt(u)===47?($e=y,u++):($e=e,te===0&&Ce(Qe)),$e!==e?(_e=le(),_e!==e?Z=K(M,_e):(u=Z,Z=e)):(u=Z,Z=e);Z!==e;)G.push(Z),Z=u,n.charCodeAt(u)===47?($e=y,u++):($e=e,te===0&&Ce(Qe)),$e!==e?(_e=le(),_e!==e?Z=K(M,_e):(u=Z,Z=e)):(u=Z,Z=e);d=Q(M,G)}else u=d,d=e;return te--,d===e&&(M=e,te===0&&Ce(nr)),d}function le(){var d,M,G,Z,$e,_e,$r,tn,qn;if(te++,d=u,M=u,G=u,Z=Nn(),Z!==e?($e=Nn(),$e!==e?(_e=Nn(),_e!==e?($r=Nn(),$r!==e?(tn=Nn(),tn!==e?(qn=Nn(),qn!==e?(Z=[Z,$e,_e,$r,tn,qn],G=Z):(u=G,G=e)):(u=G,G=e)):(u=G,G=e)):(u=G,G=e)):(u=G,G=e)):(u=G,G=e),G!==e?M=n.substring(M,u):M=G,M!==e&&(M=Se(M)),d=M,d===e)if(d=u,M=Ln(),M!==e){if(G=[],Z=u,n.charCodeAt(u)===44?($e=U,u++):($e=e,te===0&&Ce(wr)),$e!==e?(_e=Ln(),_e!==e?Z=Ke(M,_e):(u=Z,Z=e)):(u=Z,Z=e),Z!==e)for(;Z!==e;)G.push(Z),Z=u,n.charCodeAt(u)===44?($e=U,u++):($e=e,te===0&&Ce(wr)),$e!==e?(_e=Ln(),_e!==e?Z=Ke(M,_e):(u=Z,Z=e)):(u=Z,Z=e);else G=e;if(G===e)if(G=[],Z=u,$e=$t(),$e!==e?(_e=Ln(),_e!==e?Z=We(M,_e):(u=Z,Z=e)):(u=Z,Z=e),Z!==e)for(;Z!==e;)G.push(Z),Z=u,$e=$t(),$e!==e?(_e=Ln(),_e!==e?Z=We(M,_e):(u=Z,Z=e)):(u=Z,Z=e);else G=e;G===e&&(G=null),d=Xe(M,G)}else u=d,d=e;return te--,d===e&&(M=e,te===0&&Ce(gr)),d}function he(){var d,M,G,Z;if(te++,d=u,M=$(),M!==e){for(G=[],Z=B();Z!==e;)G.push(Z),Z=B();d=Ye(M,G)}else u=d,d=e;return te--,d===e&&(M=e,te===0&&Ce(Fr)),d}function $(){var d;return d=ge(),d===e&&(d=Yr(),d===e&&(d=Bn())),d}function B(){var d,M,G,Z,$e,_e,$r;if(te++,d=u,n.charCodeAt(u)===62?(M=v,u++):(M=e,te===0&&Ce(ce)),M!==e)if(G=ne(),G!==e){for(Z=[],$e=u,n.charCodeAt(u)===44?(_e=U,u++):(_e=e,te===0&&Ce(wr)),_e!==e?($r=bt(),$r!==e?$e=ir(G,$r):(u=$e,$e=e)):(u=$e,$e=e);$e!==e;)Z.push($e),$e=u,n.charCodeAt(u)===44?(_e=U,u++):(_e=e,te===0&&Ce(wr)),_e!==e?($r=bt(),$r!==e?$e=ir(G,$r):(u=$e,$e=e)):(u=$e,$e=e);d=ze(G,Z)}else u=d,d=e;else u=d,d=e;return te--,d===e&&(M=e,te===0&&Ce(ar)),d}function ne(){var d;return te++,d=Bn(),te--,d===e&&te===0&&Ce(ke),d}function ge(){var d,M,G,Z,$e,_e,$r,tn;if(te++,d=u,M=Rr(),M!==e)if(n.charCodeAt(u)===44?(G=U,u++):(G=e,te===0&&Ce(wr)),G!==e)if(Z=Vt(),Z!==e)if(n.charCodeAt(u)===58?($e=ee,u++):($e=e,te===0&&Ce(kr)),$e!==e)if(_e=Fe(),_e!==e){for($r=[],tn=dr();tn!==e;)$r.push(tn),tn=dr();d=ur(M,Z,_e,$r)}else u=d,d=e;else u=d,d=e;else u=d,d=e;else u=d,d=e;else u=d,d=e;if(d===e)if(d=u,M=Rr(),M!==e)if(n.charCodeAt(u)===58?(G=ee,u++):(G=e,te===0&&Ce(kr)),G!==e)if(Z=Fe(),Z!==e){for($e=[],_e=dr();_e!==e;)$e.push(_e),_e=dr();d=D(M,Z,$e)}else u=d,d=e;else u=d,d=e;else u=d,d=e;return te--,d===e&&(M=e,te===0&&Ce(L)),d}function Fe(){var d,M,G,Z;return d=u,M=Yr(),M!==e?(n.charCodeAt(u)===44?(G=U,u++):(G=e,te===0&&Ce(wr)),G!==e?(Z=Ln(),Z!==e?d=J(M,Z):(u=d,d=e)):(u=d,d=e)):(u=d,d=e),d}function dr(){var d,M,G;return d=u,n.charCodeAt(u)===59?(M=P,u++):(M=e,te===0&&Ce(Sr)),M!==e?(G=Fe(),G!==e?d=xe(G):(u=d,d=e)):(u=d,d=e),d}function Rr(){var d;return te++,d=Bn(),te--,d===e&&te===0&&Ce(Er),d}function Yr(){var d,M,G,Z,$e;return te++,d=u,M=Ut(),G=Bn(),G!==e?(Z=zt(),$e=Ht(),$e===e&&($e=null),d=Le(M,G,Z,$e)):(u=d,d=e),te--,d===e&&(M=e,te===0&&Ce(hr)),d}function ht(){var d,M,G,Z,$e;return d=u,n.charCodeAt(u)===33?(M=T,u++):(M=e,te===0&&Ce(vr)),M!==e?(G=Tn(),G!==e?(n.charCodeAt(u)===33?(Z=T,u++):(Z=e,te===0&&Ce(vr)),Z!==e?($e=Bn(),$e!==e?d=me(G,$e):(u=d,d=e)):(u=d,d=e)):(u=d,d=e)):(u=d,d=e),d}function Gt(){var d,M,G;return d=u,n.charCodeAt(u)===33?(M=T,u++):(M=e,te===0&&Ce(vr)),M!==e?(G=Tn(),G!==e?d=cr(G):(u=d,d=e)):(u=d,d=e),d}function zt(){var d,M,G;for(te++,d=u,M=[],G=ht();G!==e;)M.push(G),G=ht();return G=Gt(),G===e&&(G=null),d=Ge(M,G),te--,M=e,te===0&&Ce(Ve),d}function Bn(){var d,M,G;if(te++,n.charCodeAt(u)===46?(d=ve,u++):(d=e,te===0&&Ce(jr)),d===e){if(d=u,M=[],br.test(n.charAt(u))?(G=n.charAt(u),u++):(G=e,te===0&&Ce(Ur)),G!==e)for(;G!==e;)M.push(G),br.test(n.charAt(u))?(G=n.charAt(u),u++):(G=e,te===0&&Ce(Ur));else M=e;M!==e?d=n.substring(d,u):d=M}return te--,d===e&&(M=e,te===0&&Ce(Dr)),d}function Ht(){var d,M,G,Z,$e;if(te++,d=u,n.substr(u,3)===Ze?(M=Ze,u+=3):(M=e,te===0&&Ce(Gr)),M!==e?(G=yt(),G!==e?(n.charCodeAt(u)===93?(Z=xr,u++):(Z=e,te===0&&Ce(pr)),Z!==e?d=A(G):(u=d,d=e)):(u=d,d=e)):(u=d,d=e),d===e)if(d=u,n.substr(u,2)===Ie?(M=Ie,u+=2):(M=e,te===0&&Ce(Vr)),M!==e){if(G=u,Z=[],$e=vt(),$e!==e)for(;$e!==e;)Z.push($e),$e=vt();else Z=e;Z!==e?G=n.substring(G,u):G=Z,G!==e?d=j(G):(u=d,d=e)}else u=d,d=e;return te--,d===e&&(M=e,te===0&&Ce(Nr)),d}function Ut(){var d;return te++,d=tt(),d===e&&(d=null),te--,te===0&&Ce(qr),d}function vt(){var d,M,G;if(te++,d=u,M=[],n.charCodeAt(u)===43?(G=yr,u++):(G=e,te===0&&Ce(ie)),G!==e)for(;G!==e;)M.push(G),n.charCodeAt(u)===43?(G=yr,u++):(G=e,te===0&&Ce(ie));else M=e;return M!==e?d=n.substring(d,u):d=M,te--,d===e&&(M=e,te===0&&Ce(V)),d}function tt(){var d,M,G;if(te++,d=u,M=[],n.charCodeAt(u)===45?(G=fr,u++):(G=e,te===0&&Ce(Ne)),G!==e)for(;G!==e;)M.push(G),n.charCodeAt(u)===45?(G=fr,u++):(G=e,te===0&&Ce(Ne));else M=e;return M!==e?d=n.substring(d,u):d=M,te--,d===e&&(M=e,te===0&&Ce(ue)),d}function yt(){var d,M,G,Z;if(te++,d=u,M=u,G=[],rr.test(n.charAt(u))?(Z=n.charAt(u),u++):(Z=e,te===0&&Ce(re)),Z!==e)for(;Z!==e;)G.push(Z),rr.test(n.charAt(u))?(Z=n.charAt(u),u++):(Z=e,te===0&&Ce(re));else G=e;return G!==e?M=n.substring(M,u):M=G,M!==e&&(M=W(M)),d=M,te--,d===e&&(M=e,te===0&&Ce(tr)),d}function Tn(){var d,M,G,Z,$e,_e,$r,tn,qn,Wn;if(te++,d=u,M=u,G=u,Z=u,$e=[],rr.test(n.charAt(u))?(_e=n.charAt(u),u++):(_e=e,te===0&&Ce(re)),_e!==e)for(;_e!==e;)$e.push(_e),rr.test(n.charAt(u))?(_e=n.charAt(u),u++):(_e=e,te===0&&Ce(re));else $e=e;if($e!==e?Z=n.substring(Z,u):Z=$e,Z!==e){if($e=u,_e=u,n.charCodeAt(u)===46?($r=ve,u++):($r=e,te===0&&Ce(jr)),$r!==e){for(tn=u,qn=[],rr.test(n.charAt(u))?(Wn=n.charAt(u),u++):(Wn=e,te===0&&Ce(re));Wn!==e;)qn.push(Wn),rr.test(n.charAt(u))?(Wn=n.charAt(u),u++):(Wn=e,te===0&&Ce(re));tn=n.substring(tn,u),$r=[$r,tn],_e=$r}else u=_e,_e=e;_e===e&&(_e=null),$e=n.substring($e,u),Z=[Z,$e],G=Z}else u=G,G=e;if(G!==e?M=n.substring(M,u):M=G,M===e){if(M=u,G=u,n.charCodeAt(u)===46?(Z=ve,u++):(Z=e,te===0&&Ce(jr)),Z!==e){if($e=u,_e=[],rr.test(n.charAt(u))?($r=n.charAt(u),u++):($r=e,te===0&&Ce(re)),$r!==e)for(;$r!==e;)_e.push($r),rr.test(n.charAt(u))?($r=n.charAt(u),u++):($r=e,te===0&&Ce(re));else _e=e;_e!==e?$e=n.substring($e,u):$e=_e,$e!==e?(Z=[Z,$e],G=Z):(u=G,G=e)}else u=G,G=e;G!==e?M=n.substring(M,u):M=G}return M!==e&&(M=Re(M)),d=M,te--,d===e&&(M=e,te===0&&Ce(Br)),d}function Vt(){var d;return te++,d=Tn(),te--,d===e&&te===0&&Ce(_r),d}function Ln(){var d,M,G;return d=Tn(),d===e&&(d=u,n.charCodeAt(u)===43?(M=yr,u++):(M=e,te===0&&Ce(ie)),M!==e?(G=Tn(),G!==e?d=qe(G):(u=d,d=e)):(u=d,d=e),d===e&&(d=u,n.charCodeAt(u)===45?(M=fr,u++):(M=e,te===0&&Ce(Ne)),M!==e?(G=Tn(),G!==e?d=we(G):(u=d,d=e)):(u=d,d=e))),d}function bt(){var d,M,G;return te++,d=u,M=tt(),M===e&&(M=null),G=yt(),G!==e?d=Ir(M,G):(u=d,d=e),te--,d===e&&(M=e,te===0&&Ce(z)),d}function $t(){var d,M;if(d=[],Cr.test(n.charAt(u))?(M=n.charAt(u),u++):(M=e,te===0&&Ce(q)),M!==e)for(;M!==e;)d.push(M),Cr.test(n.charAt(u))?(M=n.charAt(u),u++):(M=e,te===0&&Ce(q));else d=e;return d}function Nn(){var d,M;return d=u,Or.test(n.charAt(u))?(M=n.charAt(u),u++):(M=e,te===0&&Ce(O)),M!==e&&(M=x(M)),d=M,d}function Un(){var d,M;return d=u,te++,n.length>u?(M=n.charAt(u),u++):(M=e,te===0&&Ce(Mr)),te--,M===e?d=void 0:(u=d,d=e),d}if(nn=_(),nn!==e&&u===n.length)return nn;throw nn!==e&&u<n.length&&Ce(Hn()),kn(sr,De<n.length?n.charAt(De):null,De<n.length?wn(De,De+1):wn(De,De))}return{SyntaxError:t,parse:l}}(),Dc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={body:Q},_=Q,P=mr("decl_start"),U=mr("decl_end"),ee=mr("vert"),y=lr(),v=mr("l"),T=mr("r"),ve=mr("c"),Ze=mr("p"),xr=mr("m"),Ie=mr("b"),yr=mr("w"),fr=mr("W"),br=mr("X"),rr=mr("!"),Cr=mr("@"),Or=mr("<"),Mr=mr(">"),Sr=mr("group"),wr=mr("whitespace"),fe=function(x){return x},kr=function(x){return x},Qe=function(){return[]},ye=function(x,u,N,De,sr){return{type:"column",pre_dividers:x,post_dividers:sr,before_start_code:u,before_end_code:De,alignment:N}},nr=function(){return{type:"vert_divider"}},gr=function(x,u){return{type:"bang_divider",content:u[0].content}},Fr=function(x){return{type:"at_divider",content:x[0].content}},ar=function(x){return x},ce=function(x){return{type:"decl_code",code:x[0].content}},ke=function(x){return{type:"decl_code",code:x[0].content}},L=function(){return{type:"alignment",alignment:"left"}},Er=function(){return{type:"alignment",alignment:"center"}},hr=function(){return{type:"alignment",alignment:"right"}},vr=function(){return{type:"alignment",alignment:"X"}},Ve=function(){return"top"},Dr=function(){return"default"},jr=function(){return"bottom"},Ur=function(x,u){return{type:"alignment",alignment:"parbox",baseline:x,size:u[0].content}},Nr=function(x,u){return{type:"alignment",alignment:"parbox",baseline:x[0].content,size:u[0].content}},Gr=function(x){return o.matchChar(x,"|")},pr=function(x){return o.matchChar(x,"l")},Vr=function(x){return o.matchChar(x,"r")},qr=function(x){return o.matchChar(x,"c")},V=function(x){return o.matchChar(x,"p")},ie=function(x){return o.matchChar(x,"m")},ue=function(x){return o.matchChar(x,"b")},Ne=function(x){return o.matchChar(x,"w")},tr=function(x){return o.matchChar(x,"W")},re=function(x){return o.matchChar(x,"X")},Br=function(x){return o.matchChar(x,"!")},_r=function(x){return o.matchChar(x,"@")},z=function(x){return o.matchChar(x,"<")},q=function(x){return o.matchChar(x,">")},O=function(x){return o.isGroup(x)},or=function(x){return o.isWhitespace(x)},Y=0,Pe=[{line:1,column:1}],He=0,Oe=[],ae=0,zr;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function lr(){return{type:"any"}}function Jr(){return{type:"end"}}function mr(x){return{type:"other",description:x}}function E(x){var u=Pe[x],N;if(u)return u;for(N=x-1;!Pe[N];)N--;for(u=Pe[N],u={line:u.line,column:u.column};N<x;)n.charCodeAt(N)===10?(u.line++,u.column=1):u.column++,N++;return Pe[x]=u,u}function C(x,u,N){var De=E(x),sr=E(u),te={source:m,start:{offset:x,line:De.line,column:De.column},end:{offset:u,line:sr.line,column:sr.column}};return te}function F(x){Y<He||(Y>He&&(He=Y,Oe=[]),Oe.push(x))}function K(x,u,N){return new t(t.buildMessage(x,u),x,u,N)}function Q(){var x,u,N,De,sr,te;if(x=Y,u=[],N=Y,De=Se(),De!==e){for(sr=[],te=we();te!==e;)sr.push(te),te=we();N=fe(De)}else Y=N,N=e;if(N!==e)for(;N!==e;)if(u.push(N),N=Y,De=Se(),De!==e){for(sr=[],te=we();te!==e;)sr.push(te),te=we();N=fe(De)}else Y=N,N=e;else u=e;return u!==e&&(u=kr(u)),x=u,x===e&&(x=Y,u=Ir(),u!==e&&(u=Qe()),x=u),x}function Se(){var x,u,N,De,sr,te,nn;for(x=Y,u=[],N=Ke();N!==e;)u.push(N),N=Ke();if(N=We(),N===e&&(N=null),De=Ye(),De!==e){for(sr=Xe(),sr===e&&(sr=null),te=[],nn=Ke();nn!==e;)te.push(nn),nn=Ke();x=ye(u,N,De,sr,te)}else Y=x,x=e;return x}function Ke(){var x,u,N,De,sr;for(x=Y,u=[],N=we();N!==e;)u.push(N),N=we();if(N=Y,De=ir(),De!==e&&(De=nr()),N=De,N===e&&(N=Y,De=A(),De!==e?(sr=qe(),sr!==e?N=gr(De,sr):(Y=N,N=e)):(Y=N,N=e),N===e&&(N=Y,De=j(),De!==e?(sr=qe(),sr!==e?N=Fr(sr):(Y=N,N=e)):(Y=N,N=e))),N!==e){for(De=[],sr=we();sr!==e;)De.push(sr),sr=we();x=ar(N)}else Y=x,x=e;return x}function We(){var x,u,N;return ae++,x=Y,u=Re(),u!==e?(N=qe(),N!==e?x=ce(N):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(P)),x}function Xe(){var x,u,N;return ae++,x=Y,u=W(),u!==e?(N=qe(),N!==e?x=ke(N):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(U)),x}function Ye(){var x,u,N,De,sr,te;if(x=Y,u=ze(),u!==e&&(u=L()),x=u,x===e&&(x=Y,u=D(),u!==e&&(u=Er()),x=u,x===e&&(x=Y,u=ur(),u!==e&&(u=hr()),x=u,x===e&&(x=Y,u=Ge(),u!==e&&(u=vr()),x=u,x===e)))){if(x=Y,u=Y,N=J(),N!==e&&(N=Ve()),u=N,u===e&&(u=Y,N=xe(),N!==e&&(N=Dr()),u=N,u===e&&(u=Y,N=Le(),N!==e&&(N=jr()),u=N)),u!==e){for(N=[],De=we();De!==e;)N.push(De),De=we();De=qe(),De!==e?x=Ur(u,De):(Y=x,x=e)}else Y=x,x=e;if(x===e)if(x=Y,u=me(),u===e&&(u=cr()),u!==e){for(N=[],De=we();De!==e;)N.push(De),De=we();if(De=qe(),De!==e){for(sr=[],te=we();te!==e;)sr.push(te),te=we();te=qe(),te!==e?x=Nr(De,te):(Y=x,x=e)}else Y=x,x=e}else Y=x,x=e}return x}function ir(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=Gr(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(ee)),x}function ze(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=pr(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(v)),x}function ur(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=Vr(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(T)),x}function D(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=qr(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(ve)),x}function J(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=V(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(Ze)),x}function xe(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=ie(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(xr)),x}function Le(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=ue(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(Ie)),x}function me(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=Ne(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(yr)),x}function cr(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=tr(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(fr)),x}function Ge(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=re(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(br)),x}function A(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=Br(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(rr)),x}function j(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=_r(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(Cr)),x}function W(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=z(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(Or)),x}function Re(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=q(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(Mr)),x}function qe(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=O(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(Sr)),x}function we(){var x,u,N;return ae++,x=Y,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),u!==e?(N=or(u),N?N=void 0:N=e,N!==e?(u=[u,N],x=u):(Y=x,x=e)):(Y=x,x=e),ae--,x===e&&(u=e,ae===0&&F(wr)),x}function Ir(){var x,u;return x=Y,ae++,n.length>Y?(u=n.charAt(Y),Y++):(u=e,ae===0&&F(y)),ae--,u===e?x=void 0:(Y=x,x=e),x}if(!o.isHash)try{Object.assign(o,{matchChar:(x,u)=>x.type==="string"&&x.content===u,isGroup:x=>x.type==="group",isWhitespace:x=>x.type==="whitespace"})}catch(x){console.warn("Error when initializing parser",x)}if(zr=_(),zr!==e&&Y===n.length)return zr;throw zr!==e&&Y<n.length&&F(Jr()),K(Oe,He<n.length?n.charAt(He):null,He<n.length?C(He,He+1):C(He,He))}return{SyntaxError:t,parse:l}}(),Bc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={body:lr},_=lr,P=Pe("item"),U=or(),ee=Pe("equation"),y=Pe("trailing comment"),v=Pe("comment only line"),T=Pe("non-var token"),ve=Pe("token"),Ze=Pe("same line comment"),xr=Pe("own line comment"),Ie=Pe(","),yr=Pe("@"),fr=Pe("variable token"),br=Pe("+/-"),rr=Pe("="),Cr=function(A,j){return A.concat(j||[])},Or=function(){return[]},Mr=function(A,j,W,Re){return{type:"item",op:A,variable:W,content:j.concat(W,Re)}},Sr=function(A,j){return{type:"item",op:A,variable:null,content:j}},wr=function(A,j,W){return{...A,sep:[].concat(j),trailingComment:W}},fe=function(A,j){return{...A,trailingComment:j}},kr=function(A,j){return{type:"line",equation:A,annotation:j,sep:null}},Qe=function(A,j){return A?{type:"annotation",marker:A,content:j}:null},ye=function(A,j,W){return{type:"equation",left:A,right:W,equals:j}},nr=function(A){return A},gr=function(A){return{type:"line",trailingComment:A}},Fr=function(A,j){return[A].concat(j||[])},ar=function(A){return A},ce=function(A){return A},ke=function(A){return A},L=function(A){return o.isSameLineComment(A)},Er=function(A){return A},hr=function(A){return o.isOwnLineComment(A)},vr=function(A){return A},Ve=function(A){return o.isWhitespace(A)},Dr=function(A){return A},jr=function(A){return o.isSep(A)},Ur=function(A){return A},Nr=function(A){return o.isAt(A)},Gr=function(A){return A},pr=function(A){return o.isVar(A)},Vr=function(A){return A},qr=function(A){return o.isOperation(A)},V=function(A){return A},ie=function(A){return o.isEquals(A)},ue=function(A){return A},Ne=function(A){return o.isSubscript(A)},tr=function(A){return A},re=0,Br=[{line:1,column:1}],_r=0,z=[],q=0,O;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function or(){return{type:"any"}}function Y(){return{type:"end"}}function Pe(A){return{type:"other",description:A}}function He(A){var j=Br[A],W;if(j)return j;for(W=A-1;!Br[W];)W--;for(j=Br[W],j={line:j.line,column:j.column};W<A;)n.charCodeAt(W)===10?(j.line++,j.column=1):j.column++,W++;return Br[A]=j,j}function Oe(A,j,W){var Re=He(A),qe=He(j),we={source:m,start:{offset:A,line:Re.line,column:Re.column},end:{offset:j,line:qe.line,column:qe.column}};return we}function ae(A){re<_r||(re>_r&&(_r=re,z=[]),z.push(A))}function zr(A,j,W){return new t(t.buildMessage(A,j),A,j,W)}function lr(){var A,j,W;for(A=re,j=[],W=Se(),W===e&&(W=mr(),W===e&&(W=E()));W!==e;)j.push(W),W=Se(),W===e&&(W=mr(),W===e&&(W=E()));return W=C(),W===e&&(W=Ge()),W!==e?A=Cr(j,W):(re=A,A=e),A===e&&(A=re,j=Ge(),j!==e&&(j=Or()),A=j),A}function Jr(){var A,j,W,Re,qe,we,Ir,x,u,N;for(q++,A=re,j=Le(),j===e&&(j=null),W=[],Re=ur();Re!==e;)W.push(Re),Re=ur();for(Re=[],qe=We();qe!==e;)Re.push(qe),qe=We();for(qe=[],we=ur();we!==e;)qe.push(we),we=ur();if(we=Ke(),we!==e){for(Ir=[],x=ur();x!==e;)Ir.push(x),x=ur();for(x=[],u=Ye();u!==e;)x.push(u),u=Ye();for(u=[],N=ur();N!==e;)u.push(N),N=ur();A=Mr(j,Re,we,x)}else re=A,A=e;if(A===e){for(A=re,j=Le(),j===e&&(j=null),W=[],Re=ur();Re!==e;)W.push(Re),Re=ur();if(Re=[],qe=We(),qe!==e)for(;qe!==e;)Re.push(qe),qe=We();else Re=e;if(Re!==e){for(qe=[],we=ur();we!==e;)qe.push(we),we=ur();A=Sr(j,Re)}else re=A,A=e}return q--,A===e&&(j=e,q===0&&ae(P)),A}function mr(){var A,j,W,Re;return A=re,j=C(),j!==e?(W=D(),W!==e?(Re=Q(),Re===e&&(Re=null),A=wr(j,W,Re)):(re=A,A=e)):(re=A,A=e),A}function E(){var A,j,W;return A=re,j=C(),j!==e?(W=Q(),W!==e?A=fe(j,W):(re=A,A=e)):(re=A,A=e),A}function C(){var A,j,W,Re;return A=re,j=re,q++,n.length>re?(W=n.charAt(re),re++):(W=e,q===0&&ae(U)),q--,W!==e?(re=j,j=void 0):j=e,j!==e?(W=K(),Re=F(),Re===e&&(Re=null),A=kr(W,Re)):(re=A,A=e),A}function F(){var A,j,W,Re;if(A=re,j=J(),j!==e){for(W=[],Re=Xe();Re!==e;)W.push(Re),Re=Xe();A=Qe(j,W)}else re=A,A=e;return A}function K(){var A,j,W,Re,qe;for(q++,A=re,j=[],W=Jr();W!==e;)j.push(W),W=Jr();for(W=me(),W===e&&(W=null),Re=[],qe=Ye(),qe===e&&(qe=Le());qe!==e;)Re.push(qe),qe=Ye(),qe===e&&(qe=Le());return A=ye(j,W,Re),q--,j=e,q===0&&ae(ee),A}function Q(){var A,j,W;for(q++,A=re,j=[],W=ur();W!==e;)j.push(W),W=ur();return W=ir(),W!==e?A=nr(W):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(y)),A}function Se(){var A,j,W;for(q++,A=re,j=[],W=ur();W!==e;)j.push(W),W=ur();return W=ze(),W!==e?A=gr(W):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(v)),A}function Ke(){var A,j,W,Re;if(A=re,j=xe(),j!==e){for(W=[],Re=ur();Re!==e;)W.push(Re),Re=ur();Re=cr(),Re===e&&(Re=null),A=Fr(j,Re)}else re=A,A=e;return A}function We(){var A,j,W;return q++,A=re,j=re,q++,W=Ke(),q--,W===e?j=void 0:(re=j,j=e),j!==e?(W=Ye(),W!==e?A=ar(W):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(T)),A}function Xe(){var A,j,W;return A=re,j=re,q++,W=D(),W===e&&(W=Q(),W===e&&(W=ze())),q--,W===e?j=void 0:(re=j,j=e),j!==e?(n.length>re?(W=n.charAt(re),re++):(W=e,q===0&&ae(U)),W!==e?A=ce(W):(re=A,A=e)):(re=A,A=e),A}function Ye(){var A,j,W;return q++,A=re,j=re,q++,W=D(),W===e&&(W=J(),W===e&&(W=Le(),W===e&&(W=me(),W===e&&(W=Q(),W===e&&(W=ze()))))),q--,W===e?j=void 0:(re=j,j=e),j!==e?(n.length>re?(W=n.charAt(re),re++):(W=e,q===0&&ae(U)),W!==e?A=ke(W):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(ve)),A}function ir(){var A,j,W;return q++,A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=L(j),W?W=void 0:W=e,W!==e?A=Er(j):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(Ze)),A}function ze(){var A,j,W;return q++,A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=hr(j),W?W=void 0:W=e,W!==e?A=vr(j):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(xr)),A}function ur(){var A,j,W;return A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=Ve(j),W?W=void 0:W=e,W!==e?A=Dr(j):(re=A,A=e)):(re=A,A=e),A}function D(){var A,j,W;return q++,A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=jr(j),W?W=void 0:W=e,W!==e?A=Ur(j):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(Ie)),A}function J(){var A,j,W;return q++,A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=Nr(j),W?W=void 0:W=e,W!==e?A=Gr(j):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(yr)),A}function xe(){var A,j,W;return q++,A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=pr(j),W?W=void 0:W=e,W!==e?A=Vr(j):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(fr)),A}function Le(){var A,j,W,Re,qe;for(q++,A=re,j=[],W=ur();W!==e;)j.push(W),W=ur();if(n.length>re?(W=n.charAt(re),re++):(W=e,q===0&&ae(U)),W!==e){for(Re=[],qe=ur();qe!==e;)Re.push(qe),qe=ur();qe=qr(W),qe?qe=void 0:qe=e,qe!==e?A=V(W):(re=A,A=e)}else re=A,A=e;return q--,A===e&&(j=e,q===0&&ae(br)),A}function me(){var A,j,W;return q++,A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=ie(j),W?W=void 0:W=e,W!==e?A=ue(j):(re=A,A=e)):(re=A,A=e),q--,A===e&&(j=e,q===0&&ae(rr)),A}function cr(){var A,j,W;return A=re,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),j!==e?(W=Ne(j),W?W=void 0:W=e,W!==e?A=tr(j):(re=A,A=e)):(re=A,A=e),A}function Ge(){var A,j;return A=re,q++,n.length>re?(j=n.charAt(re),re++):(j=e,q===0&&ae(U)),q--,j===e?A=void 0:(re=A,A=e),A}if(!o.isWhitespace)try{Object.assign(o,{isSep:A=>A.type==="string"&&A.content===",",isVar:A=>A.type==="string"&&A.content.match(/[a-zA-Z]/),isOperation:A=>A.type==="string"&&A.content.match(/[+-]/),isEquals:A=>A.type==="string"&&A.content==="=",isAt:A=>A.type==="string"&&A.content==="@",isSubscript:A=>A.content==="_",isWhitespace:A=>A.type==="whitespace",isSameLineComment:A=>A.type==="comment"&&A.sameline,isOwnLineComment:A=>A.type==="comment"&&!A.sameline})}catch(A){console.warn("Error when initializing parser",A)}if(O=_(),O!==e&&re===n.length)return O;throw O!==e&&re<n.length&&ae(Y()),zr(z,_r<n.length?n.charAt(_r):null,_r<n.length?Oe(_r,_r+1):Oe(_r,_r))}return{SyntaxError:t,parse:l}}(),Tc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={root:Ke},_=Ke,P="plus",U="minus",ee="pt",y="mm",v="cm",T="in",ve="ex",Ze="em",xr="bp",Ie="pc",yr="dd",fr="cc",br="nd",rr="nc",Cr="sp",Or="filll",Mr="fill",Sr="fil",wr=".",fe="+",kr="-",Qe=/^[0-9]/,ye=mr(),nr=lr("plus",!1),gr=lr("minus",!1),Fr=lr("pt",!1),ar=lr("mm",!1),ce=lr("cm",!1),ke=lr("in",!1),L=lr("ex",!1),Er=lr("em",!1),hr=lr("bp",!1),vr=lr("pc",!1),Ve=lr("dd",!1),Dr=lr("cc",!1),jr=lr("nd",!1),Ur=lr("nc",!1),Nr=lr("sp",!1),Gr=lr("filll",!1),pr=lr("fill",!1),Vr=lr("fil",!1),qr=C("number"),V=Jr([["0","9"]],!1,!1),ie=lr(".",!1),ue=lr("+",!1),Ne=lr("-",!1),tr=function(J,xe,Le){return{type:"glue",fixed:J,stretchable:xe,shrinkable:Le,position:zr()}},re=function(J){return J},Br=function(J,xe){return{type:"dim",value:J,unit:xe}},_r=function(J,xe){return{type:"dim",value:J,unit:xe}},z=function(J,xe){return{type:"dim",value:J,unit:xe}},q=function(J){return parseFloat(J)},O=0,or=0,Y=[{line:1,column:1}],Pe=0,He=[],Oe=0,ae;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function zr(){return K(or,O)}function lr(J,xe){return{type:"literal",text:J,ignoreCase:xe}}function Jr(J,xe,Le){return{type:"class",parts:J,inverted:xe,ignoreCase:Le}}function mr(){return{type:"any"}}function E(){return{type:"end"}}function C(J){return{type:"other",description:J}}function F(J){var xe=Y[J],Le;if(xe)return xe;for(Le=J-1;!Y[Le];)Le--;for(xe=Y[Le],xe={line:xe.line,column:xe.column};Le<J;)n.charCodeAt(Le)===10?(xe.line++,xe.column=1):xe.column++,Le++;return Y[J]=xe,xe}function K(J,xe,Le){var me=F(J),cr=F(xe),Ge={source:m,start:{offset:J,line:me.line,column:me.column},end:{offset:xe,line:cr.line,column:cr.column}};return Ge}function Q(J){O<Pe||(O>Pe&&(Pe=O,He=[]),He.push(J))}function Se(J,xe,Le){return new t(t.buildMessage(J,xe),J,xe,Le)}function Ke(){var J,xe,Le,me,cr;if(J=O,xe=O,Le=We(),Le!==e?(me=Xe(),me===e&&(me=null),cr=Ye(),cr===e&&(cr=null),or=xe,xe=tr(Le,me,cr)):(O=xe,xe=e),xe!==e){for(Le=[],n.length>O?(me=n.charAt(O),O++):(me=e,Oe===0&&Q(ye));me!==e;)Le.push(me),n.length>O?(me=n.charAt(O),O++):(me=e,Oe===0&&Q(ye));or=J,J=re(xe)}else O=J,J=e;return J}function We(){var J,xe,Le;return J=O,xe=ur(),xe!==e?(Le=ir(),Le!==e?(or=J,J=Br(xe,Le)):(O=J,J=e)):(O=J,J=e),J}function Xe(){var J,xe,Le,me;return J=O,n.substr(O,4)===P?(xe=P,O+=4):(xe=e,Oe===0&&Q(nr)),xe!==e?(Le=ur(),Le!==e?(me=ze(),me!==e?(or=J,J=_r(Le,me)):(O=J,J=e)):(O=J,J=e)):(O=J,J=e),J}function Ye(){var J,xe,Le,me;return J=O,n.substr(O,5)===U?(xe=U,O+=5):(xe=e,Oe===0&&Q(gr)),xe!==e?(Le=ur(),Le!==e?(me=ze(),me!==e?(or=J,J=z(Le,me)):(O=J,J=e)):(O=J,J=e)):(O=J,J=e),J}function ir(){var J;return n.substr(O,2)===ee?(J=ee,O+=2):(J=e,Oe===0&&Q(Fr)),J===e&&(n.substr(O,2)===y?(J=y,O+=2):(J=e,Oe===0&&Q(ar)),J===e&&(n.substr(O,2)===v?(J=v,O+=2):(J=e,Oe===0&&Q(ce)),J===e&&(n.substr(O,2)===T?(J=T,O+=2):(J=e,Oe===0&&Q(ke)),J===e&&(n.substr(O,2)===ve?(J=ve,O+=2):(J=e,Oe===0&&Q(L)),J===e&&(n.substr(O,2)===Ze?(J=Ze,O+=2):(J=e,Oe===0&&Q(Er)),J===e&&(n.substr(O,2)===xr?(J=xr,O+=2):(J=e,Oe===0&&Q(hr)),J===e&&(n.substr(O,2)===Ie?(J=Ie,O+=2):(J=e,Oe===0&&Q(vr)),J===e&&(n.substr(O,2)===yr?(J=yr,O+=2):(J=e,Oe===0&&Q(Ve)),J===e&&(n.substr(O,2)===fr?(J=fr,O+=2):(J=e,Oe===0&&Q(Dr)),J===e&&(n.substr(O,2)===br?(J=br,O+=2):(J=e,Oe===0&&Q(jr)),J===e&&(n.substr(O,2)===rr?(J=rr,O+=2):(J=e,Oe===0&&Q(Ur)),J===e&&(n.substr(O,2)===Cr?(J=Cr,O+=2):(J=e,Oe===0&&Q(Nr)))))))))))))),J}function ze(){var J;return J=ir(),J===e&&(n.substr(O,5)===Or?(J=Or,O+=5):(J=e,Oe===0&&Q(Gr)),J===e&&(n.substr(O,4)===Mr?(J=Mr,O+=4):(J=e,Oe===0&&Q(pr)),J===e&&(n.substr(O,3)===Sr?(J=Sr,O+=3):(J=e,Oe===0&&Q(Vr))))),J}function ur(){var J,xe,Le,me,cr,Ge,A,j,W;for(Oe++,J=O,xe=O,Le=O,me=D(),me===e&&(me=null),cr=O,Ge=[],Qe.test(n.charAt(O))?(A=n.charAt(O),O++):(A=e,Oe===0&&Q(V));A!==e;)Ge.push(A),Qe.test(n.charAt(O))?(A=n.charAt(O),O++):(A=e,Oe===0&&Q(V));if(n.charCodeAt(O)===46?(A=wr,O++):(A=e,Oe===0&&Q(ie)),A!==e){if(j=[],Qe.test(n.charAt(O))?(W=n.charAt(O),O++):(W=e,Oe===0&&Q(V)),W!==e)for(;W!==e;)j.push(W),Qe.test(n.charAt(O))?(W=n.charAt(O),O++):(W=e,Oe===0&&Q(V));else j=e;j!==e?(Ge=[Ge,A,j],cr=Ge):(O=cr,cr=e)}else O=cr,cr=e;if(cr===e)if(cr=[],Qe.test(n.charAt(O))?(Ge=n.charAt(O),O++):(Ge=e,Oe===0&&Q(V)),Ge!==e)for(;Ge!==e;)cr.push(Ge),Qe.test(n.charAt(O))?(Ge=n.charAt(O),O++):(Ge=e,Oe===0&&Q(V));else cr=e;return cr!==e?(me=[me,cr],Le=me):(O=Le,Le=e),Le!==e?xe=n.substring(xe,O):xe=Le,xe!==e&&(or=J,xe=q(xe)),J=xe,Oe--,J===e&&(xe=e,Oe===0&&Q(qr)),J}function D(){var J;return n.charCodeAt(O)===43?(J=fe,O++):(J=e,Oe===0&&Q(ue)),J===e&&(n.charCodeAt(O)===45?(J=kr,O++):(J=e,Oe===0&&Q(Ne))),J}if(ae=_(),ae!==e&&O===n.length)return ae;throw ae!==e&&O<n.length&&Q(E()),Se(He,Pe<n.length?n.charAt(Pe):null,Pe<n.length?K(Pe,Pe+1):K(Pe,Pe))}return{SyntaxError:t,parse:l}}(),Lc=function(){function r(n,o){function e(){this.constructor=n}e.prototype=o.prototype,n.prototype=new e}function t(n,o,e,m){var h=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=o,h.found=e,h.location=m,h.name="SyntaxError",h}r(t,Error);function s(n,o,e){return e=e||" ",n.length>o?n:(o-=n.length,e+=e.repeat(o),n+e.slice(0,o))}t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var e=null,m;for(m=0;m<n.length;m++)if(n[m].source===this.location.source){e=n[m].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,_=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,P=this.location.source+":"+_.line+":"+_.column;if(e){var U=this.location.end,ee=s("",_.line.toString().length," "),y=e[h.line-1],v=h.line===U.line?U.column:y.length+1,T=v-h.column||1;o+=`
 --> `+P+`
`+ee+` |
`+_.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",T,"^")}else o+=`
 at `+P}return o},t.buildMessage=function(n,o){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var v=y.parts.map(function(T){return Array.isArray(T)?_(T[0])+"-"+_(T[1]):_(T)});return"["+(y.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function m(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function _(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+m(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+m(v)})}function P(y){return e[y.type](y)}function U(y){var v=y.map(P),T,ve;if(v.sort(),v.length>0){for(T=1,ve=1;T<v.length;T++)v[T-1]!==v[T]&&(v[ve]=v[T],ve++);v.length=ve}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+U(n)+" but "+ee(o)+" found."};function l(n,o){o=o!==void 0?o:{};var e={},m=o.grammarSource,h={path_spec:D,foreach_body:Le},_=D,P=Ke(),U=Xe("comment"),ee=Xe("floating comment"),y=Xe("operation"),v=Xe("="),T=function(g){return g},ve=function(g){return{type:"path_spec",content:g}},Ze=function(g,S,R){return{op:S,comment:R}},xr=function(g,S,R,de){let le=[g,...S.map($=>$.comment),R].filter($=>$),he=S.map($=>$.op.content.content).join(" ");return{type:"animation",comments:le,attribute:he,content:de.content}},Ie=function(g,S){return{...S,start:g,type:"foreach"}},yr=function(g,S,R,de,le,he,$,B){let ne=[g,de,le,$].filter(ge=>ge);return{type:"foreach_body",variables:S,options:R&&R.content,list:he,command:B,comments:ne}},fr=function(g,S,R,de){let le=[g,R].filter(he=>he);return{type:"svg_operation",options:S&&S.content,content:de,comments:le}},br=function(g,S,R,de,le,he){return{coord:he,comment:le}},rr=function(g,S,R,de,le,he){let $=[g,S,de,le&&le.comment,he].filter(B=>B);return{type:"curve_to",controls:le?[R,le.coord]:[R],comments:$}},Cr=function(){return{type:"line_to",command:"|-"}},Or=function(){return{type:"line_to",command:"-|"}},Mr=function(){return{type:"line_to",command:"--"}},Sr=function(g,S){return{type:"coordinate",content:S,prefix:g}},wr=function(g){return{type:"square_brace_group",content:g}},fe=function(g){return{type:"unknown",content:g}},kr=function(g){return o.isComment(g)},Qe=function(g){return g},ye=function(g){return o.isWhitespace(g)},nr=function(g){return g},gr=function(g){return g},Fr=function(g){return o.isOperation(g)},ar=function(g){return{type:"operation",content:g}},ce=function(g){return o.isChar(g,"=")},ke=function(g){return g},L=function(g){return o.isChar(g,"[")},Er=function(g){return g},hr=function(g){return o.isChar(g,"]")},vr=function(g){return g},Ve=function(g){return o.isChar(g,"(")},Dr=function(g){return g},jr=function(g){return o.isChar(g,")")},Ur=function(g){return g},Nr=function(g){return o.isChar(g,"+")},Gr=function(g){return g},pr=function(g){return o.isChar(g,"-")},Vr=function(g){return g},qr=function(g){return o.isChar(g,"|")},V=function(g){return g},ie=function(g){return o.isChar(g,".")},ue=function(g){return g},Ne=function(g){return o.isChar(g,"controls")},tr=function(g){return g},re=function(g){return o.isChar(g,"and")},Br=function(g){return g},_r=function(g){return o.isChar(g,"svg")},z=function(g){return g},q=function(g){return o.isGroup(g)},O=function(g){return g},or=function(g){return o.isAnyMacro(g)},Y=function(g){return g},Pe=function(g){return o.isChar(g,"foreach")},He=function(g){return g},Oe=function(g){return o.isMacro(g,"foreach")},ae=function(g){return g},zr=function(g){return o.isChar(g,"in")},lr=function(g){return g},Jr=function(g){return o.isChar(g,":")},mr=function(g){return g},E=0,C=[{line:1,column:1}],F=0,K=[],Q=0,Se;if("startRule"in o){if(!(o.startRule in h))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=h[o.startRule]}function Ke(){return{type:"any"}}function We(){return{type:"end"}}function Xe(g){return{type:"other",description:g}}function Ye(g){var S=C[g],R;if(S)return S;for(R=g-1;!C[R];)R--;for(S=C[R],S={line:S.line,column:S.column};R<g;)n.charCodeAt(R)===10?(S.line++,S.column=1):S.column++,R++;return C[g]=S,S}function ir(g,S,R){var de=Ye(g),le=Ye(S),he={source:m,start:{offset:g,line:de.line,column:de.column},end:{offset:S,line:le.line,column:le.column}};return he}function ze(g){E<F||(E>F&&(F=E,K=[]),K.push(g))}function ur(g,S,R){return new t(t.buildMessage(g,S),g,S,R)}function D(){var g,S,R,de,le,he;if(g=E,S=[],R=E,de=j(),de===e&&(de=A(),de===e&&(de=cr(),de===e&&(de=Ge(),de===e&&(de=me(),de===e&&(de=xe(),de===e&&(de=x(),de===e&&(de=qe(),de===e&&(de=J(),de===e&&(de=Re()))))))))),de!==e){for(le=[],he=we();he!==e;)le.push(he),he=we();R=T(de)}else E=R,R=e;if(R!==e)for(;R!==e;)if(S.push(R),R=E,de=j(),de===e&&(de=A(),de===e&&(de=cr(),de===e&&(de=Ge(),de===e&&(de=me(),de===e&&(de=xe(),de===e&&(de=x(),de===e&&(de=qe(),de===e&&(de=J(),de===e&&(de=Re()))))))))),de!==e){for(le=[],he=we();he!==e;)le.push(he),he=we();R=T(de)}else E=R,R=e;else S=e;return S!==e&&(S=ve(S)),g=S,g}function J(){var g,S,R,de,le,he,$;if(g=E,S=sn(),S!==e){if(R=Ir(),de=[],le=E,he=x(),he!==e?($=Ir(),le=Ze(R,he,$)):(E=le,le=e),le!==e)for(;le!==e;)de.push(le),le=E,he=x(),he!==e?($=Ir(),le=Ze(R,he,$)):(E=le,le=e);else de=e;de!==e?(le=u(),le!==e?(he=Ir(),$=wn(),$!==e?g=xr(R,de,he,$):(E=g,g=e)):(E=g,g=e)):(E=g,g=e)}else E=g,g=e;return g}function xe(){var g,S,R;return g=E,S=kn(),S===e&&(S=Mn()),S!==e?(R=Le(),R!==e?g=Ie(S,R):(E=g,g=e)):(E=g,g=e),g}function Le(){var g,S,R,de,le,he,$,B,ne,ge;for(g=E,S=Ir(),R=E,de=[],le=E,he=E,Q++,$=un(),$===e&&($=j()),Q--,$===e?he=void 0:(E=he,he=e),he!==e?(n.length>E?($=n.charAt(E),E++):($=e,Q===0&&ze(P)),$!==e?(he=[he,$],le=he):(E=le,le=e)):(E=le,le=e);le!==e;)de.push(le),le=E,he=E,Q++,$=un(),$===e&&($=j()),Q--,$===e?he=void 0:(E=he,he=e),he!==e?(n.length>E?($=n.charAt(E),E++):($=e,Q===0&&ze(P)),$!==e?(he=[he,$],le=he):(E=le,le=e)):(E=le,le=e);return R=n.substring(R,E),de=j(),de===e&&(de=null),le=Ir(),he=un(),he!==e?($=Ir(),B=wn(),B===e&&(B=Ce()),B!==e?(ne=Ir(),ge=xe(),ge===e&&(ge=wn(),ge===e&&(ge=Ce())),ge!==e?g=yr(S,R,de,le,$,B,ne,ge):(E=g,g=e)):(E=g,g=e)):(E=g,g=e),g}function me(){var g,S,R,de,le,he;return g=E,S=Dn(),S!==e?(R=Ir(),de=j(),de===e&&(de=null),le=Ir(),he=wn(),he!==e?g=fr(R,de,le,he):(E=g,g=e)):(E=g,g=e),g}function cr(){var g,S,R,de,le,he,$,B,ne,ge,Fe;return g=E,S=W(),S!==e?(R=Ir(),de=Hn(),de!==e?(le=Ir(),he=A(),he!==e?($=Ir(),B=E,ne=Pr(),ne!==e?(ge=Ir(),Fe=A(),Fe!==e?B=br(R,le,he,$,ge,Fe):(E=B,B=e)):(E=B,B=e),B===e&&(B=null),ne=Ir(),ge=W(),ge!==e?g=rr(R,le,he,$,B,ne):(E=g,g=e)):(E=g,g=e)):(E=g,g=e)):(E=g,g=e),g}function Ge(){var g,S,R;return g=E,S=xn(),S!==e?(R=Xr(),R!==e?g=Cr():(E=g,g=e)):(E=g,g=e),g===e&&(g=E,S=Xr(),S!==e?(R=xn(),R!==e?g=Or():(E=g,g=e)):(E=g,g=e),g===e&&(g=E,S=Xr(),S!==e?(R=Xr(),R!==e?g=Mr():(E=g,g=e)):(E=g,g=e))),g}function A(){var g,S,R,de,le,he,$,B;if(g=E,S=E,R=E,de=nn(),de!==e?(le=nn(),le===e&&(le=null),de=[de,le],R=de):(E=R,R=e),R===e&&(R=null),S=n.substring(S,E),R=sr(),R!==e){for(de=E,le=[],he=E,$=E,Q++,B=te(),Q--,B===e?$=void 0:(E=$,$=e),$!==e?(n.length>E?(B=n.charAt(E),E++):(B=e,Q===0&&ze(P)),B!==e?($=[$,B],he=$):(E=he,he=e)):(E=he,he=e);he!==e;)le.push(he),he=E,$=E,Q++,B=te(),Q--,B===e?$=void 0:(E=$,$=e),$!==e?(n.length>E?(B=n.charAt(E),E++):(B=e,Q===0&&ze(P)),B!==e?($=[$,B],he=$):(E=he,he=e)):(E=he,he=e);de=n.substring(de,E),le=te(),le!==e?g=Sr(S,de):(E=g,g=e)}else E=g,g=e;return g}function j(){var g,S,R,de,le,he,$;if(g=E,S=N(),S!==e){for(R=E,de=[],le=E,he=E,Q++,$=De(),Q--,$===e?he=void 0:(E=he,he=e),he!==e?(n.length>E?($=n.charAt(E),E++):($=e,Q===0&&ze(P)),$!==e?(he=[he,$],le=he):(E=le,le=e)):(E=le,le=e);le!==e;)de.push(le),le=E,he=E,Q++,$=De(),Q--,$===e?he=void 0:(E=he,he=e),he!==e?(n.length>E?($=n.charAt(E),E++):($=e,Q===0&&ze(P)),$!==e?(he=[he,$],le=he):(E=le,le=e)):(E=le,le=e);R=n.substring(R,E),de=De(),de!==e?g=wr(R):(E=g,g=e)}else E=g,g=e;return g}function W(){var g,S,R;return g=E,S=On(),S!==e?(R=On(),R!==e?(S=[S,R],g=S):(E=g,g=e)):(E=g,g=e),g}function Re(){var g,S;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e&&(S=fe(S)),g=S,g}function qe(){var g,S,R;return Q++,g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=kr(S),R?R=void 0:R=e,R!==e?g=Qe(S):(E=g,g=e)):(E=g,g=e),Q--,g===e&&(S=e,Q===0&&ze(U)),g}function we(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=ye(S),R?R=void 0:R=e,R!==e?g=nr(S):(E=g,g=e)):(E=g,g=e),g}function Ir(){var g,S,R,de,le;for(Q++,g=E,S=[],R=we();R!==e;)S.push(R),R=we();for(R=qe(),R===e&&(R=null),de=[],le=we();le!==e;)de.push(le),le=we();return g=gr(R),Q--,S=e,Q===0&&ze(ee),g}function x(){var g,S,R;return Q++,g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Fr(S),R?R=void 0:R=e,R!==e?g=ar(S):(E=g,g=e)):(E=g,g=e),Q--,g===e&&(S=e,Q===0&&ze(y)),g}function u(){var g,S,R;return Q++,g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=ce(S),R?R=void 0:R=e,R!==e?g=ke(S):(E=g,g=e)):(E=g,g=e),Q--,g===e&&(S=e,Q===0&&ze(v)),g}function N(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=L(S),R?R=void 0:R=e,R!==e?g=Er(S):(E=g,g=e)):(E=g,g=e),g}function De(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=hr(S),R?R=void 0:R=e,R!==e?g=vr(S):(E=g,g=e)):(E=g,g=e),g}function sr(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Ve(S),R?R=void 0:R=e,R!==e?g=Dr(S):(E=g,g=e)):(E=g,g=e),g}function te(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=jr(S),R?R=void 0:R=e,R!==e?g=Ur(S):(E=g,g=e)):(E=g,g=e),g}function nn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Nr(S),R?R=void 0:R=e,R!==e?g=Gr(S):(E=g,g=e)):(E=g,g=e),g}function Xr(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=pr(S),R?R=void 0:R=e,R!==e?g=Vr(S):(E=g,g=e)):(E=g,g=e),g}function xn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=qr(S),R?R=void 0:R=e,R!==e?g=V(S):(E=g,g=e)):(E=g,g=e),g}function On(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=ie(S),R?R=void 0:R=e,R!==e?g=ue(S):(E=g,g=e)):(E=g,g=e),g}function Hn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Ne(S),R?R=void 0:R=e,R!==e?g=tr(S):(E=g,g=e)):(E=g,g=e),g}function Pr(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=re(S),R?R=void 0:R=e,R!==e?g=Br(S):(E=g,g=e)):(E=g,g=e),g}function Dn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=_r(S),R?R=void 0:R=e,R!==e?g=z(S):(E=g,g=e)):(E=g,g=e),g}function wn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=q(S),R?R=void 0:R=e,R!==e?g=O(S):(E=g,g=e)):(E=g,g=e),g}function Ce(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=or(S),R?R=void 0:R=e,R!==e?g=Y(S):(E=g,g=e)):(E=g,g=e),g}function kn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Pe(S),R?R=void 0:R=e,R!==e?g=He(S):(E=g,g=e)):(E=g,g=e),g}function Mn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Oe(S),R?R=void 0:R=e,R!==e?g=ae(S):(E=g,g=e)):(E=g,g=e),g}function un(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=zr(S),R?R=void 0:R=e,R!==e?g=lr(S):(E=g,g=e)):(E=g,g=e),g}function sn(){var g,S,R;return g=E,n.length>E?(S=n.charAt(E),E++):(S=e,Q===0&&ze(P)),S!==e?(R=Jr(S),R?R=void 0:R=e,R!==e?g=mr(S):(E=g,g=e)):(E=g,g=e),g}if(!o.isWhitespace)try{Object.assign(o,{isChar:(g,S)=>g.type==="string"&&g.content===S,isOperation:g=>g.type==="string"&&g.content.match(/[a-zA-Z]/),isWhitespace:g=>g.type==="whitespace"||g.type==="parbreak",isSameLineComment:g=>g.type==="comment"&&g.sameline,isOwnLineComment:g=>g.type==="comment"&&!g.sameline,isComment:g=>g.type==="comment",isGroup:g=>g.type==="group",isMacro:(g,S)=>g.type==="macro"&&g.content===S,isAnyMacro:g=>g.type==="macro"})}catch(g){console.warn("Error when initializing parser",g)}if(Se=_(),Se!==e&&E===n.length)return Se;throw Se!==e&&E<n.length&&ze(We()),ur(K,F<n.length?n.charAt(F):null,F<n.length?ir(F,F+1):ir(F,F))}return{SyntaxError:t,parse:l}}(),di=Wl;var ss=jl;var hi={};function $n(r=""){return hi[r]=hi[r]||ss.parse(r),hi[r]}var Cu=ii(Ai(),1),Mu=ii(Ai(),1);function Zn(r,t,s){let{startIndex:l,onlySkipWhitespaceAndComments:n,allowSubstringMatches:o}=s||{};typeof t=="string"&&(t={type:"string",content:t});for(let e=l||0;e<r.length;e++){let m=r[e];if(m.type===t.type)switch(m.type){case"comment":case"displaymath":case"inlinemath":case"root":case"parbreak":case"whitespace":case"verb":case"verbatim":case"group":return e;case"macro":if(m.content===t.content)return e;break;case"environment":case"mathenv":if(bn(m.env)===bn(t.env))return e;break;case"string":if(m.content===t.content||o&&m.content.indexOf(t.content)>=0)return e;break}if(n&&!Ae.whitespace(m)&&!Ae.comment(m))return null}return null}function pn(r,t,s=0){if(typeof t=="string"||!t.type)throw new Error(`argSpec must be an already-parsed argument specification, not "${JSON.stringify(t)}"`);let l=null,n=s,o=t.noLeadingWhitespace?()=>{}:()=>{for(;n<r.length&&Ae.whitespace(r[n]);)n++},e=t.openBrace||"",m=t.closeBrace||"",h=(t.type==="mandatory"||t.type==="optional")&&e==="{"&&m==="}";o();let _=r[n];if(_==null||Ae.comment(_)||Ae.parbreak(_))return{argument:l,nodesRemoved:0};switch(t.type){case"mandatory":if(h){let ee=[_];Ae.group(_)&&(ee=_.content),l=Wr(ee,{openMark:e,closeMark:m}),n++;break}else{let ee=gt(r,n,e,m);if(ee){l=Wr(r.slice(ee[0]+1,ee[1]),{openMark:e,closeMark:m}),n=ee[1]+1;break}}case"optional":if(h&&Ae.group(_)){l=Wr(_.content,{openMark:e,closeMark:m}),n++;break}let U=gt(r,n,e,m);if(U){l=Wr(r.slice(U[0]+1,U[1]),{openMark:e,closeMark:m}),n=U[1]+1;break}break;case"optionalStar":case"optionalToken":{let ee=gt(r,n,t.type==="optionalStar"?"*":t.token);ee&&(l=Wr(_,{openMark:"",closeMark:""}),n=ee[0]+1);break}case"until":{if(t.stopTokens.length>1){console.warn('"until" matches with multi-token stop conditions are not yet implemented');break}let ee=t.stopTokens[0],v=gt(r,s,void 0,ee===" "?{type:"whitespace"}:ee);if(!v)break;l=Wr(r.slice(s,v[1]),{openMark:"",closeMark:ee}),n=v[1],n<r.length&&n++;break}case"embellishment":{for(let ee of t.embellishmentTokens){let y=gt(r,n,ee);if(!y)continue;let v=r[y[0]+1];l=Wr(Ae.group(v)?v.content:v,{openMark:ee,closeMark:""}),n=y[1]+1;break}break}default:console.warn(`Don't know how to find an argument of argspec type "${t.type}"`)}let P=l?n-s:0;return r.splice(s,P),{argument:l,nodesRemoved:P}}function Lt(r,t){return Object.assign({},r,{content:t})}function gt(r,t,s,l){let n=r[t],o=t,e=t;if(s){if(!Ae.anyString(n)||!n.content.startsWith(s))return;if(o=t,n.content.length>s.length){let _=n.content;n.content=s,r.splice(o+1,0,Lt(n,_.slice(s.length)))}e=o+1}if(!l){let h=r[e];if(!h)return;if(Ae.anyString(h)&&h.content.length>1){let _=h.content;h.content=_[0],r.splice(e+1,0,Lt(h,_.slice(1)))}return[o,e]}if(e=Zn(r,l,{startIndex:e,allowSubstringMatches:!0}),e===null)return;let m=r[e];if(Ae.anyString(m)&&typeof l=="string"){let h=m.content,_=h.indexOf(l);if(h.length>l.length){m.content=l;let P=h.slice(0,_),U=h.slice(_+l.length);P&&(r.splice(e,0,Lt(m,P)),e++),U&&r.splice(e+1,0,Lt(m,U))}}return[o,e]}function zn(r,t,s=0){if(typeof t=="function")return t(r,s);typeof t=="string"&&(t=$n(t));let l=[],n=0;for(let o of t)if(o.type==="embellishment"){let e=new Set(o.embellishmentTokens),m=Object.fromEntries(o.embellishmentTokens.map((P,U)=>{var ee;let y="defaultArg"in o?(ee=o.defaultArg)==null?void 0:ee[U]:void 0;return[P,Cs(y)]})),{argument:h,nodesRemoved:_}=pn(r,ks(e),s);for(;h;){let P=h.openMark;e.delete(P),m[P]=h,n+=_;let U=ks(e);({argument:h,nodesRemoved:_}=pn(r,U,s))}l.push(...o.embellishmentTokens.map(P=>m[P]))}else{let{argument:e,nodesRemoved:m}=pn(r,o,s),h="defaultArg"in o?o.defaultArg:void 0;l.push(e||Cs(h)),n+=m}return{args:l,nodesRemoved:n}}function ks(r){return{type:"embellishment",embellishmentTokens:[...r]}}function Cs(r){let t=Wr([],{openMark:"",closeMark:""});return r!=null&&Xn(t,{defaultArg:r}),t}function Jn(r,t){let s,l=Ae.createMacroMatcher(t);function n(){for(;s>=0&&!l(r[s]);)s--}for(s=r.length-1;s>=0;){if(n(),s<0)return;let o=s,e=r[o],m=e.content,h=t[m];Xn(e,h.renderInfo);let _=h.argumentParser||h.signature;if(_==null){s--;continue}if(e.args!=null){s=o-1;continue}s++;let{args:P}=zn(r,_,s);e.args=P,s=o-1}}var Ms=function(t){return s=>{let{macros:l={}}=t||{};Object.keys(l).length===0&&console.warn("Attempting to attach macro arguments but no macros are specified."),ln(s,n=>{Jn(n,l)},{includeArrays:!0,test:Array.isArray})}};var Eu=$n("m")[0],_u=$n("o")[0],xi={},Iu=(r,t)=>{let{argument:s,nodesRemoved:l}=pn(r,_u,t),n=null,o=0,e=r[t];if(Ae.group(e)){let m=pn(r,Eu,t);n=m.argument,o=m.nodesRemoved}else if(Ae.string(e)&&e.content.length===1){let m=e.content;xi[m]=xi[m]||$n(`r${m}${m}`)[0];let h=pn(r,xi[m],t);n=h.argument,o=h.nodesRemoved}return{args:[s||Wr(null),n||Wr(null)],nodesRemoved:l+o}},Es={lstset:{signature:"m"},lstinline:{argumentParser:Iu},lstinputlisting:{signature:"o m"},lstdefinestyle:{signature:"m m"},lstnewenvironment:{signature:"m o o m m"},lstMakeShortInline:{signature:"o m"},lstDeleteShortInline:{signature:"m"},lstdefineformat:{signature:"m m"},lstdefinelanguage:{signature:"o m o m o"},lstalias:{signature:"o m o m"},lstloadlanguages:{signature:"m"}},_s={};var Is={see:{signature:"m m"},seealso:{signature:"m m"},seename:{signature:"m"},alsoname:{signature:"m"},index:{signature:"m"}},Ps={};var Ss={mathtoolsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},mathllap:{signature:"o m"},mathrlap:{signature:"o m"},mathclap:{signature:"o m"},clap:{signature:"m"},mathmbox:{signature:"m"},mathmakebox:{signature:"o o m"},cramped:{signature:"o m"},crampedllap:{signature:"o m"},crampedrlap:{signature:"o m"},crampedclap:{signature:"o m"},crampedsubstack:{signature:"o m"},smashoperator:{signature:"o m"},newtagform:{signature:"m o m m"},renewtagform:{signature:"m o m m"},usetagform:{signature:"m"},xleftrightarrow:{signature:"o m"},xLeftarrow:{signature:"o m"},xhookleftarrow:{signature:"o m"},xmapsto:{signature:"o m"},xRightarrow:{signature:"o m"},xLeftrightarrow:{signature:"o m"},xhookrightarrow:{signature:"o m"},underbracket:{signature:"o o m"},overbracket:{signature:"o o m"},underbrace:{signature:"m"},overbrace:{signature:"m"},shoveleft:{signature:"o m"},shoveright:{signature:"o m"},ArrowBetweenLines:{signature:"s o"},vdotswithin:{signature:"m"},shortdotswithin:{signature:"s m"},DeclarePairedDelimiter:{signature:"m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterX:{signature:"m o m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterXPP:{signature:"m o m m m m m",renderInfo:{breakAround:!0}},prescript:{signature:"m m m"},DeclareMathSizes:{signature:"m m m m"},newgathered:{signature:"m m m m"},renewgathered:{signature:"m m m m"},splitfrac:{signature:"m m"},splitdfrac:{signature:"m m"},xmathstrut:{signature:"o m"},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},theoremstyle:{signature:"m",renderInfo:{breakAround:!0}},newtheoremstyle:{signature:"m m m m m m m m m",renderInfo:{breakAround:!0}},text:{signature:"m",renderInfo:{inMathMode:!1}},mathbb:{signature:"m"},mathscr:{signature:"m"},mathfrak:{signature:"m"},frak:{signature:"m"},Bdd:{signature:"m"},bold:{signature:"m"},operatorname:{signature:"s m"},DeclareMathOperator:{signature:"s m m",renderInfo:{breakAround:!0}}},Fs={crampedsubarray:{signature:"m",renderInfo:{alignContent:!0,inMathMode:!0}},matrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},pmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},smallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},psmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},"matrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"pmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"smallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"psmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},multilined:{signature:"o o",renderInfo:{inMathMode:!0}},cases:{renderInfo:{alignContent:!0,inMathMode:!0}},"cases*":{renderInfo:{alignContent:!0,inMathMode:!0}},dcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"dcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},rcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"rcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},drcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"drcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},spreadlines:{signature:"m",renderInfo:{inMathMode:!0}},lgathered:{signature:"o",renderInfo:{inMathMode:!0}},rgathered:{signature:"o",renderInfo:{inMathMode:!0}},"align*":{renderInfo:{inMathMode:!0,alignContent:!0}},align:{renderInfo:{inMathMode:!0,alignContent:!0}},aligned:{renderInfo:{inMathMode:!0,alignContent:!0}},"alignat*":{renderInfo:{inMathMode:!0,alignContent:!0}},alignat:{renderInfo:{inMathMode:!0,alignContent:!0}},"equation*":{renderInfo:{inMathMode:!0}},equation:{renderInfo:{inMathMode:!0}},"gather*":{renderInfo:{inMathMode:!0}},gather:{renderInfo:{inMathMode:!0}},"multline*":{renderInfo:{inMathMode:!0}},multline:{renderInfo:{inMathMode:!0}},"flalign*":{renderInfo:{inMathMode:!0,alignContent:!0}},flalign:{renderInfo:{inMathMode:!0,alignContent:!0}},split:{renderInfo:{inMathMode:!0}},displaymath:{renderInfo:{inMathMode:!0}},theorem:{signature:"o"},lemma:{signature:"o"},definition:{signature:"o"},proposition:{signature:"o"},corollary:{signature:"o"},remark:{signature:"!o"},example:{signature:"!o"},proof:{signature:"o"}};var Rs=$n("m")[0],Pu=$n("o")[0],wi={},ki=(r,t)=>{let{argument:s,nodesRemoved:l}=pn(r,Pu,t),{argument:n,nodesRemoved:o}=pn(r,Rs,t),e=null,m=0,h=r[t];if(Ae.group(h)){let _=pn(r,Rs,t);e=_.argument,m=_.nodesRemoved}else if(Ae.string(h)&&h.content.length===1){let _=h.content;wi[_]=wi[_]||$n(`r${_}${_}`)[0];let P=pn(r,wi[_],t);e=P.argument,m=P.nodesRemoved}return{args:[s||Wr(null),n||Wr(null),e||Wr(null)],nodesRemoved:l+o+m}},Os={mint:{argumentParser:ki},mintinline:{argumentParser:ki},inputminted:{argumentParser:ki},usemintedstyle:{signature:"m"},setminted:{signature:"o m"},setmintedinline:{signature:"o m"},newmint:{signature:"o m m"},newminted:{signature:"o m m"},newmintinline:{signature:"o m m"},newmintedfile:{signature:"o m m"}},Ds={minted:{signature:"o m"}};var Bs={NiceMatrixOptions:{signature:"m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}}},Ts={NiceTabular:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrixBlock:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArrayWithDelims:{signature:"m m o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}}};var Ls={systeme:{signature:"s o o m",renderInfo:{inMathMode:!0}},sysdelim:{signature:"m m"},syseqsep:{signature:"m"},sysalign:{signature:"m"},syssignspace:{signature:"m"},syseqspace:{signature:"m"},syslineskipcoeff:{signature:"m"},syseqivsign:{signature:"m"},sysaddeqsign:{signature:"m"},sysremoveeqsign:{signature:"m"},sysextracolonsign:{signature:"m"},syscodeextracol:{signature:"m"},sysautonum:{signature:"m"},syssubstitute:{signature:"m"}},Ns={};(function(){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var pg=typeof globalThis.structuredClone=="function"?globalThis.structuredClone:r=>JSON.parse(JSON.stringify(r));var Su=$n("o")[0];function Nt(){return Wr([],{openMark:"",closeMark:""})}var qs=(r,t)=>{let s=t,l=t,n=0,o=Fu(r,l),e=Nt();if(o!==l){let ee=r.splice(l,o-l);Pn(ee),e=Wr(ee,{openMark:" ",closeMark:" "})}n+=o-l;let{argument:m,nodesRemoved:h}=pn(r,Su,l);n+=h;let _=m||Nt();for(;Ae.whitespace(r[l]);)l++;let P=r[l];if(!P)return{args:[e,_,Nt()],nodesRemoved:0};if(Ae.group(P)){let ee=[e,_,Wr(P.content)];return r.splice(s,l-s+1),{args:ee,nodesRemoved:l-s+1+n}}let U=Zn(r,";",{startIndex:l});if(U!=null){let ee=r.splice(s,U-s+1);return Pn(ee),{args:[e,_,Wr(ee)],nodesRemoved:s-U+1+n}}return{args:[e,_,Nt()],nodesRemoved:0}};function Fu(r,t){let s=Zn(r,":",{startIndex:t,allowSubstringMatches:!0,onlySkipWhitespaceAndComments:!0});if(!s)return t;let l=t,n=s+1;for(;n<r.length;n++){let o=r[n];if(Ae.string(o,"["))break;if(Ae.string(o,"=")){for(n++;Ae.whitespace(r[n])||Ae.comment(r[n]);)n++;if(!Ae.group(r[n]))break;l=n+1;let e=Zn(r,":",{startIndex:l,allowSubstringMatches:!0,onlySkipWhitespaceAndComments:!0});if(e==null)break;n=e+1}}return l}var Ws={pgfkeys:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikzoption:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikzstyle:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usetikzlibrary:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepgfmodule:{signature:"m",renderInfo:{pgfkeysArgs:!0}},usepgflibrary:{signature:"m",renderInfo:{pgfkeysArgs:!0}},pgfplotsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},pgfplotstabletypeset:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikz:{signature:"o o m",argumentParser:qs,renderInfo:{namedArguments:["animation","options","command"]}}},js={tikzpicture:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Rn},axis:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Rn},scope:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Rn},pgfonlayer:{signature:"m",renderInfo:{tikzEnvironment:!0},processContent:Rn},pgflowlevelscope:{signature:"m",renderInfo:{tikzEnvironment:!0},processContent:Rn},pgfviewboxscope:{signature:"m m m m m",renderInfo:{tikzEnvironment:!0},processContent:Rn},pgftransparencygroup:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Rn},behindforegroundpath:{signature:"m",processContent:Rn},pgfmetadecoration:{signature:"m",processContent:Rn},colormixin:{signature:"m",renderInfo:{pgfkeysArgs:!0}}};function Rn(r){return Jn(r,Ru),r}var Ru={pgfextra:{signature:"m"},beginpgfgraphicnamed:{signature:"m"},pgfrealjobname:{signature:"m"},pgfplotstreampoint:{signature:"m"},pgfplotstreampointoutlier:{signature:"m"},pgfplotstreamspecial:{signature:"m"},pgfplotxyfile:{signature:"m"},pgfplotxyzfile:{signature:"m"},pgfplotfunction:{signature:"mmm"},pgfplotgnuplot:{signature:"o m"},pgfplothandlerrecord:{signature:"m"},pgfdeclareplothandler:{signature:"m m m"},pgfdeclarelayer:{signature:"m"},pgfsetlayers:{signature:"m",renderInfo:{pgfkeysArgs:!0}},pgfonlayer:{signature:"m"},startpgfonlayer:{signature:"m"},pgfdeclarehorizontalshading:{signature:"o m m m "},pgfdeclareradialshading:{signature:"o m m m"},pgfdeclarefunctionalshading:{signature:"o m m m m m"},pgfshadecolortorgb:{signature:"m m"},pgfshadecolortocmyk:{signature:"m m"},pgfshadecolortogray:{signature:"m m"},pgfuseshading:{signature:"m"},pgfshadepath:{signature:"m m"},pgfsetadditionalshadetransform:{signature:"m"},pgfsetstrokeopacity:{signature:"m"},pgfsetfillopacity:{signature:"m"},pgfsetblendmode:{signature:"m"},pgfdeclarefading:{signature:"m m"},pgfsetfading:{signature:"m m"},pgfsetfadingforcurrentpath:{signature:"m m"},pgfsetfadingforcurrentpathstroked:{signature:"m m"},pgfanimateattribute:{signature:"m m"},pgfsnapshot:{signature:"m"},pgfqpoint:{signature:"m m"},pgfqpointxy:{signature:"m m"},pgfqpointxyz:{signature:"m m m"},pgfqpointscale:{signature:"m m"},pgfpathqmoveto:{signature:"m m"},pgfpathqlineto:{signature:"m m"},pgfpathqcurveto:{signature:"m m m m m m"},pgfpathqcircle:{signature:"m"},pgfqbox:{signature:"m"},pgfqboxsynced:{signature:"m"},pgfaliasimage:{signature:"m m"},pgfuseimage:{signature:"m"},pgfimage:{signature:"o m",renderInfo:{pgfkeysArgs:!0}},pgfdeclaremask:{signature:"o m m",renderInfo:{pgfkeysArgs:!0}},pgfdeclarepatternformonly:{signature:"o m m m m m"},pgfdeclarepatterninherentlycolored:{signature:"o m m m m m"},pgfsetfillpattern:{signature:"m m"},pgftransformshift:{signature:"m"},pgftransformxshift:{signature:"m"},pgftransformyshift:{signature:"m"},pgftransformscale:{signature:"m"},pgftransformxscale:{signature:"m"},pgftransformyscale:{signature:"m"},pgftransformxslant:{signature:"m"},pgftransformyslant:{signature:"m"},pgftransformrotate:{signature:"m"},pgftransformtriangle:{signature:"m m m"},pgftransformcm:{signature:"m m m m m"},pgftransformarrow:{signature:"m m"},pgftransformlineattime:{signature:"m m m"},pgftransformcurveattime:{signature:"m m m m m"},pgftransformarcaxesattime:{signature:"m m m m m m"},pgfgettransform:{signature:"m"},pgfsettransform:{signature:"m"},pgfgettransformentries:{signature:"m m m m m m"},pgfsettransformentries:{signature:"m m m m m m"},pgfpointtransformed:{signature:"m"},pgflowlevel:{signature:"m"},pgflowlevelobj:{signature:"m m"},pgflowlevelscope:{signature:"m"},startpgflowlevelscope:{signature:"m"},pgfviewboxscope:{signature:"m m m m m"},startpgfviewboxscope:{signature:"m m m m m"},pgftransformnonlinear:{signature:"m"},pgfpointtransformednonlinear:{signature:"m"},pgfsetcurvilinearbeziercurve:{signature:"m m m m"},pgfcurvilineardistancetotime:{signature:"m"},pgfpointcurvilinearbezierorthogonal:{signature:"m m"},pgfpointcurvilinearbezierpolar:{signature:"m m"},pgfmatrix:{signature:"m m m m m m m"},pgfsetmatrixcolumnsep:{signature:"m"},pgfmatrixnextcell:{signature:"o"},pgfsetmatrixrowsep:{signature:"m"},pgfmatrixendrow:{signature:"o"},pgfnode:{signature:"m m m m m"},pgfmultipartnode:{signature:"m m m m"},pgfcoordinate:{signature:"m m"},pgfnodealias:{signature:"m m"},pgfnoderename:{signature:"m m"},pgfpositionnodelater:{signature:"m"},pgfpositionnodenow:{signature:"m"},pgfnodepostsetupcode:{signature:"m m"},pgfpointanchor:{signature:"m m"},pgfpointshapeborder:{signature:"m m"},pgfdeclareshape:{signature:"m m"},saveddimen:{signature:"m m"},savedmacro:{signature:" m"},anchor:{signature:"m m"},deferredanchor:{signature:"m m"},anchorborder:{signature:"m"},backgroundpath:{signature:"m"},foregroundpath:{signature:"m"},behindbackgroundpath:{signature:"m"},beforebackgroundpath:{signature:"m"},beforeforegroundpath:{signature:"m"},behindforegroundpath:{signature:"m"},pgfdeclarearrow:{signature:"m"},pgfarrowssettipend:{signature:"m"},pgfarrowssetbackend:{signature:"m"},pgfarrowssetlineend:{signature:"m"},pgfarrowssetvisualbackend:{signature:"m"},pgfarrowssetvisualtipend:{signature:"m"},pgfarrowshullpoint:{signature:"m m"},pgfarrowsupperhullpoint:{signature:"m m"},pgfarrowssave:{signature:"m"},pgfarrowssavethe:{signature:"m"},pgfarrowsaddtooptions:{signature:"m"},pgfarrowsaddtolateoptions:{signature:"m"},pgfarrowsaddtolengthscalelist:{signature:"m"},pgfarrowsaddtowidthscalelist:{signature:"m"},pgfarrowsthreeparameters:{signature:"m"},pgfarrowslinewidthdependent:{signature:"m m m"},pgfarrowslengthdependent:{signature:"m"},pgfusepath:{signature:"m"},pgfsetlinewidth:{signature:"m"},pgfsetmiterlimit:{signature:"m"},pgfsetdash:{signature:"m m"},pgfsetstrokecolor:{signature:"m"},pgfsetcolor:{signature:"m"},pgfsetinnerlinewidth:{signature:"m"},pgfsetinnerstrokecolor:{signature:"m"},pgfsetarrowsstart:{signature:"m"},pgfsetarrowsend:{signature:"m"},pgfsetarrows:{signature:"m"},pgfsetshortenstart:{signature:"m"},pgfsetshortenend:{signature:"m"},pgfsetfillcolor:{signature:"m"},pgfdeclaredecoration:{signature:"m m m"},state:{signature:"m o m"},pgfdecoratepath:{signature:"m m"},startpgfdecoration:{signature:"m"},pgfdecoration:{signature:"m"},pgfdecoratecurrentpath:{signature:"m"},pgfsetdecorationsegmenttransformation:{signature:"m"},pgfdeclaremetadecorate:{signature:"m m m"},pgfmetadecoration:{signature:"m"},startpgfmetadecoration:{signature:"m"},pgfpathmoveto:{signature:"m"},pgfpathlineto:{signature:"m"},pgfpathcurveto:{signature:"m m m"},pgfpathquadraticcurveto:{signature:"m m"},pgfpathcurvebetweentime:{signature:"m m m m m m"},pgfpathcurvebetweentimecontinue:{signature:"m m m m m m"},pgfpatharc:{signature:"m m m"},pgfpatharcaxes:{signature:"m m m m"},pgfpatharcto:{signature:"m m m m m m"},pgfpatharctoprecomputed:{signature:"m m m m m m m m"},pgfpathellipse:{signature:"m m m"},pgfpathcircle:{signature:"m m"},pgfpathrectangle:{signature:"m m"},pgfpathrectanglecorners:{signature:"m m"},pgfpathgrid:{signature:" o m m"},pgfpathparabola:{signature:"m m"},pgfpathsine:{signature:"m"},pgfpathcosine:{signature:"m"},pgfsetcornersarced:{signature:"m"},"pgf@protocolsizes":{signature:"m m"},pgfpoint:{signature:"m m"},pgfpointpolar:{signature:"m m m"},pgfpointxy:{signature:"m m"},pgfsetxvec:{signature:"m"},pgfsetyvec:{signature:"m"},pgfpointpolarxy:{signature:"m m"},pgfpointxyz:{signature:"m m m"},pgfsetzvec:{signature:"m"},pgfpointcylindrical:{signature:"m m m"},pgfpointspherical:{signature:"m m m"},pgfpointadd:{signature:"m m"},pgfpointscale:{signature:"m m"},pgfpointdiff:{signature:"m m"},pgfpointnormalised:{signature:"m"},pgfpointlineattime:{signature:"m m m"},pgfpointlineatdistance:{signature:"m m m"},pgfpointarcaxesattime:{signature:"m m m m m m"},pgfpointcurveattime:{signature:"m m m m m"},pgfpointborderrectangle:{signature:"m m"},pgfpointborderellipse:{signature:"m m"},pgfpointintersectionoflines:{signature:"m m m m"},pgfpointintersectionofcircles:{signature:"m m m m m"},pgfintersectionofpaths:{signature:"m m"},pgfpointintersectionsolution:{signature:"m"},pgfextractx:{signature:"m m"},pgfextracty:{signature:"m m"},pgfgetlastxy:{signature:"m m"},"pgf@process":{signature:"m"},pgfsetbaseline:{signature:"m"},pgfsetbaselinepointnow:{signature:"m"},pgfsetbaselinepointlater:{signature:"m"},pgftext:{signature:"o m",renderInfo:{pgfkeysArgs:!0}},pgfuseid:{signature:"m"},pgfusetype:{signature:"m"},pgfidrefnextuse:{signature:"m m"},pgfidrefprevuse:{signature:"m m"},pgfaliasid:{signature:"m m"},pgfgaliasid:{signature:"m m"},pgfifidreferenced:{signature:"m m m"},pgfrdfabout:{signature:"m"},pgfrdfcontent:{signature:"m"},pgfrdfdatatype:{signature:"m"},pgfrdfhref:{signature:"m"},pgfrdfprefix:{signature:"m"},pgfrdfproperty:{signature:"m"},pgfrdfrel:{signature:"m"},pgfrdfresource:{signature:"m"},pgfrdfrev:{signature:"m"},pgfrdfsrc:{signature:"m"},pgfrdftypeof:{signature:"m"},pgfrdfvocab:{signature:"m"},pgferror:{signature:"m"},pgfwarning:{signature:"m"},path:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},draw:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},fill:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},filldraw:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},pattern:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},shade:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},clip:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},useasboundingbox:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},node:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},coordinate:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},graph:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},scoped:{signature:"o o m",argumentParser:qs,renderInfo:{namedArguments:["animation","options","command"],breakAround:!0}}};function Ou(){return{isChar:Ae.string,isTerminal:r=>Ae.string(r,";"),isOperation:r=>Ae.anyString(r)&&r.content.match(/[a-zA-Z]/),isWhitespace:r=>Ae.whitespace(r)||Ae.parbreak(r),isComment:Ae.comment,isGroup:Ae.group,isMacro:Ae.macro,isAnyMacro:Ae.anyMacro}}var _g=Ou();var Me=ii(Zs(),1);var Js={substitutecolormodel:{signature:"m m",renderInfo:{breakAround:!0}},selectcolormodel:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},providecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},colorlet:{signature:"o m o m",renderInfo:{breakAround:!0}},definecolorset:{signature:"o m m m",renderInfo:{breakAround:!0}},providecolorset:{signature:"o m m m m",renderInfo:{breakAround:!0}},preparecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},preparecolorset:{signature:"o m m m m",renderInfo:{breakAround:!0}},DefineNamedColor:{signature:"m m m m",renderInfo:{breakAround:!0}},definecolors:{signature:"m",renderInfo:{breakAround:!0}},providecolors:{signature:"m",renderInfo:{breakAround:!0}},color:{signature:"o m",renderInfo:{breakAround:!0}},textcolor:{signature:"o m m",renderInfo:{inParMode:!0}},pagecolor:{signature:"o m"},colorbox:{signature:"o m m"},fcolorbox:{signature:"o m o m m"},boxframe:{signature:"o m"},testcolor:{signature:"o m"},blendcolors:{signature:"s m"},maskcolors:{signature:"o m"},definecolorseries:{signature:"m m m o m o m",renderInfo:{breakAround:!0}},resetcolorseries:{signature:"o m",renderInfo:{breakAround:!0}},rowcolors:{signature:"s o m m m"},extractcolorspec:{signature:"m m"},extractcolorspecs:{signature:"m m m"},convertcolorspec:{signature:"m m m m"}},Qs={testcolors:{signature:"o",renderInfo:{pgfkeysArgs:!0}}},c=([r,t,s])=>(0,Me.default)([r*255,t*255,s*255],"rgb"),Vu={Apricot:(0,Me.default)("#FBB982"),Aquamarine:(0,Me.default)("#00B5BE"),Bittersweet:(0,Me.default)("#C04F17"),Black:(0,Me.default)("#221E1F"),Blue:(0,Me.default)("#2D2F92"),BlueGreen:(0,Me.default)("#00B3B8"),BlueViolet:(0,Me.default)("#473992"),BrickRed:(0,Me.default)("#B6321C"),Brown:(0,Me.default)("#792500"),BurntOrange:(0,Me.default)("#F7921D"),CadetBlue:(0,Me.default)("#74729A"),CarnationPink:(0,Me.default)("#F282B4"),Cerulean:(0,Me.default)("#00A2E3"),CornflowerBlue:(0,Me.default)("#41B0E4"),Cyan:(0,Me.default)("#00AEEF"),Dandelion:(0,Me.default)("#FDBC42"),DarkOrchid:(0,Me.default)("#A4538A"),Emerald:(0,Me.default)("#00A99D"),ForestGreen:(0,Me.default)("#009B55"),Fuchsia:(0,Me.default)("#8C368C"),Goldenrod:(0,Me.default)("#FFDF42"),Gray:(0,Me.default)("#949698"),Green:(0,Me.default)("#00A64F"),GreenYellow:(0,Me.default)("#DFE674"),JungleGreen:(0,Me.default)("#00A99A"),Lavender:(0,Me.default)("#F49EC4"),LimeGreen:(0,Me.default)("#8DC73E"),Magenta:(0,Me.default)("#EC008C"),Mahogany:(0,Me.default)("#A9341F"),Maroon:(0,Me.default)("#AF3235"),Melon:(0,Me.default)("#F89E7B"),MidnightBlue:(0,Me.default)("#006795"),Mulberry:(0,Me.default)("#A93C93"),NavyBlue:(0,Me.default)("#006EB8"),OliveGreen:(0,Me.default)("#3C8031"),Orange:(0,Me.default)("#F58137"),OrangeRed:(0,Me.default)("#ED135A"),Orchid:(0,Me.default)("#AF72B0"),Peach:(0,Me.default)("#F7965A"),Periwinkle:(0,Me.default)("#7977B8"),PineGreen:(0,Me.default)("#008B72"),Plum:(0,Me.default)("#92268F"),ProcessBlue:(0,Me.default)("#00B0F0"),Purple:(0,Me.default)("#99479B"),RawSienna:(0,Me.default)("#974006"),Red:(0,Me.default)("#ED1B23"),RedOrange:(0,Me.default)("#F26035"),RedViolet:(0,Me.default)("#A1246B"),Rhodamine:(0,Me.default)("#EF559F"),RoyalBlue:(0,Me.default)("#0071BC"),RoyalPurple:(0,Me.default)("#613F99"),RubineRed:(0,Me.default)("#ED017D"),Salmon:(0,Me.default)("#F69289"),SeaGreen:(0,Me.default)("#3FBC9D"),Sepia:(0,Me.default)("#671800"),SkyBlue:(0,Me.default)("#46C5DD"),SpringGreen:(0,Me.default)("#C6DC67"),Tan:(0,Me.default)("#DA9D76"),TealBlue:(0,Me.default)("#00AEB3"),Thistle:(0,Me.default)("#D883B7"),Turquoise:(0,Me.default)("#00B4CE"),Violet:(0,Me.default)("#58429B"),VioletRed:(0,Me.default)("#EF58A0"),White:(0,Me.default)("#FFFFFF"),WildStrawberry:(0,Me.default)("#EE2967"),Yellow:(0,Me.default)("#FFF200"),YellowGreen:(0,Me.default)("#98CC70"),YellowOrange:(0,Me.default)("#FAA21A")},Xu={AliceBlue:c([.94,.972,1]),AntiqueWhite:c([.98,.92,.844]),Aqua:c([0,1,1]),Aquamarine:c([.498,1,.83]),Azure:c([.94,1,1]),Beige:c([.96,.96,.864]),Bisque:c([1,.894,.77]),Black:c([0,0,0]),BlanchedAlmond:c([1,.92,.804]),Blue:c([0,0,1]),BlueViolet:c([.54,.17,.888]),Brown:c([.648,.165,.165]),BurlyWood:c([.87,.72,.53]),CadetBlue:c([.372,.62,.628]),Chartreuse:c([.498,1,0]),Chocolate:c([.824,.41,.116]),Coral:c([1,.498,.312]),CornflowerBlue:c([.392,.585,.93]),Cornsilk:c([1,.972,.864]),Crimson:c([.864,.08,.235]),Cyan:c([0,1,1]),DarkBlue:c([0,0,.545]),DarkCyan:c([0,.545,.545]),DarkGoldenrod:c([.72,.525,.044]),DarkGray:c([.664,.664,.664]),DarkGreen:c([0,.392,0]),DarkGrey:c([.664,.664,.664]),DarkKhaki:c([.74,.716,.42]),DarkMagenta:c([.545,0,.545]),DarkOliveGreen:c([.332,.42,.185]),DarkOrange:c([1,.55,0]),DarkOrchid:c([.6,.196,.8]),DarkRed:c([.545,0,0]),DarkSalmon:c([.912,.59,.48]),DarkSeaGreen:c([.56,.736,.56]),DarkSlateBlue:c([.284,.24,.545]),DarkSlateGray:c([.185,.31,.31]),DarkSlateGrey:c([.185,.31,.31]),DarkTurquoise:c([0,.808,.82]),DarkViolet:c([.58,0,.828]),DeepPink:c([1,.08,.576]),DeepSkyBlue:c([0,.75,1]),DimGray:c([.41,.41,.41]),DimGrey:c([.41,.41,.41]),DodgerBlue:c([.116,.565,1]),FireBrick:c([.698,.132,.132]),FloralWhite:c([1,.98,.94]),ForestGreen:c([.132,.545,.132]),Fuchsia:c([1,0,1]),Gainsboro:c([.864,.864,.864]),GhostWhite:c([.972,.972,1]),Gold:c([1,.844,0]),Goldenrod:c([.855,.648,.125]),Gray:c([.5,.5,.5]),Green:c([0,.5,0]),GreenYellow:c([.68,1,.185]),Grey:c([.5,.5,.5]),Honeydew:c([.94,1,.94]),HotPink:c([1,.41,.705]),IndianRed:c([.804,.36,.36]),Indigo:c([.294,0,.51]),Ivory:c([1,1,.94]),Khaki:c([.94,.9,.55]),Lavender:c([.9,.9,.98]),LavenderBlush:c([1,.94,.96]),LawnGreen:c([.488,.99,0]),LemonChiffon:c([1,.98,.804]),LightBlue:c([.68,.848,.9]),LightCoral:c([.94,.5,.5]),LightCyan:c([.88,1,1]),LightGoldenrod:c([.933,.867,.51]),LightGoldenrodYellow:c([.98,.98,.824]),LightGray:c([.828,.828,.828]),LightGreen:c([.565,.932,.565]),LightGrey:c([.828,.828,.828]),LightPink:c([1,.712,.756]),LightSalmon:c([1,.628,.48]),LightSeaGreen:c([.125,.698,.668]),LightSkyBlue:c([.53,.808,.98]),LightSlateBlue:c([.518,.44,1]),LightSlateGray:c([.468,.532,.6]),LightSlateGrey:c([.468,.532,.6]),LightSteelBlue:c([.69,.77,.87]),LightYellow:c([1,1,.88]),Lime:c([0,1,0]),LimeGreen:c([.196,.804,.196]),Linen:c([.98,.94,.9]),Magenta:c([1,0,1]),Maroon:c([.5,0,0]),MediumAquamarine:c([.4,.804,.668]),MediumBlue:c([0,0,.804]),MediumOrchid:c([.73,.332,.828]),MediumPurple:c([.576,.44,.86]),MediumSeaGreen:c([.235,.7,.444]),MediumSlateBlue:c([.484,.408,.932]),MediumSpringGreen:c([0,.98,.604]),MediumTurquoise:c([.284,.82,.8]),MediumVioletRed:c([.78,.084,.52]),MidnightBlue:c([.098,.098,.44]),MintCream:c([.96,1,.98]),MistyRose:c([1,.894,.884]),Moccasin:c([1,.894,.71]),NavajoWhite:c([1,.87,.68]),Navy:c([0,0,.5]),NavyBlue:c([0,0,.5]),OldLace:c([.992,.96,.9]),Olive:c([.5,.5,0]),OliveDrab:c([.42,.556,.136]),Orange:c([1,.648,0]),OrangeRed:c([1,.27,0]),Orchid:c([.855,.44,.84]),PaleGoldenrod:c([.932,.91,.668]),PaleGreen:c([.596,.985,.596]),PaleTurquoise:c([.688,.932,.932]),PaleVioletRed:c([.86,.44,.576]),PapayaWhip:c([1,.936,.835]),PeachPuff:c([1,.855,.725]),Peru:c([.804,.52,.248]),Pink:c([1,.752,.796]),Plum:c([.868,.628,.868]),PowderBlue:c([.69,.88,.9]),Purple:c([.5,0,.5]),Red:c([1,0,0]),RosyBrown:c([.736,.56,.56]),RoyalBlue:c([.255,.41,.884]),SaddleBrown:c([.545,.27,.075]),Salmon:c([.98,.5,.448]),SandyBrown:c([.956,.644,.376]),SeaGreen:c([.18,.545,.34]),Seashell:c([1,.96,.932]),Sienna:c([.628,.32,.176]),Silver:c([.752,.752,.752]),SkyBlue:c([.53,.808,.92]),SlateBlue:c([.415,.352,.804]),SlateGray:c([.44,.5,.565]),SlateGrey:c([.44,.5,.565]),Snow:c([1,.98,.98]),SpringGreen:c([0,1,.498]),SteelBlue:c([.275,.51,.705]),Tan:c([.824,.705,.55]),Teal:c([0,.5,.5]),Thistle:c([.848,.75,.848]),Tomato:c([1,.39,.28]),Turquoise:c([.25,.88,.815]),Violet:c([.932,.51,.932]),VioletRed:c([.816,.125,.565]),Wheat:c([.96,.87,.7]),White:c([1,1,1]),WhiteSmoke:c([.96,.96,.96]),Yellow:c([1,1,0]),YellowGreen:c([.604,.804,.196])},Ku={AntiqueWhite1:c([1,.936,.86]),AntiqueWhite2:c([.932,.875,.8]),AntiqueWhite3:c([.804,.752,.69]),AntiqueWhite4:c([.545,.512,.47]),Aquamarine1:c([.498,1,.83]),Aquamarine2:c([.464,.932,.776]),Aquamarine3:c([.4,.804,.668]),Aquamarine4:c([.27,.545,.455]),Azure1:c([.94,1,1]),Azure2:c([.88,.932,.932]),Azure3:c([.756,.804,.804]),Azure4:c([.512,.545,.545]),Bisque1:c([1,.894,.77]),Bisque2:c([.932,.835,.716]),Bisque3:c([.804,.716,.62]),Bisque4:c([.545,.49,.42]),Blue1:c([0,0,1]),Blue2:c([0,0,.932]),Blue3:c([0,0,.804]),Blue4:c([0,0,.545]),Brown1:c([1,.25,.25]),Brown2:c([.932,.23,.23]),Brown3:c([.804,.2,.2]),Brown4:c([.545,.136,.136]),Burlywood1:c([1,.828,.608]),Burlywood2:c([.932,.772,.57]),Burlywood3:c([.804,.668,.49]),Burlywood4:c([.545,.45,.332]),CadetBlue1:c([.596,.96,1]),CadetBlue2:c([.556,.898,.932]),CadetBlue3:c([.48,.772,.804]),CadetBlue4:c([.325,.525,.545]),Chartreuse1:c([.498,1,0]),Chartreuse2:c([.464,.932,0]),Chartreuse3:c([.4,.804,0]),Chartreuse4:c([.27,.545,0]),Chocolate1:c([1,.498,.14]),Chocolate2:c([.932,.464,.13]),Chocolate3:c([.804,.4,.112]),Chocolate4:c([.545,.27,.075]),Coral1:c([1,.448,.336]),Coral2:c([.932,.415,.312]),Coral3:c([.804,.356,.27]),Coral4:c([.545,.244,.185]),Cornsilk1:c([1,.972,.864]),Cornsilk2:c([.932,.91,.804]),Cornsilk3:c([.804,.785,.694]),Cornsilk4:c([.545,.532,.47]),Cyan1:c([0,1,1]),Cyan2:c([0,.932,.932]),Cyan3:c([0,.804,.804]),Cyan4:c([0,.545,.545]),DarkGoldenrod1:c([1,.725,.06]),DarkGoldenrod2:c([.932,.68,.055]),DarkGoldenrod3:c([.804,.585,.048]),DarkGoldenrod4:c([.545,.396,.03]),DarkOliveGreen1:c([.792,1,.44]),DarkOliveGreen2:c([.736,.932,.408]),DarkOliveGreen3:c([.635,.804,.352]),DarkOliveGreen4:c([.43,.545,.24]),DarkOrange1:c([1,.498,0]),DarkOrange2:c([.932,.464,0]),DarkOrange3:c([.804,.4,0]),DarkOrange4:c([.545,.27,0]),DarkOrchid1:c([.75,.244,1]),DarkOrchid2:c([.698,.228,.932]),DarkOrchid3:c([.604,.196,.804]),DarkOrchid4:c([.408,.132,.545]),DarkSeaGreen1:c([.756,1,.756]),DarkSeaGreen2:c([.705,.932,.705]),DarkSeaGreen3:c([.608,.804,.608]),DarkSeaGreen4:c([.41,.545,.41]),DarkSlateGray1:c([.592,1,1]),DarkSlateGray2:c([.552,.932,.932]),DarkSlateGray3:c([.475,.804,.804]),DarkSlateGray4:c([.32,.545,.545]),DeepPink1:c([1,.08,.576]),DeepPink2:c([.932,.07,.536]),DeepPink3:c([.804,.064,.464]),DeepPink4:c([.545,.04,.312]),DeepSkyBlue1:c([0,.75,1]),DeepSkyBlue2:c([0,.698,.932]),DeepSkyBlue3:c([0,.604,.804]),DeepSkyBlue4:c([0,.408,.545]),DodgerBlue1:c([.116,.565,1]),DodgerBlue2:c([.11,.525,.932]),DodgerBlue3:c([.094,.455,.804]),DodgerBlue4:c([.064,.305,.545]),Firebrick1:c([1,.19,.19]),Firebrick2:c([.932,.172,.172]),Firebrick3:c([.804,.15,.15]),Firebrick4:c([.545,.1,.1]),Gold1:c([1,.844,0]),Gold2:c([.932,.79,0]),Gold3:c([.804,.68,0]),Gold4:c([.545,.46,0]),Goldenrod1:c([1,.756,.145]),Goldenrod2:c([.932,.705,.132]),Goldenrod3:c([.804,.608,.112]),Goldenrod4:c([.545,.41,.08]),Green1:c([0,1,0]),Green2:c([0,.932,0]),Green3:c([0,.804,0]),Green4:c([0,.545,0]),Honeydew1:c([.94,1,.94]),Honeydew2:c([.88,.932,.88]),Honeydew3:c([.756,.804,.756]),Honeydew4:c([.512,.545,.512]),HotPink1:c([1,.43,.705]),HotPink2:c([.932,.415,.655]),HotPink3:c([.804,.376,.565]),HotPink4:c([.545,.228,.385]),IndianRed1:c([1,.415,.415]),IndianRed2:c([.932,.39,.39]),IndianRed3:c([.804,.332,.332]),IndianRed4:c([.545,.228,.228]),Ivory1:c([1,1,.94]),Ivory2:c([.932,.932,.88]),Ivory3:c([.804,.804,.756]),Ivory4:c([.545,.545,.512]),Khaki1:c([1,.965,.56]),Khaki2:c([.932,.9,.52]),Khaki3:c([.804,.776,.45]),Khaki4:c([.545,.525,.305]),LavenderBlush1:c([1,.94,.96]),LavenderBlush2:c([.932,.88,.898]),LavenderBlush3:c([.804,.756,.772]),LavenderBlush4:c([.545,.512,.525]),LemonChiffon1:c([1,.98,.804]),LemonChiffon2:c([.932,.912,.75]),LemonChiffon3:c([.804,.79,.648]),LemonChiffon4:c([.545,.536,.44]),LightBlue1:c([.75,.936,1]),LightBlue2:c([.698,.875,.932]),LightBlue3:c([.604,.752,.804]),LightBlue4:c([.408,.512,.545]),LightCyan1:c([.88,1,1]),LightCyan2:c([.82,.932,.932]),LightCyan3:c([.705,.804,.804]),LightCyan4:c([.48,.545,.545]),LightGoldenrod1:c([1,.925,.545]),LightGoldenrod2:c([.932,.864,.51]),LightGoldenrod3:c([.804,.745,.44]),LightGoldenrod4:c([.545,.505,.298]),LightPink1:c([1,.684,.725]),LightPink2:c([.932,.635,.68]),LightPink3:c([.804,.55,.585]),LightPink4:c([.545,.372,.396]),LightSalmon1:c([1,.628,.48]),LightSalmon2:c([.932,.585,.448]),LightSalmon3:c([.804,.505,.385]),LightSalmon4:c([.545,.34,.26]),LightSkyBlue1:c([.69,.888,1]),LightSkyBlue2:c([.644,.828,.932]),LightSkyBlue3:c([.552,.712,.804]),LightSkyBlue4:c([.376,.484,.545]),LightSteelBlue1:c([.792,.884,1]),LightSteelBlue2:c([.736,.824,.932]),LightSteelBlue3:c([.635,.71,.804]),LightSteelBlue4:c([.43,.484,.545]),LightYellow1:c([1,1,.88]),LightYellow2:c([.932,.932,.82]),LightYellow3:c([.804,.804,.705]),LightYellow4:c([.545,.545,.48]),Magenta1:c([1,0,1]),Magenta2:c([.932,0,.932]),Magenta3:c([.804,0,.804]),Magenta4:c([.545,0,.545]),Maroon1:c([1,.204,.7]),Maroon2:c([.932,.19,.655]),Maroon3:c([.804,.16,.565]),Maroon4:c([.545,.11,.385]),MediumOrchid1:c([.88,.4,1]),MediumOrchid2:c([.82,.372,.932]),MediumOrchid3:c([.705,.32,.804]),MediumOrchid4:c([.48,.215,.545]),MediumPurple1:c([.67,.51,1]),MediumPurple2:c([.624,.475,.932]),MediumPurple3:c([.536,.408,.804]),MediumPurple4:c([.365,.28,.545]),MistyRose1:c([1,.894,.884]),MistyRose2:c([.932,.835,.824]),MistyRose3:c([.804,.716,.71]),MistyRose4:c([.545,.49,.484]),NavajoWhite1:c([1,.87,.68]),NavajoWhite2:c([.932,.81,.63]),NavajoWhite3:c([.804,.7,.545]),NavajoWhite4:c([.545,.475,.37]),OliveDrab1:c([.752,1,.244]),OliveDrab2:c([.7,.932,.228]),OliveDrab3:c([.604,.804,.196]),OliveDrab4:c([.41,.545,.132]),Orange1:c([1,.648,0]),Orange2:c([.932,.604,0]),Orange3:c([.804,.52,0]),Orange4:c([.545,.352,0]),OrangeRed1:c([1,.27,0]),OrangeRed2:c([.932,.25,0]),OrangeRed3:c([.804,.215,0]),OrangeRed4:c([.545,.145,0]),Orchid1:c([1,.512,.98]),Orchid2:c([.932,.48,.912]),Orchid3:c([.804,.41,.79]),Orchid4:c([.545,.28,.536]),PaleGreen1:c([.604,1,.604]),PaleGreen2:c([.565,.932,.565]),PaleGreen3:c([.488,.804,.488]),PaleGreen4:c([.33,.545,.33]),PaleTurquoise1:c([.732,1,1]),PaleTurquoise2:c([.684,.932,.932]),PaleTurquoise3:c([.59,.804,.804]),PaleTurquoise4:c([.4,.545,.545]),PaleVioletRed1:c([1,.51,.67]),PaleVioletRed2:c([.932,.475,.624]),PaleVioletRed3:c([.804,.408,.536]),PaleVioletRed4:c([.545,.28,.365]),PeachPuff1:c([1,.855,.725]),PeachPuff2:c([.932,.796,.68]),PeachPuff3:c([.804,.688,.585]),PeachPuff4:c([.545,.468,.396]),Pink1:c([1,.71,.772]),Pink2:c([.932,.664,.72]),Pink3:c([.804,.57,.62]),Pink4:c([.545,.39,.424]),Plum1:c([1,.732,1]),Plum2:c([.932,.684,.932]),Plum3:c([.804,.59,.804]),Plum4:c([.545,.4,.545]),Purple1:c([.608,.19,1]),Purple2:c([.57,.172,.932]),Purple3:c([.49,.15,.804]),Purple4:c([.332,.1,.545]),Red1:c([1,0,0]),Red2:c([.932,0,0]),Red3:c([.804,0,0]),Red4:c([.545,0,0]),RosyBrown1:c([1,.756,.756]),RosyBrown2:c([.932,.705,.705]),RosyBrown3:c([.804,.608,.608]),RosyBrown4:c([.545,.41,.41]),RoyalBlue1:c([.284,.464,1]),RoyalBlue2:c([.264,.43,.932]),RoyalBlue3:c([.228,.372,.804]),RoyalBlue4:c([.152,.25,.545]),Salmon1:c([1,.55,.41]),Salmon2:c([.932,.51,.385]),Salmon3:c([.804,.44,.33]),Salmon4:c([.545,.298,.224]),SeaGreen1:c([.33,1,.624]),SeaGreen2:c([.305,.932,.58]),SeaGreen3:c([.264,.804,.5]),SeaGreen4:c([.18,.545,.34]),Seashell1:c([1,.96,.932]),Seashell2:c([.932,.898,.87]),Seashell3:c([.804,.772,.75]),Seashell4:c([.545,.525,.51]),Sienna1:c([1,.51,.28]),Sienna2:c([.932,.475,.26]),Sienna3:c([.804,.408,.224]),Sienna4:c([.545,.28,.15]),SkyBlue1:c([.53,.808,1]),SkyBlue2:c([.494,.752,.932]),SkyBlue3:c([.424,.65,.804]),SkyBlue4:c([.29,.44,.545]),SlateBlue1:c([.512,.435,1]),SlateBlue2:c([.48,.404,.932]),SlateBlue3:c([.41,.35,.804]),SlateBlue4:c([.28,.235,.545]),SlateGray1:c([.776,.888,1]),SlateGray2:c([.725,.828,.932]),SlateGray3:c([.624,.712,.804]),SlateGray4:c([.424,.484,.545]),Snow1:c([1,.98,.98]),Snow2:c([.932,.912,.912]),Snow3:c([.804,.79,.79]),Snow4:c([.545,.536,.536]),SpringGreen1:c([0,1,.498]),SpringGreen2:c([0,.932,.464]),SpringGreen3:c([0,.804,.4]),SpringGreen4:c([0,.545,.27]),SteelBlue1:c([.39,.72,1]),SteelBlue2:c([.36,.675,.932]),SteelBlue3:c([.31,.58,.804]),SteelBlue4:c([.21,.392,.545]),Tan1:c([1,.648,.31]),Tan2:c([.932,.604,.288]),Tan3:c([.804,.52,.248]),Tan4:c([.545,.352,.17]),Thistle1:c([1,.884,1]),Thistle2:c([.932,.824,.932]),Thistle3:c([.804,.71,.804]),Thistle4:c([.545,.484,.545]),Tomato1:c([1,.39,.28]),Tomato2:c([.932,.36,.26]),Tomato3:c([.804,.31,.224]),Tomato4:c([.545,.21,.15]),Turquoise1:c([0,.96,1]),Turquoise2:c([0,.898,.932]),Turquoise3:c([0,.772,.804]),Turquoise4:c([0,.525,.545]),VioletRed1:c([1,.244,.59]),VioletRed2:c([.932,.228,.55]),VioletRed3:c([.804,.196,.47]),VioletRed4:c([.545,.132,.32]),Wheat1:c([1,.905,.73]),Wheat2:c([.932,.848,.684]),Wheat3:c([.804,.73,.59]),Wheat4:c([.545,.494,.4]),Yellow1:c([1,1,0]),Yellow2:c([.932,.932,0]),Yellow3:c([.804,.804,0]),Yellow4:c([.545,.545,0]),Gray0:c([.745,.745,.745]),Green0:c([0,1,0]),Grey0:c([.745,.745,.745]),Maroon0:c([.69,.19,.376]),Purple0:c([.628,.125,.94])};var Lr={rgb:([r,t,s])=>(0,Me.default)([r*255,t*255,s*255],"rgb"),cmy:([r,t,s])=>Lr.rgb([1-r,1-t,1-s]),cmyk:([r,t,s,l])=>(0,Me.default)([r*255,t*255,s*255,l*100],"cmyk"),hsb:([r,t,s])=>(0,Me.default)([r*360,t*100,s*100],"hsv"),gray:([r])=>(0,Me.default)([r*255,r*255,r*255],"rgb")},Bg={wave:([r])=>{let s=[0,0,0];380<=r&&r<440&&(s=[(440-r)/(440-380),0,1]),440<=r&&r<490&&(s=[0,(r-440)/(490-440),1]),490<=r&&r<510&&(s=[0,1,(510-r)/(510-490)]),510<=r&&r<580&&(s=[(r-510)/(580-510),1,0]),580<=r&&r<6450&&(s=[1,(645-r)/(645-580),0]),645<=r&&r<=780&&(s=[1,0,0]);let l=1;380<=r&&420<r&&(l=.3+.7*(r-380)/(420-380)),700<r&&r<=780&&(l=.3+.7*(780-r)/(780-700));let n=[Math.pow(s[0]*l,.8),Math.pow(s[1]*l,.8),Math.pow(s[2]*l,.8)];return(0,Me.default)([n[0]*255,n[1]*255,n[2]*255],"rgb")},Hsb:([r,t,s])=>Lr.hsb([r/360,t,s]),HSB:([r,t,s])=>Lr.hsb([r/240,t/240,s/240]),HTML:([r])=>r.startsWith("#")?(0,Me.default)(r):(0,Me.default)(`#${r}`),RGB:([r,t,s])=>(0,Me.default)([r,t,s],"rgb"),Gray:([r])=>Lr.gray([r/15]),...Lr};var Tg={red:Lr.rgb([1,0,0]),green:Lr.rgb([0,1,0]),blue:Lr.rgb([0,0,1]),brown:Lr.rgb([.75,.5,.25]),lime:Lr.rgb([.75,1,0]),orange:Lr.rgb([1,.5,0]),pink:Lr.rgb([1,.75,.75]),purple:Lr.rgb([.75,0,.25]),teal:Lr.rgb([0,.5,.5]),violet:Lr.rgb([.5,0,.5]),cyan:Lr.rgb([0,1,1]),magenta:Lr.rgb([1,0,1]),yellow:Lr.rgb([1,1,0]),olive:Lr.rgb([.5,.5,0]),black:Lr.rgb([0,0,0]),darkgray:Lr.rgb([.25,.25,.25]),gray:Lr.rgb([.5,.5,.5]),lightgray:Lr.rgb([.75,.75,.75]),white:Lr.rgb([1,1,1]),...Vu,...Xu,...Ku};var eo={NewDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RenewDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},ProvideDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},DeclareDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},NewDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},RenewDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},ProvideDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},DeclareDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},NewExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RenewExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},ProvideExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},DeclareExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RequirePackage:{signature:"o m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}},DeclareOption:{signature:"m m",renderInfo:{breakAround:!0}}},ro={};var no={mode:{signature:"s d<> d{}",renderInfo:{breakAround:!0}},insertnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsectionnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsectionnavigationhorizontal:{signature:"m m m",renderInfo:{breakAround:!0}},insertauthor:{signature:"o",renderInfo:{breakAround:!0}},insertshortauthor:{signature:"o",renderInfo:{breakAround:!0}},insertshortdate:{signature:"o",renderInfo:{breakAround:!0}},insertshortinstitute:{signature:"o",renderInfo:{breakAround:!0}},insertshortpart:{signature:"o",renderInfo:{breakAround:!0}},insertshorttitle:{signature:"o",renderInfo:{breakAround:!0}},insertsubsectionnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsubsectionnavigationhorizontal:{signature:"m m m",renderInfo:{breakAround:!0}},insertverticalnavigation:{signature:"m",renderInfo:{breakAround:!0}},usebeamercolor:{signature:"s m",renderInfo:{breakAround:!0}},usebeamertemplate:{signature:"s m",renderInfo:{breakAround:!0}},setbeamercolor:{signature:"m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},setbeamersize:{signature:"m o o",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},setbeamertemplate:{signature:"m o o d{}",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},newcommand:{signature:"s d<> +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"name","numArgs","default","body"]}},renewcommand:{signature:"s d<> +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"name","numArgs","default","body"]}},newenvironment:{signature:"s d<> m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s d<> m o o m m",renderInfo:{breakAround:!0}},resetcounteronoverlays:{signature:"m",renderInfo:{breakAround:!0}},resetcountonoverlays:{signature:"m",renderInfo:{breakAround:!0}},logo:{signature:"m",renderInfo:{breakAround:!0}},frametitle:{signature:"d<> o m",renderInfo:{breakAround:!0}},framesubtitle:{signature:"d<> m",renderInfo:{breakAround:!0}},pause:{signature:"o"},onslide:{signature:"t+ t* d<> d{}"},only:{signature:"d<> m d<>"},uncover:{signature:"d<> m"},visible:{signature:"d<> m"},invisible:{signature:"d<> m"},alt:{signature:"d<> m m d<>"},temporal:{signature:"r<> m m m"},item:{signature:"d<> o d<>",renderInfo:{hangingIndent:!0,namedArguments:[null,"label",null]}},label:{signature:"d<> o m"},action:{signature:"d<> m"},beamerdefaultoverlayspecification:{signature:"m"},titlegraphic:{signature:"m",renderInfo:{breakAround:!0}},subject:{signature:"m",renderInfo:{breakAround:!0}},keywords:{signature:"m",renderInfo:{breakAround:!0}},lecture:{signature:"o m m",renderInfo:{breakAround:!0}},partpage:{renderInfo:{breakAround:!0}},sectionpage:{renderInfo:{breakAround:!0}},subsectionpage:{renderInfo:{breakAround:!0}},AtBeginLecture:{signature:"m",renderInfo:{breakAround:!0}},AtBeginPart:{signature:"m",renderInfo:{breakAround:!0}},tableofcontents:{signature:"o",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},againframe:{signature:"d<> o o m",renderInfo:{breakAround:!0}},framezoom:{signature:"r<> r<> o r() r()",renderInfo:{breakAround:!0}},column:{signature:"d<> o m",renderInfo:{breakAround:!0}},animate:{signature:"r<>",renderInfo:{breakAround:!0}},animatevalue:{signature:"r<> m m m",renderInfo:{breakAround:!0}},sound:{signature:"o m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},hyperlinksound:{signature:"o m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},hyperlinkmute:{signature:"m",renderInfo:{breakAround:!0}},section:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},subsection:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},subsubsection:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},part:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},bibitem:{signature:"s d<> o m",renderInfo:{hangingIndent:!0,namedArguments:["starred",null,"tocTitle","title"]}}},to={frame:{signature:"!d<> !o !o !d{} !d{}"},block:{signature:"!d<> !d{} !d<>"},alertblock:{signature:"!d<> !d{} !d<>"},exampleblock:{signature:"!d<> !d{} !d<>"},onlyenv:{signature:"!d<>"},altenv:{signature:"!d<> m m m m !d<>"},overlayarea:{signature:"m m"},overprint:{signature:"o"},actionenv:{signature:"!d<>"},columns:{signature:"d<> o"},column:{signature:"d<> o m"}};var io={columnbreak:{renderInfo:{breakAround:!0}}},ao={multicols:{signature:"m o o"},"multicols*":{signature:"m o o"}};var so={amsart:Wa,cleveref:Ga,exam:Ja,geometry:es,hyperref:ns,latex2e:is,listings:Es,makeidx:Is,mathtools:Ss,minted:Os,nicematrix:Bs,systeme:Ls,tikz:Ws,xcolor:Js,xparse:eo,beamer:no,multicol:io},oo={amsart:ja,cleveref:za,exam:Qa,geometry:rs,hyperref:ts,latex2e:as,listings:_s,makeidx:Ps,mathtools:Fs,minted:Ds,nicematrix:Ts,systeme:Ns,tikz:js,xcolor:Qs,xparse:ro,beamer:to,multicol:ao};function Ii(r,t){if(t.signature&&r.args==null){let{args:s}=zn(r.content,t.signature);r.args=s}Xn(r,t.renderInfo),typeof t.processContent=="function"&&(r.content=t.processContent(r.content))}function lo(r,t,s){let l=[],n={start:void 0,end:r.length};for(let o=0;o<r.length;o++){let e=r[o];t(e)&&(n.start=o),s(e)&&(n.end=o+1,l.push(n),n={start:void 0,end:r.length})}return n.start!=null&&l.push(n),l}function Yu(r){let t=[...r];t.sort((m,h)=>m.start-h.start);let s=new Set(t.flatMap(m=>[m.start,m.end])),l=Array.from(s);l.sort((m,h)=>m-h);let n=[],o=[],e=0;for(let m=0;m<l.length-1;m++){let h=l[m],_=l[m+1],P={start:h,end:_},U=new Set,ee=!1;for(let y=e;y<t.length;y++){let v=t[y];if(v.end>=P.start&&(ee=!0),!ee&&v.end<P.start){e=y+1;continue}if(v.start>_)break;v.start<=P.start&&v.end>=P.end&&(ee=!0,U.add(v))}U.size>0&&(n.push(P),o.push(U))}return{regions:n,regionsContainedIn:o}}function Zu(r,t){let s=[],l=[0,r.length],n={};for(let[o,e]of Object.entries(t))l.push(...e.flatMap(m=>(n[""+[m.start,m.end]]=o,[m.start,m.end])));l.sort((o,e)=>o-e);for(let o=0;o<l.length-1;o++){let e=l[o],m=l[o+1];if(e===m)continue;let h=n[""+[e,m]];s.push([h||null,r.slice(e,m)])}return s}function Ju(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qu(r){let t=`^(${["\\p{L}"].concat(Array.from(r).map(Ju)).join("|")})*`;return new RegExp(t,"u")}function ef(r,t){for(let s=0;s<r.length;s++){let l=r[s],n=r[s+1];if(Ae.anyMacro(l)&&Ae.anyString(n)&&(t.has(l.content.charAt(l.content.length-1))||t.has(n.content.charAt(0))))return!0}return!1}function Pi(r,t){typeof t=="string"&&(t=new Set(t.split("")));let s=t;for(let n of s)if(n.length>1)throw new Error(`Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${n}\`.`);let l=!1;return ln(r,n=>{if(ef(n,s))return l=!0,lt},{includeArrays:!0,test:Array.isArray}),l}function rf(r,t){var s,l,n;let o=Qu(t),e=0;for(;e<r.length;){let m=r[e],h=r[e+1];if(Ae.anyMacro(m)&&(m.escapeToken==null||m.escapeToken==="\\")&&Ae.anyString(h)&&(t.has(m.content.charAt(m.content.length-1))||t.has(h.content.charAt(0)))){let _=h.content.match(o),P=_?_[0]:"";P.length>0?P.length===h.content.length?(m.content+=h.content,r.splice(e+1,1),m.position&&((s=h.position)!=null&&s.end)&&(m.position.end=h.position.end)):(m.content+=P,h.content=h.content.slice(P.length),(l=m.position)!=null&&l.end&&(m.position.end.offset+=P.length,m.position.end.column+=P.length),(n=h.position)!=null&&n.start&&(h.position.start.offset+=P.length,h.position.start.column+=P.length)):e++}else++e}}function mt(r,t){typeof t=="string"&&(t=new Set(t.split("")));let s=t;for(let l of s)if(l.length>1)throw new Error(`Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${l}\`.`);ln(r,l=>{rf(l,s)},{includeArrays:!0,test:Array.isArray})}var uo={start:Ae.createMacroMatcher(["ExplSyntaxOn"]),end:Ae.createMacroMatcher(["ExplSyntaxOff"])},fo={start:Ae.createMacroMatcher(["makeatletter"]),end:Ae.createMacroMatcher(["makeatother"])};function nf(r){let t=lo(r,uo.start,uo.end),s=lo(r,fo.start,fo.end),l=new Map([...t.map(e=>[e,"expl"]),...s.map(e=>[e,"atLetter"])]),n=Yu([...t,...s]),o={explOnly:[],atLetterOnly:[],both:[]};for(let e=0;e<n.regions.length;e++){let m=n.regions[e],h=n.regionsContainedIn[e];if(h.size===2){o.both.push(m);continue}for(let _ of h.values())l.get(_)==="expl"&&o.explOnly.push(m),l.get(_)==="atLetter"&&o.atLetterOnly.push(m)}return o.explOnly=o.explOnly.filter(e=>e.end-e.start>1),o.atLetterOnly=o.atLetterOnly.filter(e=>e.end-e.start>1),o.both=o.both.filter(e=>e.end-e.start>1),o}var tf=new Set(["@"]),af=new Set(["_",":"]),sf=new Set(["_",":","@"]);function co(r){ln(r,{leave:t=>{let s=nf(t);if(s.both.length+s.atLetterOnly.length+s.explOnly.length===0)return;let n=Zu(t,s),o=[];for(let[e,m]of n)switch(e){case null:o.push(...m);continue;case"atLetterOnly":mt(m,tf),o.push(...m);continue;case"explOnly":mt(m,af),o.push(...m);continue;case"both":mt(m,sf),o.push(...m);continue;default:throw new Error(`Unexpected case when splitting ${e}`)}return t.length=0,t.push(...o),pi}},{includeArrays:!0,test:Array.isArray})}var Fi=function(){Object.assign(this,{Compiler:t=>t})};function of(r){return di.parse(r)}function Si(r){return di.parse(r,{startRule:"math"})}var lf=function(t){Object.assign(this,{Parser:l=>t?.mode==="math"?{type:"root",content:Si(l),_renderInfo:{inMathMode:!0}}:of(l)})};function uf({mathEnvs:r,mathMacros:t}){let s=Ae.createEnvironmentMatcher(r),l=Ae.createMacroMatcher(t);return n=>{ln(n,o=>{if(Ae.anyMacro(o))for(let e of o.args||[])e.content.length>0&&!go(e.content)&&(e.content=Si(bn(e.content)));Ae.anyEnvironment(o)&&(go(o.content)||(o.content=Si(bn(o.content))))},{test:o=>s(o)||l(o)})}}function go(r){return!r.some(t=>Ae.anyString(t)&&t.content.length>1||Ae.string(t,"^")||Ae.string(t,"_"))}var ff=function(t){let{environments:s={},macros:l={}}=t||{},n=Object.fromEntries(Object.entries(l).filter(([_,P])=>{var U;return((U=P.renderInfo)==null?void 0:U.inMathMode)===!0})),o=Object.fromEntries(Object.entries(s).filter(([_,P])=>{var U;return((U=P.renderInfo)==null?void 0:U.inMathMode)===!0})),e=uf({mathEnvs:Object.keys(o),mathMacros:Object.keys(n)}),m=Ae.createEnvironmentMatcher(s),h=Ae.createEnvironmentMatcher(o);return _=>{ln(_,{enter:P=>{Array.isArray(P)&&Jn(P,n)},leave:P=>{if(!h(P))return;let U=bn(P.env),ee=s[U];if(!ee)throw new Error(`Could not find environment info for environment "${U}"`);Ii(P,ee)}},{includeArrays:!0}),e(_),ln(_,{enter:P=>{Array.isArray(P)&&Jn(P,l)},leave:P=>{if(!m(P))return;let U=bn(P.env),ee=s[U];if(!ee)throw new Error(`Could not find environment info for environment "${U}"`);Ii(P,ee)}},{includeArrays:!0})}},cf=function(t){let{atLetter:s=!1,expl3:l=!1,autodetectExpl3AndAtLetter:n=!1}=t||{};return o=>{co(o),(s||l)&&(n=!1),n&&(s=Pi(o,"@"),l=Pi(o,"_"));let e=new Set;s&&e.add("@"),l&&(e.add(":"),e.add("_")),e.size>0&&mt(o,e)}},Ri=function(t){let{mode:s="regular",macros:l={},environments:n={},flags:{atLetter:o=!1,expl3:e=!1,autodetectExpl3AndAtLetter:m=!1}={}}=t||{},h=Object.assign({},...Object.values(so),l),_=Object.assign({},...Object.values(oo),n),P=st().use(lf,{mode:s}).use(cf,{atLetter:o,expl3:e,autodetectExpl3AndAtLetter:m}).use(ff,{macros:h,environments:_}).use(Va).use(Xa).use(Fi);Object.assign(this,{Parser:ee=>P.processSync({value:ee}).result})},B0=st().use(Ri).freeze();var dt={"[":"bracket.l","]":"bracket.r","{":"brace.l","}":"brace.r","(":"paren.l",")":"paren.r","|":"bar.v",lfloor:"floor.l","\u230A":"floor.l",rfloor:"floor.r","\u230B":"floor.r",rceil:"ceil.r","\u2309":"ceil.r",lceil:"ceil.l","\u2308":"ceil.l"};function po(r){let t=[],s={")":"(","]":"[","}":"{"};for(let l of r)if(l==="("||l==="["||l==="{")t.push(l);else if((l===")"||l==="]"||l==="}")&&(!t.length||s[l]!==t.pop()))return!1;return t.length===0}function gf(r){return!r?.content||r.content.length===0}var ho={",":r=>r.data.inFunction&&r._currentFunctions.slice(-1)[0]!=="text"?"comma":",","&":r=>r.data.inArray?",":"&","/":"\\/",";":"\\;","~":"med",'"':'\\"'};function An(r){return(t,s)=>{var l;let n=s.args;s.args=[];let o=((l=n?.[0].content)===null||l===void 0?void 0:l[0]).content,e=dt[o];if(!e)throw new Error(`Undefined left bracket: ${o}`);return`#scale(x: ${r}, y: ${r})[$${e}$]`}}function mo(r){var t,s,l;((s=(t=r.args)===null||t===void 0?void 0:t[0].content)===null||s===void 0?void 0:s.length)===1&&((l=r.args)===null||l===void 0?void 0:l[0].content)[0].type==="string"&&(r.args[0].content=r.args[0].content[0].content.split("").map(n=>({type:"string",content:n})))}var vo={$:"\\$",cdot:"dot.op",to:"arrow.r",rightarrow:"arrow.r",Rightarrow:"arrow.r.double",leftarrow:"arrow.l",Leftarrow:"arrow.l.double",leftrightarrow:"arrow.l.r",gets:"arrow.l",rightharpoonup:"harpoon.rt",rightharpoondown:"harpoon.rb",rightleftharpoons:"harpoons.rtlb",leftharpoonup:"harpoon.lt",leftharpoondown:"harpoon.lb",leftrightharpoons:"harpoons.ltrb",infin:"infinity",infty:"infinity",nonumber:"",int:"integral",iint:"integral.double",sqrt:(r,t)=>{var s;return gf((s=t.args)===null||s===void 0?void 0:s[0])?"sqrt":"root"},vec:"arrow",check:"caron",bar:"macron",mathbf:"bold",boldsymbol:"bold",bf:"bold",mathrm:"upright",textrm:"upright",rm:"upright",mbox:(r,t)=>{var s;let l=(s=t.args)===null||s===void 0?void 0:s[0];return t.args=[],r.openFunction("upright"),r.openFunction("text"),r.writeChildren(l),r.closeFunction(),r.closeFunction(),""},mathcal:"cal",mathfrak:"frak",pm:"plus.minus",partial:"diff",_:(r,t)=>(mo(t),"_"),"^":(r,t)=>(mo(t),"^"),big:An("120%"),bigl:An("120%"),bigr:An("120%"),Big:An("180%"),Bigl:An("180%"),Bigr:An("180%"),bigg:An("240%"),biggr:An("240%"),biggl:An("240%"),Bigg:An("300%"),Biggl:An("300%"),Biggr:An("300%"),left:(r,t)=>{var s;let l=t.args;t.args=[];let n=((s=l?.[0].content)===null||s===void 0?void 0:s[0]).content;if(n==="(")return"(";if(n==="[")return"[";if(n==="{")return"{";if(n==="|")return"|";if(n===".")return"";if(n==="lbrack")return"[";throw new Error(`Undefined left bracket: ${n}`)},lbrack:"[",right:(r,t)=>{var s;let l=t.args;t.args=[];let n=((s=l?.[0].content)===null||s===void 0?void 0:s[0]).content;if(n===")")return")";if(n==="]")return"]";if(n==="}")return"}";if(n==="|")return"|";if(n===".")return"";if(n==="rbrack")return"]";throw new Error(`Undefined right bracket: ${n}`)},rbrack:"]",operatorname:(r,t)=>{var s;let l=(s=t.args)===null||s===void 0?void 0:s.slice(-1)[0];return t.args=[{type:"macro",content:"text",args:[l]}],"op"},mathop:"op","\\":(r,t)=>{var s;return t.args=[],r.data.inArray?(r.data.previousMatRows=((s=r.data.previousMatRows)!==null&&s!==void 0?s:0)+1,r._value.slice(-1)==="]"&&r.addWhitespace(),";"):`\\
`},cr:(r,t)=>{var s;return t.args=[],r.data.inArray?(r.data.previousMatRows=((s=r.data.previousMatRows)!==null&&s!==void 0?s:0)+1,r._value.slice(-1)==="]"&&r.addWhitespace(),";"):`\\
`},sim:"tilde",cong:"tilde.equiv",simeq:"tilde.eq",ne:"!=",phi:"phi.alt",varphi:"phi.alt",varepsilon:"epsilon",propto:"prop",doteq:"dot(eq)",ge:"gt.eq",geq:"gt.eq",gg:"gt.double",le:"lt.eq",leq:"lt.eq",ll:"lt.double",neq:"eq.not",otimes:"times.circle",circ:"compose",vert:"bar.v",dot:"dot",ddot:"dot.double",dots:"dots.h",ldots:"dots.h",vdots:"dots.v",ddots:"dots.down",subseteq:"subset.eq",cdots:"dots.h.c",cap:"sect",cup:"union",widehat:"hat",widetilde:"tilde",",":"thin",":":"med",";":"thick","!":"#h(-1em)",quad:"quad",qquad:"wide",wedge:"and",prod:"product",lfloor:"floor.l",rfloor:"floor.r",langle:"angle.l",rangle:"angle.r",implies:"arrow.r.double.long"," ":'" "',mathbb:(r,t)=>{var s,l,n,o,e;let h=((e=(o=(n=(l=(s=t.args)===null||s===void 0?void 0:s.slice(-1)[0])===null||l===void 0?void 0:l.content)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)!==null&&e!==void 0?e:"").split("").map(_=>`${_}${_}`).join(" ");return t.args=[],h},mathscr:r=>(r.useMacro('#let scr(it) = text(features: ("ss01",), box($cal(it)$))'),"scr"),overset:(r,t)=>{var s;return r.useMacro('#import "@preview/ouset:0.2.0": *'),t.args=(s=t.args)===null||s===void 0?void 0:s.reverse(),"overset"},underset:(r,t)=>{var s;return r.useMacro('#import "@preview/ouset:0.2.0": *'),t.args=(s=t.args)===null||s===void 0?void 0:s.reverse(),"underset"},overrightarrow:(r,t)=>{var s;return(s=t.args)===null||s===void 0||s.push({type:"argument",content:[{type:"macro",content:"arrow"}]}),"accent"},overleftarrow:(r,t)=>{var s;return(s=t.args)===null||s===void 0||s.push({type:"argument",content:[{type:"macro",content:"arrow.l"}]}),"accent"},middle:r=>{var t;return`mat(delim: #("|", none), ${";".repeat((t=r.data.previousMatRows)!==null&&t!==void 0?t:1)})`},stackrel:(r,t)=>{var s;let l=(s=t.args)===null||s===void 0?void 0:s.reverse();return t.args=[],r.writeChildren(l?.[0]),r.write("^"),r.writeChildren(l?.[1]),""},color:(r,t)=>{var s,l,n;let[o,e]=(s=t.args)!==null&&s!==void 0?s:[],m=(n=(l=o.content)===null||l===void 0?void 0:l[0])===null||n===void 0?void 0:n.content;return t.args=[],r.openFunction(`#text(fill: ${m})`,{openToken:"[$",closeToken:"$]"}),r.writeChildren(e),r.closeFunction(),""}},rt=r=>(t,s)=>{t.data.inArray=!0,t.data.previousMatRows=0,t.openFunction("mat"),t.write(`delim: ${r?`"${r}"`:"#none"},`),t.writeChildren(s),t.closeFunction(),t.data.inArray=!1},yo={array:rt(),matrix:rt(),pmatrix:rt("("),bmatrix:rt("["),Bmatrix:rt("{"),vmatrix:rt("|"),aligned(r,t){r.writeChildren(t)},["aligned*"](r,t){r.writeChildren(t)}};function pf(r){return{type:"math",content:st().use(Ri,{mode:"math"}).use(Fi).use(Ms,{macros:{vec:{signature:"m"},boldsymbol:{signature:"m"},left:{signature:"m"},right:{signature:"m"},big:{signature:"m"},bigr:{signature:"m"},bigl:{signature:"m"},Big:{signature:"m"},Bigr:{signature:"m"},Bigl:{signature:"m"},bigg:{signature:"m"},biggr:{signature:"m"},biggl:{signature:"m"},Bigg:{signature:"m"},Biggr:{signature:"m"},Biggl:{signature:"m"},dot:{signature:"m"},ddot:{signature:"m"},hat:{signature:"m"},tilde:{signature:"m"},check:{signature:"m"},bar:{signature:"m"},widehat:{signature:"m"},widetilde:{signature:"m"},overset:{signature:"m m"},underset:{signature:"m m"},overbrace:{signature:"m"},overline:{signature:"m"},overparen:{signature:"m"},underbrace:{signature:"m"},underline:{signature:"m"},underparen:{signature:"m"},overrightarrow:{signature:"m"},overleftarrow:{signature:"m"},stackrel:{signature:"m m"},mathop:{signature:"m"},bf:{signature:"m"},textstyle:{signature:"m"}}}).processSync({value:r}).result.content}}function Oi(r){if(delete r.position,Array.isArray(r.content)){let t=r.content.map(n=>Oi(n)),s=0,l=t.reduce((n,o,e,m)=>{var h,_,P,U,ee,y,v;if(s>0)return s-=1,n;if(o.type==="string"&&(o.content==="_"||o.content==="^")){let{args:T,nodesRemoved:ve}=zn(m.slice(e+1),"m");o.type="macro",o.args=T,s+=ve}if(o.type==="macro"&&o.content==="color"){let{args:T,nodesRemoved:ve}=zn(m.slice(e+1),"m");o.type="macro",o.args=[...(_=(h=o.args)===null||h===void 0?void 0:h.slice(1))!==null&&_!==void 0?_:[],...T],s+=ve}if(o.type==="macro"&&o.content==="textstyle"&&(o.content="text"),o.type==="macro"&&(o.content==="overbrace"||o.content==="underbrace")){let{args:T,nodesRemoved:ve}=zn(m.slice(e+1),"m");if(T[0].content.length===1&&T[0].content[0].type==="macro"&&(T[0].content[0].content==="^"&&o.content==="overbrace"||T[0].content[0].content==="_"&&o.content==="underbrace")&&(o.args=[...(P=o.args)!==null&&P!==void 0?P:[],...T[0].content[0].args],s+=ve),T[0].content.length===1&&T[0].content[0].type==="string"&&(T[0].content[0].content==="^"&&o.content==="overbrace"||T[0].content[0].content==="_"&&o.content==="underbrace")){let{args:Ze,nodesRemoved:xr}=zn(m.slice(e+1),"m m");o.args=[...(U=o.args)!==null&&U!==void 0?U:[],Ze[1]],s+=xr}}if(o.type==="macro"&&o.content==="middle"&&((ee=m[e+1])===null||ee===void 0?void 0:ee.content)==="|"&&(s+=1),o.type==="group"&&(!((v=(y=o.content)===null||y===void 0?void 0:y.find)===null||v===void 0)&&v.call(y,T=>T.type==="macro"&&T.content==="over"))){let T=o.content;o.type="macro",o.content="frac";let ve=T.findIndex(Ze=>Ze.type==="macro"&&Ze.content==="over");o.args=[{type:"argument",content:T.slice(0,ve)},{type:"argument",content:T.slice(ve+1)}]}return n.push(o),n},[]);return r.content=l,{...r,content:l}}if(Array.isArray(r.args)){let t=r.args.map(s=>Oi(s));return r.args=t,{...r,args:t}}return r}var jt=class{constructor(t){var s;this._scriptsSimplified=!1,this._closeToken=[],this._currentFunctions=[],this._value="",this.data={writeOutBrackets:(s=t?.writeOutBrackets)!==null&&s!==void 0?s:!1}}get value(){return this._value}useMacro(t){this.data.macros||(this.data.macros=new Set),this.data.macros.add(t)}addWhitespace(){let t=this.value.slice(-1);if(!this._value||t.match(/^(["\s_^{(-])$/))return;let s=this.value.slice(-2);!this._value||s===")["||s==="[$"||(this._value+=" ")}write(t){if(t){if(Object.keys(dt).includes(t)&&this.data.inFunction&&this.data.writeOutBrackets){this.addWhitespace(),this._value+=dt[t];return}this._scriptsSimplified&&t==="("?this.addWhitespace():t.match(/^([})_^.,;!])$/)||t==='\\"'||this.addWhitespace(),this._scriptsSimplified=!1,this._value+=t}}writeChildren(t){var s;Array.isArray(t?.content)&&((s=t.content)===null||s===void 0||s.forEach(l=>{Di(l,this)}))}get _currentFunction(){return this._currentFunctions.slice(-1)[0]}get _functionCount(){return this._currentFunctions.length}openFunction(t,{openToken:s,closeToken:l}={}){t==="text"?this.addWhitespace():this.write(t),this._currentFunctions.push(t),this.data.inFunction=!0,this._simplify=t==="_"||t==="^",this._lastFunction=this._value.length,this._value+=s??(t==="text"?'"':"("),this._closeToken.push(l??(t==="text"?'"':")"))}closeFunction(){if(this._value+=this._closeToken.pop()||")",this._currentFunctions.pop(),this.data.inFunction=this._functionCount>=1,!this._simplify)return;let t=this._value.slice(this._lastFunction);t.match(/^\([a-zA-Z0-9]*\)$/)&&(this._value=this._value.slice(0,this._lastFunction)+t.slice(1,-1),this._scriptsSimplified=!0)}};function bo(r,t){if(t.type==="macro"&&typeof t.content=="string"){let s=vo[t.content],l=typeof s=="function"?s(r,t):s;return l??t.content}return""}function $o(r,t){let s=ho[t];return typeof s=="function"?s(r)||t:s||t}function Di(r,t=new jt){if(r.type==="whitespace")return t;if(r.type==="string"){let s=r.content;t._currentFunction==="text"?t.write($o(t,s)):s.split("").forEach(l=>{t.write($o(t,l))})}else if(r.type==="environment"&&Array.isArray(r.content)){let s=yo[r.env];s?.(t,r)}else if(Array.isArray(r.content)){let s=t.value.match(/([_^])$/)&&r.type==="group";s&&t.openFunction(""),t.writeChildren(r),s&&t.closeFunction()}else if(r.type==="macro"&&Array.isArray(r.args)){let s=bo(t,r);if(r.args.length===0)return t.write(s),t;t.openFunction(s),r.args.filter(l=>!(Array.isArray(l.content)&&l.content.length===0)).forEach((l,n)=>{n!==0&&t.write(","),Di(l,t)}),t.closeFunction()}else if(r.type==="macro"&&typeof r.content=="string"){let s=bo(t,r);t.write(s??r.content)}return t}function mf(r){return r.replace(/^(_|\^)/,'""$1').replace(/"([^"]*)"=/g,'"$1" =').replace(/(\d+)(?:\s+)(?=\d)/g,"$1")}function nt(r,t){let s=pf(r);Oi(s);let l=Di(s,new jt({writeOutBrackets:t?.writeOutBrackets})),n=mf(l.value);return t?.writeOutBrackets||po(n)?{value:n,macros:l.data.macros}:nt(r,{writeOutBrackets:!0})}function Ao(r,t){t.options.math&&Object.entries(t.options.math).forEach(([s,l])=>{var n;let o=nt(s).value;if(r.includes(o)){let e=nt(l.macro);t.data.mathPlugins[o]=e.value,(n=e.macros)===null||n===void 0||n.forEach(m=>{t.useMacro(m)})}})}function df(r,t){let s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp(`${s}(?![a-zA-Z])`,"g");return[...r.matchAll(l)].length>0}function hf(r,t,s){let l=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`${l}(?![a-zA-Z])`,"g");return r.replaceAll(n,s)}function Bi(r){let t=!1,s=Object.fromEntries(Object.entries(r).map(([l,n])=>{let o=n.macro;return Object.entries(r).forEach(([e,{macro:m}])=>{df(o,e)&&(l===e||(o=hf(o,e,m),t=!0))}),[l,{...n,macro:o}]}));return t?Bi(s):s}var vf=(r,t)=>{var s,l;let n=r.typst||r.value,{value:o,macros:e}=r.typst?{value:n,macros:void 0}:nt(r.value);e?.forEach(h=>{t.useMacro(h)});let{identifier:m}=(s=wa(r.label))!==null&&s!==void 0?s:{};Ao(o,t),t.ensureNewLine(),!((l=r.enumerator)===null||l===void 0)&&l.endsWith(".1")&&(t.write(`#set math.equation(numbering: "(${r.enumerator})")
`),t.write(`#counter(math.equation).update(0)

`)),t.write(`$ ${o} $${m?` <${m}>`:""}

`),t.ensureNewLine(!0)},yf=(r,t)=>{let s=r.typst||r.value,{value:l,macros:n}=r.typst?{value:s,macros:void 0}:nt(r.value);n?.forEach(o=>{t.useMacro(o)}),Ao(l,t),t.write(`$${l}$`)},bf={math:vf,inlineMath:yf},xo=bf;function $f(r){var t,s;let l=(t=r.children)===null||t===void 0?void 0:t.find(o=>o.type==="tableRow");return(s=l?.children)===null||s===void 0?void 0:s.filter(o=>o.type==="tableCell").reduce((o,e)=>{var m;return o+((m=e.colspan)!==null&&m!==void 0?m:1)},0)}function Af(r){var t;return r.type!=="tableRow"?!1:(t=r.children)===null||t===void 0?void 0:t.filter(s=>s.type==="tableCell").every(s=>s.header)}function xf(r){var t,s;let l=(t=r.children)===null||t===void 0?void 0:t.filter(n=>Af(n));return(s=l?.length)!==null&&s!==void 0?s:0}var wo=(r,t)=>{let s=t.data.isInTable;t.data.isInTable=!0;let l=t.data.isInFigure?"tablex":"#tablex",n=$f(r);if(!n){Fn(t.file,"Unable to count table columns",{node:r,source:"myst-to-typst"});return}t.useMacro('#import "@preview/tablex:0.0.9": tablex, cellx, hlinex, vlinex'),t.useMacro("#let tableStyle = (:)"),t.useMacro("#let columnStyle = (:)"),t.write(`${l}(columns: ${n}, header-rows: ${xf(r)}, repeat-header: true, ..tableStyle, ..columnStyle,
`),t.renderChildren(r,1),t.write(`)
`),t.data.isInTable=s},ko=(r,t)=>{t.renderChildren(r,1)},Co=(r,t)=>{var s,l;if(r.rowspan||r.colspan||r.align||!((s=r.style)===null||s===void 0)&&s.backgroundColor){if(t.write("cellx("),r.rowspan&&t.write(`rowspan: ${r.rowspan}, `),r.colspan&&t.write(`colspan: ${r.colspan}, `),r.align&&t.write(`align: ${r.align}, `),!((l=r.style)===null||l===void 0)&&l.backgroundColor){let n=r.style.backgroundColor,o=n.startsWith("#");t.write(`fill: ${o?`rgb("${n}")`:n}, `)}t.write(")")}t.write(`[
`),t.renderChildren(r,1),t.write(`],
`)};var wf=`
#let proof(body, heading: [], kind: "proof", supplement: "Proof", labelName: none, color: blue, float: true) = {
  let stroke = 1pt + color.lighten(90%)
  let fill = color.lighten(90%)
  let title
  set figure.caption(position: top)
  set figure(placement: none)
  show figure.caption.where(body: heading): (it) => {
    block(width: 100%, stroke: stroke, fill: fill, inset: 8pt, it)
  }
  place(auto, float: float, block(width: 100%, [
    #figure(kind: kind, supplement: supplement, gap: 0pt, [
      #set align(left);
      #set figure.caption(position: bottom)
      #block(width: 100%, fill: luma(253), stroke: stroke, inset: 8pt)[#body]
    ], caption: heading)
    #if(labelName != none){label(labelName)}
  ]))
}`;function Ti(r,t,s){t.useMacro(wf);let l=Mt("admonitionTitle",r),n=si(s);t.write(`#proof(kind: "${s}", supplement: "${n}", labelName: ${r.identifier?`"${r.identifier}"`:"none"}`),l?(t.write(", heading: ["),t.renderChildren(l),t.write(`])[
`)):t.write(`)[
`),t.renderChildren(r),t.write("]"),t.ensureNewLine()}var Mo={proof(r,t){Ti(r,t,r.kind||"proof")},exercise(r,t){Ti(r,t,"exercise")},solution(r,t){Ti(r,t,"solution")}};var kf=`#let admonition(body, heading: none, color: blue) = {
  let stroke = (left: 2pt + color.darken(20%))
  let fill = color.lighten(80%)
  let title
  if heading != none {
    title = block(width: 100%, inset: (x: 8pt, y: 4pt), fill: fill, below: 0pt, radius: (top-right: 2pt))[#text(11pt, weight: "bold")[#heading]]
  }
  block(width: 100%, stroke: stroke, [
    #title
  #block(fill: luma(240), width: 100%, inset: 8pt, radius: (bottom-right: 2pt))[#body]
])
}`,Cf={attention:"#let attentionBlock(body, heading: [Attention]) = admonition(body, heading: heading, color: yellow)",caution:"#let cautionBlock(body, heading: [Caution]) = admonition(body, heading: heading, color: yellow)",danger:"#let dangerBlock(body, heading: [Danger]) = admonition(body, heading: heading, color: red)",error:"#let errorBlock(body, heading: [Error]) = admonition(body, heading: heading, color: red)",hint:"#let hintBlock(body, heading: [Hint]) = admonition(body, heading: heading, color: green)",important:"#let importantBlock(body, heading: [Important]) = admonition(body, heading: heading, color: blue)",note:"#let noteBlock(body, heading: [Note]) = admonition(body, heading: heading, color: blue)",seealso:"#let seealsoBlock(body, heading: [See Also]) = admonition(body, heading: heading, color: green)",tip:"#let tipBlock(body, heading: [Tip]) = admonition(body, heading: heading, color: green)",warning:"#let warningBlock(body, heading: [Warning]) = admonition(body, heading: heading, color: yellow)"},Mf=`
#let tabSet(body) = {
  block(width: 100%, stroke: luma(240), [#body])
}`,Ef=`
#let tabItem(body, heading: none) = {
  let title
  if heading != none {
    title = block(width: 100%, inset: (x: 8pt, y: 4pt), fill: luma(250))[#text(9pt, weight: "bold")[#heading]]
  }
  block(width: 100%, [
    #title
    #block(width: 100%, inset: (x: 8pt, bottom: 8pt))[#body]
  ])
}`,_f="  ",Eo=(r,t)=>{let s=r.url;t.write('#link("'),t.write(La(s)),t.write('")'),r.children.length&&r.children[0].value!==s&&(t.write("["),t.renderChildren(r),t.write("]"))};function _o(r,t){var s,l;let n=(s=r?.children)===null||s===void 0?void 0:s.findIndex(e=>e===t);if(!n)return!1;let o=(l=r?.children)===null||l===void 0?void 0:l[n-1];return o?.value&&o?.type==="text"&&!!o.value.match(/[a-zA-Z0-9\-_]$/)||!1}function Li(r,t){var s,l;let n=(s=r?.children)===null||s===void 0?void 0:s.findIndex(e=>e===t);if(!n)return!1;let o=(l=r?.children)===null||l===void 0?void 0:l[n+1];return o?.value&&o?.type==="text"&&!!o.value.match(/^[a-zA-Z0-9\-_]/)||!1}var Io={text(r,t){t.text(r.value.replaceAll(`
`," "))},paragraph(r,t){let{identifier:s}=r,l=s?` <${s}>`:void 0;t.renderChildren(r,2,{after:l})},heading(r,t){let{depth:s,identifier:l,enumerated:n,implicit:o}=r;t.write(`${Array(s).fill("=").join("")} `),t.renderChildren(r),n!==!1&&l&&!o&&t.write(` <${l}>`),t.write(`

`)},block(r,t){let s=ka(r);s.includes("no-typst")||s.includes("no-pdf")||r.visibility==="remove"||r.visibility==="hide"||((s.includes("page-break")||s.includes("new-page"))&&t.write(`#pagebreak(weak: true)
`),t.renderChildren(r,2))},blockquote(r,t){if(t.data.isInBlockquote){t.renderChildren(r);return}t.write("#quote(block: true)["),t.renderChildren(r),t.write("]")},definitionList(r,t){let s=!1;t.data.definitionIndent?(t.write(`#set terms(indent: ${t.data.definitionIndent}em)`),t.data.definitionIndent+=2,s=!0):t.data.definitionIndent=2,t.renderChildren(r,1),t.data.definitionIndent-=2,s&&t.write(`#set terms(indent: ${t.data.definitionIndent-2}em)
`)},definitionTerm(r,t){t.ensureNewLine(),t.write("/ "),t.renderChildren(r),t.write(": ")},definitionDescription(r,t){t.renderChildren(r)},code(r,t){var s;if(r.visibility==="remove"||r.visibility==="hide")return;let l="```";for(;r.value.includes(l);)l+="`";let n=`${l}${(s=r.lang)!==null&&s!==void 0?s:""}
`,o=`
${l}`;t.write(n),t.write(r.value),t.write(o),t.ensureNewLine(!0),t.addNewLine()},list(r,t){var s,l;let n=r.ordered&&r.start&&r.start!==1;n&&t.write(`#set enum(start: ${r.start})`),(s=(l=t.data).list)!==null&&s!==void 0||(l.list={env:[]}),t.data.list.env.push(r.ordered?"+":"-"),t.renderChildren(r,n?1:2),t.data.list.env.pop(),n&&t.write(`#set enum(start: 1)

`)},listItem(r,t){var s,l,n;let o=(l=(s=t.data.list)===null||s===void 0?void 0:s.env)!==null&&l!==void 0?l:[],e=Array(Math.max(o.length-1,0)).fill(_f).join(""),m=(n=o.slice(-1)[0])!==null&&n!==void 0?n:"-";t.ensureNewLine(),t.write(`${e}${m} `),t.renderChildren(r,1)},thematicBreak(r,t){t.write(`#line(length: 100%, stroke: gray)

`)},...xo,mystRole(r,t){t.renderChildren(r)},mystDirective(r,t){t.renderChildren(r,2)},comment(r,t){var s,l;t.ensureNewLine(),!((s=r.value)===null||s===void 0)&&s.includes(`
`)?t.write(`/*
${r.value}
*/

`):t.write(`// ${(l=r.value)!==null&&l!==void 0?l:""}

`)},strong(r,t,s){let l=_o(s,r),n=Li(s,r);fi(r)&&!(l||n)?(t.write("*"),t.renderChildren(r),t.write("*")):t.renderInlineEnvironment(r,"strong")},emphasis(r,t,s){let l=_o(s,r),n=Li(s,r);fi(r)&&!l&&!n?(t.write("_"),t.renderChildren(r),t.write("_")):t.renderInlineEnvironment(r,"emph")},underline(r,t){t.renderInlineEnvironment(r,"underline")},smallcaps(r,t){t.renderInlineEnvironment(r,"smallcaps")},inlineCode(r,t){let s="`",l=ai(r);for(;s==="``"||l.includes(s);)s+="`";t.write(s),l.startsWith("`")&&t.write(" "),t.write(l),l.endsWith("`")&&t.write(" "),t.write(s)},subscript(r,t){t.renderInlineEnvironment(r,"sub")},superscript(r,t){t.renderInlineEnvironment(r,"super")},delete(r,t){t.renderInlineEnvironment(r,"strike")},break(r,t){t.write(" \\"),t.ensureNewLine()},abbreviation(r,t){t.renderChildren(r)},inlineExpression(r,t){xa(t.file,"inlineExpression rendering in typst is in beta",{node:r,note:"Rendering will work only for text nodes"}),t.renderChildren(r)},link:Eo,admonition(r,t){t.useMacro(kf),t.ensureNewLine();let s=Mt("admonitionTitle",r);if(!r.kind){Fn(t.file,"Unknown admonition kind",{node:r,source:"myst-to-typst"});return}t.useMacro(Cf[r.kind]),t.write(`#${r.kind}Block`),s&&ai(s).toLowerCase().replaceAll(" ","")!==r.kind&&(t.write("(heading: ["),t.renderChildren(s),t.write("])")),t.write(`[
`),t.renderChildren(r),t.write(`
]

`)},admonitionTitle(){},table:wo,tableRow:ko,tableCell:Co,image(r,t){let{width:s,url:l,align:n}=r,o=l,e=Vn(s),m=t.data.isInTable||!t.data.isInFigure?"#image":"image";t.write(`${m}("${o}"`),t.data.isInTable||t.write(`, width: ${e}`),t.write(`)

`)},iframe(r,t){var s;let l=(s=r.children)===null||s===void 0?void 0:s[0];if(!l||l.placeholder!==!0)return;let{width:n,url:o,align:e}=l,m=o,h=Vn(n);t.write(`#image("${m}"`),t.data.isInTable||t.write(`, width: ${h}`),t.write(`)

`)},container:_a,caption:oi,legend:oi,captionNumber:()=>{},crossReference(r,t,s){var l;if(r.remoteBaseUrl){let o=r.remoteBaseUrl+(r.url==="/"?"":(l=r.url)!==null&&l!==void 0?l:"")+(r.html_id?`#${r.html_id}`:"");Eo({...r,url:o},t);return}let n=r.identifier;if(r.children&&r.children.length>0)t.write(`#link(<${n}>)[`),t.renderChildren(r),t.write("]");else{let o=Li(s,r);t.write(o?`#[@${n}]`:`@${n}`)}},citeGroup(r,t){t.renderChildren(r,0,{delim:" "})},cite(r,t){let l=!/^[a-zA-Z0-9_\-:.]+$/.test(r.label)?`label("${r.label}")`:`<${r.label}>`;t.write(`#cite(${l}`),r.kind==="narrative"&&t.write(', form: "prose"'),r.suffix&&t.write(`, supplement: [${r.suffix}]`),t.write(")")},embed(r,t){t.renderChildren(r,2)},include(r,t){t.renderChildren(r,2)},footnoteReference(r,t){if(!r.identifier)return;let s=t.footnotes[r.identifier];if(!s){Fn(t.file,`Unknown footnote identifier "${r.identifier}"`,{node:r,source:"myst-to-typst"});return}t.write("#footnote["),t.renderChildren(s),t.write("]")},footnoteDefinition(){},div(r,t){t.renderChildren(r,1)},span(r,t){t.renderChildren(r,0,{trimEnd:!1})},raw(r,t){var s;r.typst?t.write(r.typst):!((s=r.children)===null||s===void 0)&&s.length&&t.renderChildren(r,void 0,{trimEnd:!1})},tabSet(r,t){t.useMacro(Mf),t.write(`#tabSet[
`),t.renderChildren(r),t.write(`
]

`)},tabItem(r,t){t.useMacro(Ef),t.ensureNewLine();let s=r.title;t.write(`#tabItem(heading: [${s}])[
`),t.renderChildren(r),t.write(`
]

`)},card(r,t){var s;r.url&&((s=r.children)===null||s===void 0||s.push({type:"paragraph",children:[{type:"text",value:r.url}]})),t.renderChildren(r),t.ensureNewLine(),t.write(`
`)},cardTitle(r,t){t.write("*"),t.renderChildren(r),t.write("*"),t.ensureNewLine(),t.write(`
`)},root(r,t){t.renderChildren(r)},footer(){},...Mo},Ni=class{constructor(t,s,l){var n;t.result="",this.file=t;let{math:o,...e}=l??{};this.options={...e},o&&(this.options.math=Bi(o)),this.data={mathPlugins:{},macros:new Set},this.handlers=(n=l?.handlers)!==null&&n!==void 0?n:Io,this.footnotes=Object.fromEntries(Ca("footnoteDefinition",s).map(m=>{let h=m;return[h.identifier,h]})),this.renderChildren(s)}get out(){return this.file.result}useMacro(t){this.data.macros.add(t)}write(t){this.file.result+=t}text(t,s=!1){let l=s?qa(t):Na(t);this.write(l)}trimEnd(){this.file.result=this.out.trimEnd()}addNewLine(){this.write(`
`)}ensureNewLine(t=!1){t&&this.trimEnd(),!this.out.endsWith(`
`)&&this.addNewLine()}renderChildren(t,s=0,l={}){var n,o,e;if(Array.isArray(t)){this.renderChildren({children:t},s,l);return}let{delim:m="",trimEnd:h=!0,after:_}=l,P=(o=(n=t.children)===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0;(e=t.children)===null||e===void 0||e.forEach((U,ee)=>{if(!U)return;let y=this.handlers[U?.type];y?y(U,this,t):Fn(this.file,`Unhandled Typst conversion for node of "${U?.type}"`,{node:U,source:"myst-to-typst"}),m&&ee+1<P&&this.write(m)}),h&&this.trimEnd(),_&&this.write(_);for(let U=s;U--;)this.addNewLine()}renderEnvironment(t,s){this.file.result+=`#${s}[
`,this.renderChildren(t,1),this.file.result+=`]

`}renderInlineEnvironment(t,s){this.file.result+=`#${s}[`,this.renderChildren(t),this.file.result+="]"}},If=function(r){return this.Compiler=(t,s)=>{let l=new Ni(s,t,r??{handlers:Io}),n=s.result.trim(),o={macros:[...l.data.macros],commands:l.data.mathPlugins,value:n};return s.result=o,s},t=>t},up=If;export{up as default};
