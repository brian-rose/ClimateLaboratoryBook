import{a as ee,b as F}from"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-J6FHCSRC.js";import{c as v,e as _}from"/ClimateLaboratoryBook/_preview/169/build/_shared/chunk-2NH4LW52.js";var H=v((fe,G)=>{"use strict";var S=Object.prototype.hasOwnProperty,q=Object.prototype.toString,N=Object.defineProperty,D=Object.getOwnPropertyDescriptor,L=function(e){return typeof Array.isArray=="function"?Array.isArray(e):q.call(e)==="[object Array]"},B=function(e){if(!e||q.call(e)!=="[object Object]")return!1;var o=S.call(e,"constructor"),l=e.constructor&&e.constructor.prototype&&S.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!l)return!1;var i;for(i in e);return typeof i>"u"||S.call(e,i)},U=function(e,o){N&&o.name==="__proto__"?N(e,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):e[o.name]=o.newValue},Y=function(e,o){if(o==="__proto__")if(S.call(e,o)){if(D)return D(e,o).value}else return;return e[o]};G.exports=function t(){var e,o,l,i,n,a,u=arguments[0],y=1,g=arguments.length,w=!1;for(typeof u=="boolean"&&(w=u,u=arguments[1]||{},y=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});y<g;++y)if(e=arguments[y],e!=null)for(o in e)l=Y(u,o),i=Y(e,o),u!==i&&(w&&i&&(B(i)||(n=L(i)))?(n?(n=!1,a=l&&L(l)?l:[]):a=l&&B(l)?l:{},U(u,{name:o,newValue:t(w,a,i)})):typeof i<"u"&&U(u,{name:o,newValue:i}));return u}});function C(t){if(t)throw t}var R=_(ee(),1),V=_(H(),1);function E(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function z(){let t=[],e={run:o,use:l};return e;function o(...i){let n=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(y,...g){let w=t[++n],b=-1;if(y){a(y);return}for(;++b<i.length;)(g[b]===null||g[b]===void 0)&&(g[b]=i[b]);i=g,w?J(w,u)(...g):a(null,...g)}}function l(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function J(t,e){let o;return l;function l(...a){let u=t.length>a.length,y;u&&a.push(i);try{y=t.apply(this,a)}catch(g){let w=g;if(u&&o)throw w;return i(w)}u||(y&&y.then&&typeof y.then=="function"?y.then(n,i):y instanceof Error?i(y):n(y))}function i(a,...u){o||(o=!0,e(a,...u))}function n(a){i(null,a)}}var te=X().freeze(),W={}.hasOwnProperty;function X(){let t=z(),e=[],o={},l,i=-1;return n.data=a,n.Parser=void 0,n.Compiler=void 0,n.freeze=u,n.attachers=e,n.use=y,n.parse=g,n.stringify=w,n.run=b,n.runSync=Z,n.process=$,n.processSync=k,n;function n(){let r=X(),f=-1;for(;++f<e.length;)r.use(...e[f]);return r.data((0,V.default)(!0,{},o)),r}function a(r,f){return typeof r=="string"?arguments.length===2?(I("data",l),o[r]=f,n):W.call(o,r)&&o[r]||null:r?(I("data",l),o=r,n):o}function u(){if(l)return n;for(;++i<e.length;){let[r,...f]=e[i];if(f[0]===!1)continue;f[0]===!0&&(f[0]=void 0);let s=r.call(n,...f);typeof s=="function"&&t.use(s)}return l=!0,i=Number.POSITIVE_INFINITY,n}function y(r,...f){let s;if(I("use",l),r!=null)if(typeof r=="function")x(r,...f);else if(typeof r=="object")Array.isArray(r)?O(r):m(r);else throw new TypeError("Expected usable value, not `"+r+"`");return s&&(o.settings=Object.assign(o.settings||{},s)),n;function d(c){if(typeof c=="function")x(c);else if(typeof c=="object")if(Array.isArray(c)){let[p,...h]=c;x(p,...h)}else m(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function m(c){O(c.plugins),c.settings&&(s=Object.assign(s||{},c.settings))}function O(c){let p=-1;if(c!=null)if(Array.isArray(c))for(;++p<c.length;){let h=c[p];d(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function x(c,p){let h=-1,P;for(;++h<e.length;)if(e[h][0]===c){P=e[h];break}P?(E(P[1])&&E(p)&&(p=(0,V.default)(!0,P[1],p)),P[1]=p):e.push([...arguments])}}function g(r){n.freeze();let f=A(r),s=n.Parser;return j("parse",s),K(s,"parse")?new s(String(f),f).parse():s(String(f),f)}function w(r,f){n.freeze();let s=A(f),d=n.Compiler;return T("stringify",d),M(r),K(d,"compile")?new d(r,s).compile():d(r,s)}function b(r,f,s){if(M(r),n.freeze(),!s&&typeof f=="function"&&(s=f,f=void 0),!s)return new Promise(d);d(null,s);function d(m,O){t.run(r,A(f),x);function x(c,p,h){p=p||r,c?O(c):m?m(p):s(null,p,h)}}}function Z(r,f){let s,d;return n.run(r,f,m),Q("runSync","run",d),s;function m(O,x){C(O),s=x,d=!0}}function $(r,f){if(n.freeze(),j("process",n.Parser),T("process",n.Compiler),!f)return new Promise(s);s(null,f);function s(d,m){let O=A(r);n.run(n.parse(O),O,(c,p,h)=>{if(c||!p||!h)x(c);else{let P=n.stringify(p,h);P==null||(oe(P)?h.value=P:h.result=P),x(c,h)}});function x(c,p){c||!p?m(c):d?d(p):f(null,p)}}}function k(r){let f;n.freeze(),j("processSync",n.Parser),T("processSync",n.Compiler);let s=A(r);return n.process(s,d),Q("processSync","process",f),s;function d(m){f=!0,C(m)}}}function K(t,e){return typeof t=="function"&&t.prototype&&(ne(t.prototype)||e in t.prototype)}function ne(t){let e;for(e in t)if(W.call(t,e))return!0;return!1}function j(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function T(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function I(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function M(t){if(!E(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Q(t,e,o){if(!o)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function A(t){return re(t)?t:new F(t)}function re(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function oe(t){return typeof t=="string"||(0,R.default)(t)}export{H as a,te as b};
